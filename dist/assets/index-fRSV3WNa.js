function hN(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function su(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cp={exports:{}},_s={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function gN(){if(n1)return _s;n1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,o){var s=null;if(o!==void 0&&(s=""+o),r.key!==void 0&&(s=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:t,type:i,key:s,ref:r!==void 0?r:null,props:o}}return _s.Fragment=e,_s.jsx=n,_s.jsxs=n,_s}var i1;function yN(){return i1||(i1=1,Cp.exports=gN()),Cp.exports}var y=yN(),Sp={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1;function vN(){if(r1)return $e;r1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.iterator;function T(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function _(w,H,ie){this.props=w,this.context=H,this.refs=E,this.updater=ie||C}_.prototype.isReactComponent={},_.prototype.setState=function(w,H){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,H,"setState")},_.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function I(){}I.prototype=_.prototype;function D(w,H,ie){this.props=w,this.context=H,this.refs=E,this.updater=ie||C}var M=D.prototype=new I;M.constructor=D,S(M,_.prototype),M.isPureReactComponent=!0;var P=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function B(w,H,ie,O,ve,ke){return ie=ke.ref,{$$typeof:t,type:w,key:H,ref:ie!==void 0?ie:null,props:ke}}function q(w,H){return B(w.type,H,void 0,void 0,void 0,w.props)}function $(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function j(w){var H={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ie){return H[ie]})}var Z=/\/+/g;function ne(w,H){return typeof w=="object"&&w!==null&&w.key!=null?j(""+w.key):H.toString(36)}function ae(){}function ee(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ae,ae):(w.status="pending",w.then(function(H){w.status==="pending"&&(w.status="fulfilled",w.value=H)},function(H){w.status==="pending"&&(w.status="rejected",w.reason=H)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Q(w,H,ie,O,ve){var ke=typeof w;(ke==="undefined"||ke==="boolean")&&(w=null);var ye=!1;if(w===null)ye=!0;else switch(ke){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(w.$$typeof){case t:case e:ye=!0;break;case h:return ye=w._init,Q(ye(w._payload),H,ie,O,ve)}}if(ye)return ve=ve(w),ye=O===""?"."+ne(w,0):O,P(ve)?(ie="",ye!=null&&(ie=ye.replace(Z,"$&/")+"/"),Q(ve,H,ie,"",function(Ne){return Ne})):ve!=null&&($(ve)&&(ve=q(ve,ie+(ve.key==null||w&&w.key===ve.key?"":(""+ve.key).replace(Z,"$&/")+"/")+ye)),H.push(ve)),1;ye=0;var nt=O===""?".":O+":";if(P(w))for(var pe=0;pe<w.length;pe++)O=w[pe],ke=nt+ne(O,pe),ye+=Q(O,H,ie,ke,ve);else if(pe=T(w),typeof pe=="function")for(w=pe.call(w),pe=0;!(O=w.next()).done;)O=O.value,ke=nt+ne(O,pe++),ye+=Q(O,H,ie,ke,ve);else if(ke==="object"){if(typeof w.then=="function")return Q(ee(w),H,ie,O,ve);throw H=String(w),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ye}function z(w,H,ie){if(w==null)return w;var O=[],ve=0;return Q(w,O,"","",function(ke){return H.call(ie,ke,ve++)}),O}function G(w){if(w._status===-1){var H=w._result;H=H(),H.then(function(ie){(w._status===0||w._status===-1)&&(w._status=1,w._result=ie)},function(ie){(w._status===0||w._status===-1)&&(w._status=2,w._result=ie)}),w._status===-1&&(w._status=0,w._result=H)}if(w._status===1)return w._result.default;throw w._result}var re=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function de(){}return $e.Children={map:z,forEach:function(w,H,ie){z(w,function(){H.apply(this,arguments)},ie)},count:function(w){var H=0;return z(w,function(){H++}),H},toArray:function(w){return z(w,function(H){return H})||[]},only:function(w){if(!$(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},$e.Component=_,$e.Fragment=n,$e.Profiler=r,$e.PureComponent=D,$e.StrictMode=i,$e.Suspense=d,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,$e.__COMPILER_RUNTIME={__proto__:null,c:function(w){return L.H.useMemoCache(w)}},$e.cache=function(w){return function(){return w.apply(null,arguments)}},$e.cloneElement=function(w,H,ie){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var O=S({},w.props),ve=w.key,ke=void 0;if(H!=null)for(ye in H.ref!==void 0&&(ke=void 0),H.key!==void 0&&(ve=""+H.key),H)!R.call(H,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&H.ref===void 0||(O[ye]=H[ye]);var ye=arguments.length-2;if(ye===1)O.children=ie;else if(1<ye){for(var nt=Array(ye),pe=0;pe<ye;pe++)nt[pe]=arguments[pe+2];O.children=nt}return B(w.type,ve,void 0,void 0,ke,O)},$e.createContext=function(w){return w={$$typeof:s,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},$e.createElement=function(w,H,ie){var O,ve={},ke=null;if(H!=null)for(O in H.key!==void 0&&(ke=""+H.key),H)R.call(H,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(ve[O]=H[O]);var ye=arguments.length-2;if(ye===1)ve.children=ie;else if(1<ye){for(var nt=Array(ye),pe=0;pe<ye;pe++)nt[pe]=arguments[pe+2];ve.children=nt}if(w&&w.defaultProps)for(O in ye=w.defaultProps,ye)ve[O]===void 0&&(ve[O]=ye[O]);return B(w,ke,void 0,void 0,null,ve)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(w){return{$$typeof:u,render:w}},$e.isValidElement=$,$e.lazy=function(w){return{$$typeof:h,_payload:{_status:-1,_result:w},_init:G}},$e.memo=function(w,H){return{$$typeof:f,type:w,compare:H===void 0?null:H}},$e.startTransition=function(w){var H=L.T,ie={};L.T=ie;try{var O=w(),ve=L.S;ve!==null&&ve(ie,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(de,re)}catch(ke){re(ke)}finally{L.T=H}},$e.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},$e.use=function(w){return L.H.use(w)},$e.useActionState=function(w,H,ie){return L.H.useActionState(w,H,ie)},$e.useCallback=function(w,H){return L.H.useCallback(w,H)},$e.useContext=function(w){return L.H.useContext(w)},$e.useDebugValue=function(){},$e.useDeferredValue=function(w,H){return L.H.useDeferredValue(w,H)},$e.useEffect=function(w,H,ie){var O=L.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return O.useEffect(w,H)},$e.useId=function(){return L.H.useId()},$e.useImperativeHandle=function(w,H,ie){return L.H.useImperativeHandle(w,H,ie)},$e.useInsertionEffect=function(w,H){return L.H.useInsertionEffect(w,H)},$e.useLayoutEffect=function(w,H){return L.H.useLayoutEffect(w,H)},$e.useMemo=function(w,H){return L.H.useMemo(w,H)},$e.useOptimistic=function(w,H){return L.H.useOptimistic(w,H)},$e.useReducer=function(w,H,ie){return L.H.useReducer(w,H,ie)},$e.useRef=function(w){return L.H.useRef(w)},$e.useState=function(w){return L.H.useState(w)},$e.useSyncExternalStore=function(w,H,ie){return L.H.useSyncExternalStore(w,H,ie)},$e.useTransition=function(){return L.H.useTransition()},$e.version="19.1.0",$e}var a1;function pg(){return a1||(a1=1,Sp.exports=vN()),Sp.exports}var N=pg();const De=su(N),xN=hN({__proto__:null,default:De},[N]);var Ep={exports:{}},Ns={},wp={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1;function bN(){return o1||(o1=1,function(t){function e(z,G){var re=z.length;z.push(G);e:for(;0<re;){var de=re-1>>>1,w=z[de];if(0<r(w,G))z[de]=G,z[re]=w,re=de;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var G=z[0],re=z.pop();if(re!==G){z[0]=re;e:for(var de=0,w=z.length,H=w>>>1;de<H;){var ie=2*(de+1)-1,O=z[ie],ve=ie+1,ke=z[ve];if(0>r(O,re))ve<w&&0>r(ke,O)?(z[de]=ke,z[ve]=re,de=ve):(z[de]=O,z[ie]=re,de=ie);else if(ve<w&&0>r(ke,re))z[de]=ke,z[ve]=re,de=ve;else break e}}return G}function r(z,G){var re=z.sortIndex-G.sortIndex;return re!==0?re:z.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var d=[],f=[],h=1,v=null,T=3,C=!1,S=!1,E=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function P(z){for(var G=n(f);G!==null;){if(G.callback===null)i(f);else if(G.startTime<=z)i(f),G.sortIndex=G.expirationTime,e(d,G);else break;G=n(f)}}function L(z){if(E=!1,P(z),!S)if(n(d)!==null)S=!0,R||(R=!0,ne());else{var G=n(f);G!==null&&Q(L,G.startTime-z)}}var R=!1,B=-1,q=5,$=-1;function j(){return _?!0:!(t.unstable_now()-$<q)}function Z(){if(_=!1,R){var z=t.unstable_now();$=z;var G=!0;try{e:{S=!1,E&&(E=!1,D(B),B=-1),C=!0;var re=T;try{t:{for(P(z),v=n(d);v!==null&&!(v.expirationTime>z&&j());){var de=v.callback;if(typeof de=="function"){v.callback=null,T=v.priorityLevel;var w=de(v.expirationTime<=z);if(z=t.unstable_now(),typeof w=="function"){v.callback=w,P(z),G=!0;break t}v===n(d)&&i(d),P(z)}else i(d);v=n(d)}if(v!==null)G=!0;else{var H=n(f);H!==null&&Q(L,H.startTime-z),G=!1}}break e}finally{v=null,T=re,C=!1}G=void 0}}finally{G?ne():R=!1}}}var ne;if(typeof M=="function")ne=function(){M(Z)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ee=ae.port2;ae.port1.onmessage=Z,ne=function(){ee.postMessage(null)}}else ne=function(){I(Z,0)};function Q(z,G){B=I(function(){z(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(z){switch(T){case 1:case 2:case 3:var G=3;break;default:G=T}var re=T;T=G;try{return z()}finally{T=re}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=T;T=z;try{return G()}finally{T=re}},t.unstable_scheduleCallback=function(z,G,re){var de=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?de+re:de):re=de,z){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=re+w,z={id:h++,callback:G,priorityLevel:z,startTime:re,expirationTime:w,sortIndex:-1},re>de?(z.sortIndex=re,e(f,z),n(d)===null&&z===n(f)&&(E?(D(B),B=-1):E=!0,Q(L,re-de))):(z.sortIndex=w,e(d,z),S||C||(S=!0,R||(R=!0,ne()))),z},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(z){var G=T;return function(){var re=T;T=G;try{return z.apply(this,arguments)}finally{T=re}}}}(Ap)),Ap}var l1;function TN(){return l1||(l1=1,wp.exports=bN()),wp.exports}var _p={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1;function CN(){if(s1)return dn;s1=1;var t=pg();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:d,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dn.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,h)},dn.flushSync=function(d){var f=s.T,h=i.p;try{if(s.T=null,i.p=2,d)return d()}finally{s.T=f,i.p=h,i.d.f()}},dn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},dn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},dn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,v=u(h,f.crossOrigin),T=typeof f.integrity=="string"?f.integrity:void 0,C=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:C}):h==="script"&&i.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:C,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},dn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},dn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,v=u(h,f.crossOrigin);i.d.L(d,h,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},dn.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},dn.requestFormReset=function(d){i.d.r(d)},dn.unstable_batchedUpdates=function(d,f){return d(f)},dn.useFormState=function(d,f,h){return s.H.useFormState(d,f,h)},dn.useFormStatus=function(){return s.H.useHostTransitionStatus()},dn.version="19.1.0",dn}var u1;function zC(){if(u1)return _p.exports;u1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_p.exports=CN(),_p.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function SN(){if(c1)return Ns;c1=1;var t=TN(),e=pg(),n=zC();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,c=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(c=l.return),a=l.return;while(a)}return l.tag===3?c:null}function s(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(o(a)!==a)throw Error(i(188))}function d(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(i(188));return l!==a?null:a}for(var c=a,m=l;;){var x=c.return;if(x===null)break;var b=x.alternate;if(b===null){if(m=x.return,m!==null){c=m;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===c)return u(x),a;if(b===m)return u(x),l;b=b.sibling}throw Error(i(188))}if(c.return!==m.return)c=x,m=b;else{for(var A=!1,k=x.child;k;){if(k===c){A=!0,c=x,m=b;break}if(k===m){A=!0,m=x,c=b;break}k=k.sibling}if(!A){for(k=b.child;k;){if(k===c){A=!0,c=b,m=x;break}if(k===m){A=!0,m=b,c=x;break}k=k.sibling}if(!A)throw Error(i(189))}}if(c.alternate!==m)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var h=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=Z&&a[Z]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Symbol.for("react.client.reference");function ee(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ae?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case _:return"Profiler";case E:return"StrictMode";case L:return"Suspense";case R:return"SuspenseList";case $:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case C:return"Portal";case M:return(a.displayName||"Context")+".Provider";case D:return(a._context.displayName||"Context")+".Consumer";case P:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case B:return l=a.displayName||null,l!==null?l:ee(a.type)||"Memo";case q:l=a._payload,a=a._init;try{return ee(a(l))}catch{}}return null}var Q=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},de=[],w=-1;function H(a){return{current:a}}function ie(a){0>w||(a.current=de[w],de[w]=null,w--)}function O(a,l){w++,de[w]=a.current,a.current=l}var ve=H(null),ke=H(null),ye=H(null),nt=H(null);function pe(a,l){switch(O(ye,l),O(ke,a),O(ve,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?Dx(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=Dx(l),a=kx(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ie(ve),O(ve,a)}function Ne(){ie(ve),ie(ke),ie(ye)}function Re(a){a.memoizedState!==null&&O(nt,a);var l=ve.current,c=kx(l,a.type);l!==c&&(O(ke,a),O(ve,c))}function st(a){ke.current===a&&(ie(ve),ie(ke)),nt.current===a&&(ie(nt),Cs._currentValue=re)}var Rt=Object.prototype.hasOwnProperty,yn=t.unstable_scheduleCallback,wt=t.unstable_cancelCallback,An=t.unstable_shouldYield,_n=t.unstable_requestPaint,Bt=t.unstable_now,Dr=t.unstable_getCurrentPriorityLevel,gi=t.unstable_ImmediatePriority,an=t.unstable_UserBlockingPriority,jn=t.unstable_NormalPriority,yi=t.unstable_LowPriority,ki=t.unstable_IdlePriority,nr=t.log,Ml=t.unstable_setDisableYieldValue,oe=null,ce=null;function Ie(a){if(typeof nr=="function"&&Ml(a),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(oe,a)}catch{}}var Le=Math.clz32?Math.clz32:ei,it=Math.log,_t=Math.LN2;function ei(a){return a>>>=0,a===0?32:31-(it(a)/_t|0)|0}var on=256,ti=4194304;function Qt(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Lt(a,l,c){var m=a.pendingLanes;if(m===0)return 0;var x=0,b=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var k=m&134217727;return k!==0?(m=k&~b,m!==0?x=Qt(m):(A&=k,A!==0?x=Qt(A):c||(c=k&~a,c!==0&&(x=Qt(c))))):(k=m&~b,k!==0?x=Qt(k):A!==0?x=Qt(A):c||(c=m&~a,c!==0&&(x=Qt(c)))),x===0?0:l!==0&&l!==x&&(l&b)===0&&(b=x&-x,c=l&-l,b>=c||b===32&&(c&4194048)!==0)?l:x}function Nn(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function In(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tu(){var a=on;return on<<=1,(on&4194048)===0&&(on=256),a}function Cu(){var a=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),a}function Rl(a){for(var l=[],c=0;31>c;c++)l.push(a);return l}function Nt(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function vn(a,l,c,m,x,b){var A=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var k=a.entanglements,V=a.expirationTimes,K=a.hiddenUpdates;for(c=A&~c;0<c;){var le=31-Le(c),ue=1<<le;k[le]=0,V[le]=-1;var J=K[le];if(J!==null)for(K[le]=null,le=0;le<J.length;le++){var te=J[le];te!==null&&(te.lane&=-536870913)}c&=~ue}m!==0&&ln(a,m,0),b!==0&&x===0&&a.tag!==0&&(a.suspendedLanes|=b&~(A&~l))}function ln(a,l,c){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-Le(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|c&4194090}function vi(a,l){var c=a.entangledLanes|=l;for(a=a.entanglements;c;){var m=31-Le(c),x=1<<m;x&l|a[m]&l&&(a[m]|=l),c&=~x}}function sn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function en(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function zn(){var a=G.p;return a!==0?a:(a=window.event,a===void 0?32:Kx(a.type))}function kr(a,l){var c=G.p;try{return G.p=a,l()}finally{G.p=c}}var yt=Math.random().toString(36).slice(2),Tt="__reactFiber$"+yt,Ct="__reactProps$"+yt,un="__reactContainer$"+yt,ir="__reactEvents$"+yt,ba="__reactListeners$"+yt,Mi="__reactHandles$"+yt,Mr="__reactResources$"+yt,rr="__reactMarker$"+yt;function hf(a){delete a[Tt],delete a[Ct],delete a[ir],delete a[ba],delete a[Mi]}function lo(a){var l=a[Tt];if(l)return l;for(var c=a.parentNode;c;){if(l=c[un]||c[Tt]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(a=Ox(a);a!==null;){if(c=a[Tt])return c;a=Ox(a)}return l}a=c,c=a.parentNode}return null}function so(a){if(a=a[Tt]||a[un]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Ll(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function uo(a){var l=a[Mr];return l||(l=a[Mr]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Wt(a){a[rr]=!0}var xy=new Set,by={};function Ta(a,l){co(a,l),co(a+"Capture",l)}function co(a,l){for(by[a]=l,a=0;a<l.length;a++)xy.add(l[a])}var lA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ty={},Cy={};function sA(a){return Rt.call(Cy,a)?!0:Rt.call(Ty,a)?!1:lA.test(a)?Cy[a]=!0:(Ty[a]=!0,!1)}function Su(a,l,c){if(sA(l))if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+c)}}function Eu(a,l,c){if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+c)}}function ar(a,l,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(l,c,""+m)}}var gf,Sy;function fo(a){if(gf===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);gf=l&&l[1]||"",Sy=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gf+a+Sy}var yf=!1;function vf(a,l){if(!a||yf)return"";yf=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var J=te}Reflect.construct(a,[],ue)}else{try{ue.call()}catch(te){J=te}a.call(ue.prototype)}}else{try{throw Error()}catch(te){J=te}(ue=a())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),A=b[0],k=b[1];if(A&&k){var V=A.split(`
`),K=k.split(`
`);for(x=m=0;m<V.length&&!V[m].includes("DetermineComponentFrameRoot");)m++;for(;x<K.length&&!K[x].includes("DetermineComponentFrameRoot");)x++;if(m===V.length||x===K.length)for(m=V.length-1,x=K.length-1;1<=m&&0<=x&&V[m]!==K[x];)x--;for(;1<=m&&0<=x;m--,x--)if(V[m]!==K[x]){if(m!==1||x!==1)do if(m--,x--,0>x||V[m]!==K[x]){var le=`
`+V[m].replace(" at new "," at ");return a.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",a.displayName)),le}while(1<=m&&0<=x);break}}}finally{yf=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?fo(c):""}function uA(a){switch(a.tag){case 26:case 27:case 5:return fo(a.type);case 16:return fo("Lazy");case 13:return fo("Suspense");case 19:return fo("SuspenseList");case 0:case 15:return vf(a.type,!1);case 11:return vf(a.type.render,!1);case 1:return vf(a.type,!0);case 31:return fo("Activity");default:return""}}function Ey(a){try{var l="";do l+=uA(a),a=a.return;while(a);return l}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function ni(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function wy(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function cA(a){var l=wy(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),m=""+a[l];if(!a.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,b=c.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return x.call(this)},set:function(A){m=""+A,b.call(this,A)}}),Object.defineProperty(a,l,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(A){m=""+A},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function wu(a){a._valueTracker||(a._valueTracker=cA(a))}function Ay(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var c=l.getValue(),m="";return a&&(m=wy(a)?a.checked?"true":"false":a.value),a=m,a!==c?(l.setValue(a),!0):!1}function Au(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var dA=/[\n"\\]/g;function ii(a){return a.replace(dA,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function xf(a,l,c,m,x,b,A,k){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),l!=null?A==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+ni(l)):a.value!==""+ni(l)&&(a.value=""+ni(l)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),l!=null?bf(a,A,ni(l)):c!=null?bf(a,A,ni(c)):m!=null&&a.removeAttribute("value"),x==null&&b!=null&&(a.defaultChecked=!!b),x!=null&&(a.checked=x&&typeof x!="function"&&typeof x!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+ni(k):a.removeAttribute("name")}function _y(a,l,c,m,x,b,A,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),l!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||l!=null))return;c=c!=null?""+ni(c):"",l=l!=null?""+ni(l):c,k||l===a.value||(a.value=l),a.defaultValue=l}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=k?a.checked:!!m,a.defaultChecked=!!m,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A)}function bf(a,l,c){l==="number"&&Au(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function mo(a,l,c,m){if(a=a.options,l){l={};for(var x=0;x<c.length;x++)l["$"+c[x]]=!0;for(c=0;c<a.length;c++)x=l.hasOwnProperty("$"+a[c].value),a[c].selected!==x&&(a[c].selected=x),x&&m&&(a[c].defaultSelected=!0)}else{for(c=""+ni(c),l=null,x=0;x<a.length;x++){if(a[x].value===c){a[x].selected=!0,m&&(a[x].defaultSelected=!0);return}l!==null||a[x].disabled||(l=a[x])}l!==null&&(l.selected=!0)}}function Ny(a,l,c){if(l!=null&&(l=""+ni(l),l!==a.value&&(a.value=l),c==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=c!=null?""+ni(c):""}function Iy(a,l,c,m){if(l==null){if(m!=null){if(c!=null)throw Error(i(92));if(Q(m)){if(1<m.length)throw Error(i(93));m=m[0]}c=m}c==null&&(c=""),l=c}c=ni(l),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m)}function po(a,l){if(l){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=l;return}}a.textContent=l}var fA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dy(a,l,c){var m=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,c):typeof c!="number"||c===0||fA.has(l)?l==="float"?a.cssFloat=c:a[l]=(""+c).trim():a[l]=c+"px"}function ky(a,l,c){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var x in l)m=l[x],l.hasOwnProperty(x)&&c[x]!==m&&Dy(a,x,m)}else for(var b in l)l.hasOwnProperty(b)&&Dy(a,b,l[b])}function Tf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _u(a){return pA.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Cf=null;function Sf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ho=null,go=null;function My(a){var l=so(a);if(l&&(a=l.stateNode)){var c=a[Ct]||null;e:switch(a=l.stateNode,l.type){case"input":if(xf(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ii(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var m=c[l];if(m!==a&&m.form===a.form){var x=m[Ct]||null;if(!x)throw Error(i(90));xf(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<c.length;l++)m=c[l],m.form===a.form&&Ay(m)}break e;case"textarea":Ny(a,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&mo(a,!!c.multiple,l,!1)}}}var Ef=!1;function Ry(a,l,c){if(Ef)return a(l,c);Ef=!0;try{var m=a(l);return m}finally{if(Ef=!1,(ho!==null||go!==null)&&(fc(),ho&&(l=ho,a=go,go=ho=null,My(l),a)))for(l=0;l<a.length;l++)My(a[l])}}function Ol(a,l){var c=a.stateNode;if(c===null)return null;var m=c[Ct]||null;if(m===null)return null;c=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(i(231,l,typeof c));return c}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wf=!1;if(or)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){wf=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{wf=!1}var Rr=null,Af=null,Nu=null;function Ly(){if(Nu)return Nu;var a,l=Af,c=l.length,m,x="value"in Rr?Rr.value:Rr.textContent,b=x.length;for(a=0;a<c&&l[a]===x[a];a++);var A=c-a;for(m=1;m<=A&&l[c-m]===x[b-m];m++);return Nu=x.slice(a,1<m?1-m:void 0)}function Iu(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Du(){return!0}function Oy(){return!1}function Dn(a){function l(c,m,x,b,A){this._reactName=c,this._targetInst=x,this.type=m,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(c=a[k],this[k]=c?c(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Du:Oy,this.isPropagationStopped=Oy,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),l}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ku=Dn(Ca),Ul=h({},Ca,{view:0,detail:0}),hA=Dn(Ul),_f,Nf,jl,Mu=h({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Df,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==jl&&(jl&&a.type==="mousemove"?(_f=a.screenX-jl.screenX,Nf=a.screenY-jl.screenY):Nf=_f=0,jl=a),_f)},movementY:function(a){return"movementY"in a?a.movementY:Nf}}),Py=Dn(Mu),gA=h({},Mu,{dataTransfer:0}),yA=Dn(gA),vA=h({},Ul,{relatedTarget:0}),If=Dn(vA),xA=h({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),bA=Dn(xA),TA=h({},Ca,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),CA=Dn(TA),SA=h({},Ca,{data:0}),Uy=Dn(SA),EA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _A(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=AA[a])?!!l[a]:!1}function Df(){return _A}var NA=h({},Ul,{key:function(a){if(a.key){var l=EA[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Iu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?wA[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Df,charCode:function(a){return a.type==="keypress"?Iu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Iu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),IA=Dn(NA),DA=h({},Mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jy=Dn(DA),kA=h({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Df}),MA=Dn(kA),RA=h({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),LA=Dn(RA),OA=h({},Mu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),PA=Dn(OA),UA=h({},Ca,{newState:0,oldState:0}),jA=Dn(UA),zA=[9,13,27,32],kf=or&&"CompositionEvent"in window,zl=null;or&&"documentMode"in document&&(zl=document.documentMode);var VA=or&&"TextEvent"in window&&!zl,zy=or&&(!kf||zl&&8<zl&&11>=zl),Vy=" ",Fy=!1;function By(a,l){switch(a){case"keyup":return zA.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $y(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var yo=!1;function FA(a,l){switch(a){case"compositionend":return $y(l);case"keypress":return l.which!==32?null:(Fy=!0,Vy);case"textInput":return a=l.data,a===Vy&&Fy?null:a;default:return null}}function BA(a,l){if(yo)return a==="compositionend"||!kf&&By(a,l)?(a=Ly(),Nu=Af=Rr=null,yo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return zy&&l.locale!=="ko"?null:l.data;default:return null}}var $A={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hy(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!$A[a.type]:l==="textarea"}function Gy(a,l,c,m){ho?go?go.push(m):go=[m]:ho=m,l=vc(l,"onChange"),0<l.length&&(c=new ku("onChange","change",null,c,m),a.push({event:c,listeners:l}))}var Vl=null,Fl=null;function HA(a){wx(a,0)}function Ru(a){var l=Ll(a);if(Ay(l))return a}function qy(a,l){if(a==="change")return l}var Wy=!1;if(or){var Mf;if(or){var Rf="oninput"in document;if(!Rf){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),Rf=typeof Yy.oninput=="function"}Mf=Rf}else Mf=!1;Wy=Mf&&(!document.documentMode||9<document.documentMode)}function Zy(){Vl&&(Vl.detachEvent("onpropertychange",Ky),Fl=Vl=null)}function Ky(a){if(a.propertyName==="value"&&Ru(Fl)){var l=[];Gy(l,Fl,a,Sf(a)),Ry(HA,l)}}function GA(a,l,c){a==="focusin"?(Zy(),Vl=l,Fl=c,Vl.attachEvent("onpropertychange",Ky)):a==="focusout"&&Zy()}function qA(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ru(Fl)}function WA(a,l){if(a==="click")return Ru(l)}function YA(a,l){if(a==="input"||a==="change")return Ru(l)}function ZA(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Vn=typeof Object.is=="function"?Object.is:ZA;function Bl(a,l){if(Vn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var c=Object.keys(a),m=Object.keys(l);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var x=c[m];if(!Rt.call(l,x)||!Vn(a[x],l[x]))return!1}return!0}function Xy(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Jy(a,l){var c=Xy(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=l&&m>=l)return{node:c,offset:l-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Xy(c)}}function Qy(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Qy(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function e0(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Au(a.document);l instanceof a.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)a=l.contentWindow;else break;l=Au(a.document)}return l}function Lf(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var KA=or&&"documentMode"in document&&11>=document.documentMode,vo=null,Of=null,$l=null,Pf=!1;function t0(a,l,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Pf||vo==null||vo!==Au(m)||(m=vo,"selectionStart"in m&&Lf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),$l&&Bl($l,m)||($l=m,m=vc(Of,"onSelect"),0<m.length&&(l=new ku("onSelect","select",null,l,c),a.push({event:l,listeners:m}),l.target=vo)))}function Sa(a,l){var c={};return c[a.toLowerCase()]=l.toLowerCase(),c["Webkit"+a]="webkit"+l,c["Moz"+a]="moz"+l,c}var xo={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},Uf={},n0={};or&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Ea(a){if(Uf[a])return Uf[a];if(!xo[a])return a;var l=xo[a],c;for(c in l)if(l.hasOwnProperty(c)&&c in n0)return Uf[a]=l[c];return a}var i0=Ea("animationend"),r0=Ea("animationiteration"),a0=Ea("animationstart"),XA=Ea("transitionrun"),JA=Ea("transitionstart"),QA=Ea("transitioncancel"),o0=Ea("transitionend"),l0=new Map,jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jf.push("scrollEnd");function xi(a,l){l0.set(a,l),Ta(l,[a])}var s0=new WeakMap;function ri(a,l){if(typeof a=="object"&&a!==null){var c=s0.get(a);return c!==void 0?c:(l={value:a,source:l,stack:Ey(l)},s0.set(a,l),l)}return{value:a,source:l,stack:Ey(l)}}var ai=[],bo=0,zf=0;function Lu(){for(var a=bo,l=zf=bo=0;l<a;){var c=ai[l];ai[l++]=null;var m=ai[l];ai[l++]=null;var x=ai[l];ai[l++]=null;var b=ai[l];if(ai[l++]=null,m!==null&&x!==null){var A=m.pending;A===null?x.next=x:(x.next=A.next,A.next=x),m.pending=x}b!==0&&u0(c,x,b)}}function Ou(a,l,c,m){ai[bo++]=a,ai[bo++]=l,ai[bo++]=c,ai[bo++]=m,zf|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Vf(a,l,c,m){return Ou(a,l,c,m),Pu(a)}function To(a,l){return Ou(a,null,null,l),Pu(a)}function u0(a,l,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var x=!1,b=a.return;b!==null;)b.childLanes|=c,m=b.alternate,m!==null&&(m.childLanes|=c),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(x=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,x&&l!==null&&(x=31-Le(c),a=b.hiddenUpdates,m=a[x],m===null?a[x]=[l]:m.push(l),l.lane=c|536870912),b):null}function Pu(a){if(50<ps)throw ps=0,qm=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Co={};function e_(a,l,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(a,l,c,m){return new e_(a,l,c,m)}function Ff(a){return a=a.prototype,!(!a||!a.isReactComponent)}function lr(a,l){var c=a.alternate;return c===null?(c=Fn(a.tag,l,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=l,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,l=a.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function c0(a,l){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,l=c.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Uu(a,l,c,m,x,b){var A=0;if(m=a,typeof a=="function")Ff(a)&&(A=1);else if(typeof a=="string")A=nN(a,c,ve.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case $:return a=Fn(31,c,l,x),a.elementType=$,a.lanes=b,a;case S:return wa(c.children,x,b,l);case E:A=8,x|=24;break;case _:return a=Fn(12,c,l,x|2),a.elementType=_,a.lanes=b,a;case L:return a=Fn(13,c,l,x),a.elementType=L,a.lanes=b,a;case R:return a=Fn(19,c,l,x),a.elementType=R,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case I:case M:A=10;break e;case D:A=9;break e;case P:A=11;break e;case B:A=14;break e;case q:A=16,m=null;break e}A=29,c=Error(i(130,a===null?"null":typeof a,"")),m=null}return l=Fn(A,c,l,x),l.elementType=a,l.type=m,l.lanes=b,l}function wa(a,l,c,m){return a=Fn(7,a,m,l),a.lanes=c,a}function Bf(a,l,c){return a=Fn(6,a,null,l),a.lanes=c,a}function $f(a,l,c){return l=Fn(4,a.children!==null?a.children:[],a.key,l),l.lanes=c,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var So=[],Eo=0,ju=null,zu=0,oi=[],li=0,Aa=null,sr=1,ur="";function _a(a,l){So[Eo++]=zu,So[Eo++]=ju,ju=a,zu=l}function d0(a,l,c){oi[li++]=sr,oi[li++]=ur,oi[li++]=Aa,Aa=a;var m=sr;a=ur;var x=32-Le(m)-1;m&=~(1<<x),c+=1;var b=32-Le(l)+x;if(30<b){var A=x-x%5;b=(m&(1<<A)-1).toString(32),m>>=A,x-=A,sr=1<<32-Le(l)+x|c<<x|m,ur=b+a}else sr=1<<b|c<<x|m,ur=a}function Hf(a){a.return!==null&&(_a(a,1),d0(a,1,0))}function Gf(a){for(;a===ju;)ju=So[--Eo],So[Eo]=null,zu=So[--Eo],So[Eo]=null;for(;a===Aa;)Aa=oi[--li],oi[li]=null,ur=oi[--li],oi[li]=null,sr=oi[--li],oi[li]=null}var xn=null,It=null,at=!1,Na=null,Ri=!1,qf=Error(i(519));function Ia(a){var l=Error(i(418,""));throw ql(ri(l,a)),qf}function f0(a){var l=a.stateNode,c=a.type,m=a.memoizedProps;switch(l[Tt]=a,l[Ct]=m,c){case"dialog":Ze("cancel",l),Ze("close",l);break;case"iframe":case"object":case"embed":Ze("load",l);break;case"video":case"audio":for(c=0;c<gs.length;c++)Ze(gs[c],l);break;case"source":Ze("error",l);break;case"img":case"image":case"link":Ze("error",l),Ze("load",l);break;case"details":Ze("toggle",l);break;case"input":Ze("invalid",l),_y(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),wu(l);break;case"select":Ze("invalid",l);break;case"textarea":Ze("invalid",l),Iy(l,m.value,m.defaultValue,m.children),wu(l)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||m.suppressHydrationWarning===!0||Ix(l.textContent,c)?(m.popover!=null&&(Ze("beforetoggle",l),Ze("toggle",l)),m.onScroll!=null&&Ze("scroll",l),m.onScrollEnd!=null&&Ze("scrollend",l),m.onClick!=null&&(l.onclick=xc),l=!0):l=!1,l||Ia(a)}function m0(a){for(xn=a.return;xn;)switch(xn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:xn=xn.return}}function Hl(a){if(a!==xn)return!1;if(!at)return m0(a),at=!0,!1;var l=a.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||sp(a.type,a.memoizedProps)),c=!c),c&&It&&Ia(a),m0(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(c=a.data,c==="/$"){if(l===0){It=Ti(a.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++;a=a.nextSibling}It=null}}else l===27?(l=It,Zr(a.type)?(a=fp,fp=null,It=a):It=l):It=xn?Ti(a.stateNode.nextSibling):null;return!0}function Gl(){It=xn=null,at=!1}function p0(){var a=Na;return a!==null&&(Rn===null?Rn=a:Rn.push.apply(Rn,a),Na=null),a}function ql(a){Na===null?Na=[a]:Na.push(a)}var Wf=H(null),Da=null,cr=null;function Lr(a,l,c){O(Wf,l._currentValue),l._currentValue=c}function dr(a){a._currentValue=Wf.current,ie(Wf)}function Yf(a,l,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===c)break;a=a.return}}function Zf(a,l,c,m){var x=a.child;for(x!==null&&(x.return=a);x!==null;){var b=x.dependencies;if(b!==null){var A=x.child;b=b.firstContext;e:for(;b!==null;){var k=b;b=x;for(var V=0;V<l.length;V++)if(k.context===l[V]){b.lanes|=c,k=b.alternate,k!==null&&(k.lanes|=c),Yf(b.return,c,a),m||(A=null);break e}b=k.next}}else if(x.tag===18){if(A=x.return,A===null)throw Error(i(341));A.lanes|=c,b=A.alternate,b!==null&&(b.lanes|=c),Yf(A,c,a),A=null}else A=x.child;if(A!==null)A.return=x;else for(A=x;A!==null;){if(A===a){A=null;break}if(x=A.sibling,x!==null){x.return=A.return,A=x;break}A=A.return}x=A}}function Wl(a,l,c,m){a=null;for(var x=l,b=!1;x!==null;){if(!b){if((x.flags&524288)!==0)b=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var A=x.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var k=x.type;Vn(x.pendingProps.value,A.value)||(a!==null?a.push(k):a=[k])}}else if(x===nt.current){if(A=x.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(a!==null?a.push(Cs):a=[Cs])}x=x.return}a!==null&&Zf(l,a,c,m),l.flags|=262144}function Vu(a){for(a=a.firstContext;a!==null;){if(!Vn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ka(a){Da=a,cr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function cn(a){return h0(Da,a)}function Fu(a,l){return Da===null&&ka(a),h0(a,l)}function h0(a,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},cr===null){if(a===null)throw Error(i(308));cr=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else cr=cr.next=l;return c}var t_=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(c){return c()})}},n_=t.unstable_scheduleCallback,i_=t.unstable_NormalPriority,$t={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new t_,data:new Map,refCount:0}}function Yl(a){a.refCount--,a.refCount===0&&n_(i_,function(){a.controller.abort()})}var Zl=null,Xf=0,wo=0,Ao=null;function r_(a,l){if(Zl===null){var c=Zl=[];Xf=0,wo=Qm(),Ao={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Xf++,l.then(g0,g0),l}function g0(){if(--Xf===0&&Zl!==null){Ao!==null&&(Ao.status="fulfilled");var a=Zl;Zl=null,wo=0,Ao=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function a_(a,l){var c=[],m={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var x=0;x<c.length;x++)(0,c[x])(l)},function(x){for(m.status="rejected",m.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),m}var y0=z.S;z.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&r_(a,l),y0!==null&&y0(a,l)};var Ma=H(null);function Jf(){var a=Ma.current;return a!==null?a:vt.pooledCache}function Bu(a,l){l===null?O(Ma,Ma.current):O(Ma,l.pool)}function v0(){var a=Jf();return a===null?null:{parent:$t._currentValue,pool:a}}var Kl=Error(i(460)),x0=Error(i(474)),$u=Error(i(542)),Qf={then:function(){}};function b0(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Hu(){}function T0(a,l,c){switch(c=a[c],c===void 0?a.push(l):c!==l&&(l.then(Hu,Hu),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,S0(a),a;default:if(typeof l.status=="string")l.then(Hu,Hu);else{if(a=vt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=m}},function(m){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,S0(a),a}throw Xl=l,Kl}}var Xl=null;function C0(){if(Xl===null)throw Error(i(459));var a=Xl;return Xl=null,a}function S0(a){if(a===Kl||a===$u)throw Error(i(483))}var Or=!1;function em(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tm(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Pr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ur(a,l,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(ut&2)!==0){var x=m.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),m.pending=l,l=Pu(a),u0(a,null,c),l}return Ou(a,m,l,c),Pu(a)}function Jl(a,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,c|=m,l.lanes=c,vi(a,c)}}function nm(a,l){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var x=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?x=b=A:b=b.next=A,c=c.next}while(c!==null);b===null?x=b=l:b=b.next=l}else x=b=l;c={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=l}var im=!1;function Ql(){if(im){var a=Ao;if(a!==null)throw a}}function es(a,l,c,m){im=!1;var x=a.updateQueue;Or=!1;var b=x.firstBaseUpdate,A=x.lastBaseUpdate,k=x.shared.pending;if(k!==null){x.shared.pending=null;var V=k,K=V.next;V.next=null,A===null?b=K:A.next=K,A=V;var le=a.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==A&&(k===null?le.firstBaseUpdate=K:k.next=K,le.lastBaseUpdate=V))}if(b!==null){var ue=x.baseState;A=0,le=K=V=null,k=b;do{var J=k.lane&-536870913,te=J!==k.lane;if(te?(Je&J)===J:(m&J)===J){J!==0&&J===wo&&(im=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ze=a,Ue=k;J=l;var mt=c;switch(Ue.tag){case 1:if(ze=Ue.payload,typeof ze=="function"){ue=ze.call(mt,ue,J);break e}ue=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Ue.payload,J=typeof ze=="function"?ze.call(mt,ue,J):ze,J==null)break e;ue=h({},ue,J);break e;case 2:Or=!0}}J=k.callback,J!==null&&(a.flags|=64,te&&(a.flags|=8192),te=x.callbacks,te===null?x.callbacks=[J]:te.push(J))}else te={lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(K=le=te,V=ue):le=le.next=te,A|=J;if(k=k.next,k===null){if(k=x.shared.pending,k===null)break;te=k,k=te.next,te.next=null,x.lastBaseUpdate=te,x.shared.pending=null}}while(!0);le===null&&(V=ue),x.baseState=V,x.firstBaseUpdate=K,x.lastBaseUpdate=le,b===null&&(x.shared.lanes=0),Gr|=A,a.lanes=A,a.memoizedState=ue}}function E0(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function w0(a,l){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)E0(c[a],l)}var _o=H(null),Gu=H(0);function A0(a,l){a=vr,O(Gu,a),O(_o,l),vr=a|l.baseLanes}function rm(){O(Gu,vr),O(_o,_o.current)}function am(){vr=Gu.current,ie(_o),ie(Gu)}var jr=0,qe=null,dt=null,Ut=null,qu=!1,No=!1,Ra=!1,Wu=0,ts=0,Io=null,o_=0;function Ot(){throw Error(i(321))}function om(a,l){if(l===null)return!1;for(var c=0;c<l.length&&c<a.length;c++)if(!Vn(a[c],l[c]))return!1;return!0}function lm(a,l,c,m,x,b){return jr=b,qe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,z.H=a===null||a.memoizedState===null?uv:cv,Ra=!1,b=c(m,x),Ra=!1,No&&(b=N0(l,c,m,x)),_0(a),b}function _0(a){z.H=Qu;var l=dt!==null&&dt.next!==null;if(jr=0,Ut=dt=qe=null,qu=!1,ts=0,Io=null,l)throw Error(i(300));a===null||Yt||(a=a.dependencies,a!==null&&Vu(a)&&(Yt=!0))}function N0(a,l,c,m){qe=a;var x=0;do{if(No&&(Io=null),ts=0,No=!1,25<=x)throw Error(i(301));if(x+=1,Ut=dt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}z.H=m_,b=l(c,m)}while(No);return b}function l_(){var a=z.H,l=a.useState()[0];return l=typeof l.then=="function"?ns(l):l,a=a.useState()[0],(dt!==null?dt.memoizedState:null)!==a&&(qe.flags|=1024),l}function sm(){var a=Wu!==0;return Wu=0,a}function um(a,l,c){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~c}function cm(a){if(qu){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}qu=!1}jr=0,Ut=dt=qe=null,No=!1,ts=Wu=0,Io=null}function kn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?qe.memoizedState=Ut=a:Ut=Ut.next=a,Ut}function jt(){if(dt===null){var a=qe.alternate;a=a!==null?a.memoizedState:null}else a=dt.next;var l=Ut===null?qe.memoizedState:Ut.next;if(l!==null)Ut=l,dt=a;else{if(a===null)throw qe.alternate===null?Error(i(467)):Error(i(310));dt=a,a={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Ut===null?qe.memoizedState=Ut=a:Ut=Ut.next=a}return Ut}function dm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ns(a){var l=ts;return ts+=1,Io===null&&(Io=[]),a=T0(Io,a,l),l=qe,(Ut===null?l.memoizedState:Ut.next)===null&&(l=l.alternate,z.H=l===null||l.memoizedState===null?uv:cv),a}function Yu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ns(a);if(a.$$typeof===M)return cn(a)}throw Error(i(438,String(a)))}function fm(a){var l=null,c=qe.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var m=qe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=dm(),qe.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(a),m=0;m<a;m++)c[m]=j;return l.index++,c}function fr(a,l){return typeof l=="function"?l(a):l}function Zu(a){var l=jt();return mm(l,dt,a)}function mm(a,l,c){var m=a.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=c;var x=a.baseQueue,b=m.pending;if(b!==null){if(x!==null){var A=x.next;x.next=b.next,b.next=A}l.baseQueue=x=b,m.pending=null}if(b=a.baseState,x===null)a.memoizedState=b;else{l=x.next;var k=A=null,V=null,K=l,le=!1;do{var ue=K.lane&-536870913;if(ue!==K.lane?(Je&ue)===ue:(jr&ue)===ue){var J=K.revertLane;if(J===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ue===wo&&(le=!0);else if((jr&J)===J){K=K.next,J===wo&&(le=!0);continue}else ue={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(k=V=ue,A=b):V=V.next=ue,qe.lanes|=J,Gr|=J;ue=K.action,Ra&&c(b,ue),b=K.hasEagerState?K.eagerState:c(b,ue)}else J={lane:ue,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(k=V=J,A=b):V=V.next=J,qe.lanes|=ue,Gr|=ue;K=K.next}while(K!==null&&K!==l);if(V===null?A=b:V.next=k,!Vn(b,a.memoizedState)&&(Yt=!0,le&&(c=Ao,c!==null)))throw c;a.memoizedState=b,a.baseState=A,a.baseQueue=V,m.lastRenderedState=b}return x===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function pm(a){var l=jt(),c=l.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var m=c.dispatch,x=c.pending,b=l.memoizedState;if(x!==null){c.pending=null;var A=x=x.next;do b=a(b,A.action),A=A.next;while(A!==x);Vn(b,l.memoizedState)||(Yt=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),c.lastRenderedState=b}return[b,m]}function I0(a,l,c){var m=qe,x=jt(),b=at;if(b){if(c===void 0)throw Error(i(407));c=c()}else c=l();var A=!Vn((dt||x).memoizedState,c);A&&(x.memoizedState=c,Yt=!0),x=x.queue;var k=M0.bind(null,m,x,a);if(is(2048,8,k,[a]),x.getSnapshot!==l||A||Ut!==null&&Ut.memoizedState.tag&1){if(m.flags|=2048,Do(9,Ku(),k0.bind(null,m,x,c,l),null),vt===null)throw Error(i(349));b||(jr&124)!==0||D0(m,l,c)}return c}function D0(a,l,c){a.flags|=16384,a={getSnapshot:l,value:c},l=qe.updateQueue,l===null?(l=dm(),qe.updateQueue=l,l.stores=[a]):(c=l.stores,c===null?l.stores=[a]:c.push(a))}function k0(a,l,c,m){l.value=c,l.getSnapshot=m,R0(l)&&L0(a)}function M0(a,l,c){return c(function(){R0(l)&&L0(a)})}function R0(a){var l=a.getSnapshot;a=a.value;try{var c=l();return!Vn(a,c)}catch{return!0}}function L0(a){var l=To(a,2);l!==null&&qn(l,a,2)}function hm(a){var l=kn();if(typeof a=="function"){var c=a;if(a=c(),Ra){Ie(!0);try{c()}finally{Ie(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:a},l}function O0(a,l,c,m){return a.baseState=c,mm(a,dt,typeof m=="function"?m:fr)}function s_(a,l,c,m,x){if(Ju(a))throw Error(i(485));if(a=l.action,a!==null){var b={payload:x,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};z.T!==null?c(!0):b.isTransition=!1,m(b),c=l.pending,c===null?(b.next=l.pending=b,P0(l,b)):(b.next=c.next,l.pending=c.next=b)}}function P0(a,l){var c=l.action,m=l.payload,x=a.state;if(l.isTransition){var b=z.T,A={};z.T=A;try{var k=c(x,m),V=z.S;V!==null&&V(A,k),U0(a,l,k)}catch(K){gm(a,l,K)}finally{z.T=b}}else try{b=c(x,m),U0(a,l,b)}catch(K){gm(a,l,K)}}function U0(a,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){j0(a,l,m)},function(m){return gm(a,l,m)}):j0(a,l,c)}function j0(a,l,c){l.status="fulfilled",l.value=c,z0(l),a.state=c,l=a.pending,l!==null&&(c=l.next,c===l?a.pending=null:(c=c.next,l.next=c,P0(a,c)))}function gm(a,l,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=c,z0(l),l=l.next;while(l!==m)}a.action=null}function z0(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function V0(a,l){return l}function F0(a,l){if(at){var c=vt.formState;if(c!==null){e:{var m=qe;if(at){if(It){t:{for(var x=It,b=Ri;x.nodeType!==8;){if(!b){x=null;break t}if(x=Ti(x.nextSibling),x===null){x=null;break t}}b=x.data,x=b==="F!"||b==="F"?x:null}if(x){It=Ti(x.nextSibling),m=x.data==="F!";break e}}Ia(m)}m=!1}m&&(l=c[0])}}return c=kn(),c.memoizedState=c.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V0,lastRenderedState:l},c.queue=m,c=ov.bind(null,qe,m),m.dispatch=c,m=hm(!1),b=Tm.bind(null,qe,!1,m.queue),m=kn(),x={state:l,dispatch:null,action:a,pending:null},m.queue=x,c=s_.bind(null,qe,x,b,c),x.dispatch=c,m.memoizedState=a,[l,c,!1]}function B0(a){var l=jt();return $0(l,dt,a)}function $0(a,l,c){if(l=mm(a,l,V0)[0],a=Zu(fr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=ns(l)}catch(A){throw A===Kl?$u:A}else m=l;l=jt();var x=l.queue,b=x.dispatch;return c!==l.memoizedState&&(qe.flags|=2048,Do(9,Ku(),u_.bind(null,x,c),null)),[m,b,a]}function u_(a,l){a.action=l}function H0(a){var l=jt(),c=dt;if(c!==null)return $0(l,c,a);jt(),l=l.memoizedState,c=jt();var m=c.queue.dispatch;return c.memoizedState=a,[l,m,!1]}function Do(a,l,c,m){return a={tag:a,create:c,deps:m,inst:l,next:null},l=qe.updateQueue,l===null&&(l=dm(),qe.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,l.lastEffect=a),a}function Ku(){return{destroy:void 0,resource:void 0}}function G0(){return jt().memoizedState}function Xu(a,l,c,m){var x=kn();m=m===void 0?null:m,qe.flags|=a,x.memoizedState=Do(1|l,Ku(),c,m)}function is(a,l,c,m){var x=jt();m=m===void 0?null:m;var b=x.memoizedState.inst;dt!==null&&m!==null&&om(m,dt.memoizedState.deps)?x.memoizedState=Do(l,b,c,m):(qe.flags|=a,x.memoizedState=Do(1|l,b,c,m))}function q0(a,l){Xu(8390656,8,a,l)}function W0(a,l){is(2048,8,a,l)}function Y0(a,l){return is(4,2,a,l)}function Z0(a,l){return is(4,4,a,l)}function K0(a,l){if(typeof l=="function"){a=a();var c=l(a);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function X0(a,l,c){c=c!=null?c.concat([a]):null,is(4,4,K0.bind(null,l,a),c)}function ym(){}function J0(a,l){var c=jt();l=l===void 0?null:l;var m=c.memoizedState;return l!==null&&om(l,m[1])?m[0]:(c.memoizedState=[a,l],a)}function Q0(a,l){var c=jt();l=l===void 0?null:l;var m=c.memoizedState;if(l!==null&&om(l,m[1]))return m[0];if(m=a(),Ra){Ie(!0);try{a()}finally{Ie(!1)}}return c.memoizedState=[m,l],m}function vm(a,l,c){return c===void 0||(jr&1073741824)!==0?a.memoizedState=l:(a.memoizedState=c,a=nx(),qe.lanes|=a,Gr|=a,c)}function ev(a,l,c,m){return Vn(c,l)?c:_o.current!==null?(a=vm(a,c,m),Vn(a,l)||(Yt=!0),a):(jr&42)===0?(Yt=!0,a.memoizedState=c):(a=nx(),qe.lanes|=a,Gr|=a,l)}function tv(a,l,c,m,x){var b=G.p;G.p=b!==0&&8>b?b:8;var A=z.T,k={};z.T=k,Tm(a,!1,l,c);try{var V=x(),K=z.S;if(K!==null&&K(k,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var le=a_(V,m);rs(a,l,le,Gn(a))}else rs(a,l,m,Gn(a))}catch(ue){rs(a,l,{then:function(){},status:"rejected",reason:ue},Gn())}finally{G.p=b,z.T=A}}function c_(){}function xm(a,l,c,m){if(a.tag!==5)throw Error(i(476));var x=nv(a).queue;tv(a,x,l,re,c===null?c_:function(){return iv(a),c(m)})}function nv(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:re},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:c},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function iv(a){var l=nv(a).next.queue;rs(a,l,{},Gn())}function bm(){return cn(Cs)}function rv(){return jt().memoizedState}function av(){return jt().memoizedState}function d_(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var c=Gn();a=Pr(c);var m=Ur(l,a,c);m!==null&&(qn(m,l,c),Jl(m,l,c)),l={cache:Kf()},a.payload=l;return}l=l.return}}function f_(a,l,c){var m=Gn();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Ju(a)?lv(l,c):(c=Vf(a,l,c,m),c!==null&&(qn(c,a,m),sv(c,l,m)))}function ov(a,l,c){var m=Gn();rs(a,l,c,m)}function rs(a,l,c,m){var x={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ju(a))lv(l,x);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var A=l.lastRenderedState,k=b(A,c);if(x.hasEagerState=!0,x.eagerState=k,Vn(k,A))return Ou(a,l,x,0),vt===null&&Lu(),!1}catch{}finally{}if(c=Vf(a,l,x,m),c!==null)return qn(c,a,m),sv(c,l,m),!0}return!1}function Tm(a,l,c,m){if(m={lane:2,revertLane:Qm(),action:m,hasEagerState:!1,eagerState:null,next:null},Ju(a)){if(l)throw Error(i(479))}else l=Vf(a,c,m,2),l!==null&&qn(l,a,2)}function Ju(a){var l=a.alternate;return a===qe||l!==null&&l===qe}function lv(a,l){No=qu=!0;var c=a.pending;c===null?l.next=l:(l.next=c.next,c.next=l),a.pending=l}function sv(a,l,c){if((c&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,c|=m,l.lanes=c,vi(a,c)}}var Qu={readContext:cn,use:Yu,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot},uv={readContext:cn,use:Yu,useCallback:function(a,l){return kn().memoizedState=[a,l===void 0?null:l],a},useContext:cn,useEffect:q0,useImperativeHandle:function(a,l,c){c=c!=null?c.concat([a]):null,Xu(4194308,4,K0.bind(null,l,a),c)},useLayoutEffect:function(a,l){return Xu(4194308,4,a,l)},useInsertionEffect:function(a,l){Xu(4,2,a,l)},useMemo:function(a,l){var c=kn();l=l===void 0?null:l;var m=a();if(Ra){Ie(!0);try{a()}finally{Ie(!1)}}return c.memoizedState=[m,l],m},useReducer:function(a,l,c){var m=kn();if(c!==void 0){var x=c(l);if(Ra){Ie(!0);try{c(l)}finally{Ie(!1)}}}else x=l;return m.memoizedState=m.baseState=x,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:x},m.queue=a,a=a.dispatch=f_.bind(null,qe,a),[m.memoizedState,a]},useRef:function(a){var l=kn();return a={current:a},l.memoizedState=a},useState:function(a){a=hm(a);var l=a.queue,c=ov.bind(null,qe,l);return l.dispatch=c,[a.memoizedState,c]},useDebugValue:ym,useDeferredValue:function(a,l){var c=kn();return vm(c,a,l)},useTransition:function(){var a=hm(!1);return a=tv.bind(null,qe,a.queue,!0,!1),kn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,c){var m=qe,x=kn();if(at){if(c===void 0)throw Error(i(407));c=c()}else{if(c=l(),vt===null)throw Error(i(349));(Je&124)!==0||D0(m,l,c)}x.memoizedState=c;var b={value:c,getSnapshot:l};return x.queue=b,q0(M0.bind(null,m,b,a),[a]),m.flags|=2048,Do(9,Ku(),k0.bind(null,m,b,c,l),null),c},useId:function(){var a=kn(),l=vt.identifierPrefix;if(at){var c=ur,m=sr;c=(m&~(1<<32-Le(m)-1)).toString(32)+c,l="«"+l+"R"+c,c=Wu++,0<c&&(l+="H"+c.toString(32)),l+="»"}else c=o_++,l="«"+l+"r"+c.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:bm,useFormState:F0,useActionState:F0,useOptimistic:function(a){var l=kn();l.memoizedState=l.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=Tm.bind(null,qe,!0,c),c.dispatch=l,[a,l]},useMemoCache:fm,useCacheRefresh:function(){return kn().memoizedState=d_.bind(null,qe)}},cv={readContext:cn,use:Yu,useCallback:J0,useContext:cn,useEffect:W0,useImperativeHandle:X0,useInsertionEffect:Y0,useLayoutEffect:Z0,useMemo:Q0,useReducer:Zu,useRef:G0,useState:function(){return Zu(fr)},useDebugValue:ym,useDeferredValue:function(a,l){var c=jt();return ev(c,dt.memoizedState,a,l)},useTransition:function(){var a=Zu(fr)[0],l=jt().memoizedState;return[typeof a=="boolean"?a:ns(a),l]},useSyncExternalStore:I0,useId:rv,useHostTransitionStatus:bm,useFormState:B0,useActionState:B0,useOptimistic:function(a,l){var c=jt();return O0(c,dt,a,l)},useMemoCache:fm,useCacheRefresh:av},m_={readContext:cn,use:Yu,useCallback:J0,useContext:cn,useEffect:W0,useImperativeHandle:X0,useInsertionEffect:Y0,useLayoutEffect:Z0,useMemo:Q0,useReducer:pm,useRef:G0,useState:function(){return pm(fr)},useDebugValue:ym,useDeferredValue:function(a,l){var c=jt();return dt===null?vm(c,a,l):ev(c,dt.memoizedState,a,l)},useTransition:function(){var a=pm(fr)[0],l=jt().memoizedState;return[typeof a=="boolean"?a:ns(a),l]},useSyncExternalStore:I0,useId:rv,useHostTransitionStatus:bm,useFormState:H0,useActionState:H0,useOptimistic:function(a,l){var c=jt();return dt!==null?O0(c,dt,a,l):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:fm,useCacheRefresh:av},ko=null,as=0;function ec(a){var l=as;return as+=1,ko===null&&(ko=[]),T0(ko,a,l)}function os(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function tc(a,l){throw l.$$typeof===v?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function dv(a){var l=a._init;return l(a._payload)}function fv(a){function l(W,F){if(a){var Y=W.deletions;Y===null?(W.deletions=[F],W.flags|=16):Y.push(F)}}function c(W,F){if(!a)return null;for(;F!==null;)l(W,F),F=F.sibling;return null}function m(W){for(var F=new Map;W!==null;)W.key!==null?F.set(W.key,W):F.set(W.index,W),W=W.sibling;return F}function x(W,F){return W=lr(W,F),W.index=0,W.sibling=null,W}function b(W,F,Y){return W.index=Y,a?(Y=W.alternate,Y!==null?(Y=Y.index,Y<F?(W.flags|=67108866,F):Y):(W.flags|=67108866,F)):(W.flags|=1048576,F)}function A(W){return a&&W.alternate===null&&(W.flags|=67108866),W}function k(W,F,Y,se){return F===null||F.tag!==6?(F=Bf(Y,W.mode,se),F.return=W,F):(F=x(F,Y),F.return=W,F)}function V(W,F,Y,se){var Ae=Y.type;return Ae===S?le(W,F,Y.props.children,se,Y.key):F!==null&&(F.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===q&&dv(Ae)===F.type)?(F=x(F,Y.props),os(F,Y),F.return=W,F):(F=Uu(Y.type,Y.key,Y.props,null,W.mode,se),os(F,Y),F.return=W,F)}function K(W,F,Y,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=$f(Y,W.mode,se),F.return=W,F):(F=x(F,Y.children||[]),F.return=W,F)}function le(W,F,Y,se,Ae){return F===null||F.tag!==7?(F=wa(Y,W.mode,se,Ae),F.return=W,F):(F=x(F,Y),F.return=W,F)}function ue(W,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Bf(""+F,W.mode,Y),F.return=W,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return Y=Uu(F.type,F.key,F.props,null,W.mode,Y),os(Y,F),Y.return=W,Y;case C:return F=$f(F,W.mode,Y),F.return=W,F;case q:var se=F._init;return F=se(F._payload),ue(W,F,Y)}if(Q(F)||ne(F))return F=wa(F,W.mode,Y,null),F.return=W,F;if(typeof F.then=="function")return ue(W,ec(F),Y);if(F.$$typeof===M)return ue(W,Fu(W,F),Y);tc(W,F)}return null}function J(W,F,Y,se){var Ae=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ae!==null?null:k(W,F,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return Y.key===Ae?V(W,F,Y,se):null;case C:return Y.key===Ae?K(W,F,Y,se):null;case q:return Ae=Y._init,Y=Ae(Y._payload),J(W,F,Y,se)}if(Q(Y)||ne(Y))return Ae!==null?null:le(W,F,Y,se,null);if(typeof Y.then=="function")return J(W,F,ec(Y),se);if(Y.$$typeof===M)return J(W,F,Fu(W,Y),se);tc(W,Y)}return null}function te(W,F,Y,se,Ae){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return W=W.get(Y)||null,k(F,W,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case T:return W=W.get(se.key===null?Y:se.key)||null,V(F,W,se,Ae);case C:return W=W.get(se.key===null?Y:se.key)||null,K(F,W,se,Ae);case q:var We=se._init;return se=We(se._payload),te(W,F,Y,se,Ae)}if(Q(se)||ne(se))return W=W.get(Y)||null,le(F,W,se,Ae,null);if(typeof se.then=="function")return te(W,F,Y,ec(se),Ae);if(se.$$typeof===M)return te(W,F,Y,Fu(F,se),Ae);tc(F,se)}return null}function ze(W,F,Y,se){for(var Ae=null,We=null,Me=F,je=F=0,Kt=null;Me!==null&&je<Y.length;je++){Me.index>je?(Kt=Me,Me=null):Kt=Me.sibling;var rt=J(W,Me,Y[je],se);if(rt===null){Me===null&&(Me=Kt);break}a&&Me&&rt.alternate===null&&l(W,Me),F=b(rt,F,je),We===null?Ae=rt:We.sibling=rt,We=rt,Me=Kt}if(je===Y.length)return c(W,Me),at&&_a(W,je),Ae;if(Me===null){for(;je<Y.length;je++)Me=ue(W,Y[je],se),Me!==null&&(F=b(Me,F,je),We===null?Ae=Me:We.sibling=Me,We=Me);return at&&_a(W,je),Ae}for(Me=m(Me);je<Y.length;je++)Kt=te(Me,W,je,Y[je],se),Kt!==null&&(a&&Kt.alternate!==null&&Me.delete(Kt.key===null?je:Kt.key),F=b(Kt,F,je),We===null?Ae=Kt:We.sibling=Kt,We=Kt);return a&&Me.forEach(function(ea){return l(W,ea)}),at&&_a(W,je),Ae}function Ue(W,F,Y,se){if(Y==null)throw Error(i(151));for(var Ae=null,We=null,Me=F,je=F=0,Kt=null,rt=Y.next();Me!==null&&!rt.done;je++,rt=Y.next()){Me.index>je?(Kt=Me,Me=null):Kt=Me.sibling;var ea=J(W,Me,rt.value,se);if(ea===null){Me===null&&(Me=Kt);break}a&&Me&&ea.alternate===null&&l(W,Me),F=b(ea,F,je),We===null?Ae=ea:We.sibling=ea,We=ea,Me=Kt}if(rt.done)return c(W,Me),at&&_a(W,je),Ae;if(Me===null){for(;!rt.done;je++,rt=Y.next())rt=ue(W,rt.value,se),rt!==null&&(F=b(rt,F,je),We===null?Ae=rt:We.sibling=rt,We=rt);return at&&_a(W,je),Ae}for(Me=m(Me);!rt.done;je++,rt=Y.next())rt=te(Me,W,je,rt.value,se),rt!==null&&(a&&rt.alternate!==null&&Me.delete(rt.key===null?je:rt.key),F=b(rt,F,je),We===null?Ae=rt:We.sibling=rt,We=rt);return a&&Me.forEach(function(pN){return l(W,pN)}),at&&_a(W,je),Ae}function mt(W,F,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:e:{for(var Ae=Y.key;F!==null;){if(F.key===Ae){if(Ae=Y.type,Ae===S){if(F.tag===7){c(W,F.sibling),se=x(F,Y.props.children),se.return=W,W=se;break e}}else if(F.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===q&&dv(Ae)===F.type){c(W,F.sibling),se=x(F,Y.props),os(se,Y),se.return=W,W=se;break e}c(W,F);break}else l(W,F);F=F.sibling}Y.type===S?(se=wa(Y.props.children,W.mode,se,Y.key),se.return=W,W=se):(se=Uu(Y.type,Y.key,Y.props,null,W.mode,se),os(se,Y),se.return=W,W=se)}return A(W);case C:e:{for(Ae=Y.key;F!==null;){if(F.key===Ae)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){c(W,F.sibling),se=x(F,Y.children||[]),se.return=W,W=se;break e}else{c(W,F);break}else l(W,F);F=F.sibling}se=$f(Y,W.mode,se),se.return=W,W=se}return A(W);case q:return Ae=Y._init,Y=Ae(Y._payload),mt(W,F,Y,se)}if(Q(Y))return ze(W,F,Y,se);if(ne(Y)){if(Ae=ne(Y),typeof Ae!="function")throw Error(i(150));return Y=Ae.call(Y),Ue(W,F,Y,se)}if(typeof Y.then=="function")return mt(W,F,ec(Y),se);if(Y.$$typeof===M)return mt(W,F,Fu(W,Y),se);tc(W,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(c(W,F.sibling),se=x(F,Y),se.return=W,W=se):(c(W,F),se=Bf(Y,W.mode,se),se.return=W,W=se),A(W)):c(W,F)}return function(W,F,Y,se){try{as=0;var Ae=mt(W,F,Y,se);return ko=null,Ae}catch(Me){if(Me===Kl||Me===$u)throw Me;var We=Fn(29,Me,null,W.mode);return We.lanes=se,We.return=W,We}finally{}}}var Mo=fv(!0),mv=fv(!1),si=H(null),Li=null;function zr(a){var l=a.alternate;O(Ht,Ht.current&1),O(si,a),Li===null&&(l===null||_o.current!==null||l.memoizedState!==null)&&(Li=a)}function pv(a){if(a.tag===22){if(O(Ht,Ht.current),O(si,a),Li===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Li=a)}}else Vr()}function Vr(){O(Ht,Ht.current),O(si,si.current)}function mr(a){ie(si),Li===a&&(Li=null),ie(Ht)}var Ht=H(0);function nc(a){for(var l=a;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||dp(c)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Cm(a,l,c,m){l=a.memoizedState,c=c(m,l),c=c==null?l:h({},l,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Sm={enqueueSetState:function(a,l,c){a=a._reactInternals;var m=Gn(),x=Pr(m);x.payload=l,c!=null&&(x.callback=c),l=Ur(a,x,m),l!==null&&(qn(l,a,m),Jl(l,a,m))},enqueueReplaceState:function(a,l,c){a=a._reactInternals;var m=Gn(),x=Pr(m);x.tag=1,x.payload=l,c!=null&&(x.callback=c),l=Ur(a,x,m),l!==null&&(qn(l,a,m),Jl(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var c=Gn(),m=Pr(c);m.tag=2,l!=null&&(m.callback=l),l=Ur(a,m,c),l!==null&&(qn(l,a,c),Jl(l,a,c))}};function hv(a,l,c,m,x,b,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,b,A):l.prototype&&l.prototype.isPureReactComponent?!Bl(c,m)||!Bl(x,b):!0}function gv(a,l,c,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,m),l.state!==a&&Sm.enqueueReplaceState(l,l.state,null)}function La(a,l){var c=l;if("ref"in l){c={};for(var m in l)m!=="ref"&&(c[m]=l[m])}if(a=a.defaultProps){c===l&&(c=h({},c));for(var x in a)c[x]===void 0&&(c[x]=a[x])}return c}var ic=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function yv(a){ic(a)}function vv(a){console.error(a)}function xv(a){ic(a)}function rc(a,l){try{var c=a.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function bv(a,l,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Em(a,l,c){return c=Pr(c),c.tag=3,c.payload={element:null},c.callback=function(){rc(a,l)},c}function Tv(a){return a=Pr(a),a.tag=3,a}function Cv(a,l,c,m){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var b=m.value;a.payload=function(){return x(b)},a.callback=function(){bv(l,c,m)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){bv(l,c,m),typeof x!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function p_(a,l,c,m,x){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=c.alternate,l!==null&&Wl(l,c,x,!0),c=si.current,c!==null){switch(c.tag){case 13:return Li===null?Ym():c.alternate===null&&Dt===0&&(Dt=3),c.flags&=-257,c.flags|=65536,c.lanes=x,m===Qf?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([m]):l.add(m),Km(a,m,x)),!1;case 22:return c.flags|=65536,m===Qf?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([m]):c.add(m)),Km(a,m,x)),!1}throw Error(i(435,c.tag))}return Km(a,m,x),Ym(),!1}if(at)return l=si.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,m!==qf&&(a=Error(i(422),{cause:m}),ql(ri(a,c)))):(m!==qf&&(l=Error(i(423),{cause:m}),ql(ri(l,c))),a=a.current.alternate,a.flags|=65536,x&=-x,a.lanes|=x,m=ri(m,c),x=Em(a.stateNode,m,x),nm(a,x),Dt!==4&&(Dt=2)),!1;var b=Error(i(520),{cause:m});if(b=ri(b,c),ms===null?ms=[b]:ms.push(b),Dt!==4&&(Dt=2),l===null)return!0;m=ri(m,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,a=x&-x,c.lanes|=a,a=Em(c.stateNode,m,a),nm(c,a),!1;case 1:if(l=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qr===null||!qr.has(b))))return c.flags|=65536,x&=-x,c.lanes|=x,x=Tv(x),Cv(x,a,c,m),nm(c,x),!1}c=c.return}while(c!==null);return!1}var Sv=Error(i(461)),Yt=!1;function tn(a,l,c,m){l.child=a===null?mv(l,null,c,m):Mo(l,a.child,c,m)}function Ev(a,l,c,m,x){c=c.render;var b=l.ref;if("ref"in m){var A={};for(var k in m)k!=="ref"&&(A[k]=m[k])}else A=m;return ka(l),m=lm(a,l,c,A,b,x),k=sm(),a!==null&&!Yt?(um(a,l,x),pr(a,l,x)):(at&&k&&Hf(l),l.flags|=1,tn(a,l,m,x),l.child)}function wv(a,l,c,m,x){if(a===null){var b=c.type;return typeof b=="function"&&!Ff(b)&&b.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=b,Av(a,l,b,m,x)):(a=Uu(c.type,null,m,l,l.mode,x),a.ref=l.ref,a.return=l,l.child=a)}if(b=a.child,!Mm(a,x)){var A=b.memoizedProps;if(c=c.compare,c=c!==null?c:Bl,c(A,m)&&a.ref===l.ref)return pr(a,l,x)}return l.flags|=1,a=lr(b,m),a.ref=l.ref,a.return=l,l.child=a}function Av(a,l,c,m,x){if(a!==null){var b=a.memoizedProps;if(Bl(b,m)&&a.ref===l.ref)if(Yt=!1,l.pendingProps=m=b,Mm(a,x))(a.flags&131072)!==0&&(Yt=!0);else return l.lanes=a.lanes,pr(a,l,x)}return wm(a,l,c,m,x)}function _v(a,l,c){var m=l.pendingProps,x=m.children,b=a!==null?a.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=b!==null?b.baseLanes|c:c,a!==null){for(x=l.child=a.child,b=0;x!==null;)b=b|x.lanes|x.childLanes,x=x.sibling;l.childLanes=b&~m}else l.childLanes=0,l.child=null;return Nv(a,l,m,c)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Bu(l,b!==null?b.cachePool:null),b!==null?A0(l,b):rm(),pv(l);else return l.lanes=l.childLanes=536870912,Nv(a,l,b!==null?b.baseLanes|c:c,c)}else b!==null?(Bu(l,b.cachePool),A0(l,b),Vr(),l.memoizedState=null):(a!==null&&Bu(l,null),rm(),Vr());return tn(a,l,x,c),l.child}function Nv(a,l,c,m){var x=Jf();return x=x===null?null:{parent:$t._currentValue,pool:x},l.memoizedState={baseLanes:c,cachePool:x},a!==null&&Bu(l,null),rm(),pv(l),a!==null&&Wl(a,l,m,!0),null}function ac(a,l){var c=l.ref;if(c===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(a===null||a.ref!==c)&&(l.flags|=4194816)}}function wm(a,l,c,m,x){return ka(l),c=lm(a,l,c,m,void 0,x),m=sm(),a!==null&&!Yt?(um(a,l,x),pr(a,l,x)):(at&&m&&Hf(l),l.flags|=1,tn(a,l,c,x),l.child)}function Iv(a,l,c,m,x,b){return ka(l),l.updateQueue=null,c=N0(l,m,c,x),_0(a),m=sm(),a!==null&&!Yt?(um(a,l,b),pr(a,l,b)):(at&&m&&Hf(l),l.flags|=1,tn(a,l,c,b),l.child)}function Dv(a,l,c,m,x){if(ka(l),l.stateNode===null){var b=Co,A=c.contextType;typeof A=="object"&&A!==null&&(b=cn(A)),b=new c(m,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Sm,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=m,b.state=l.memoizedState,b.refs={},em(l),A=c.contextType,b.context=typeof A=="object"&&A!==null?cn(A):Co,b.state=l.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Cm(l,c,A,m),b.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&Sm.enqueueReplaceState(b,b.state,null),es(l,m,b,x),Ql(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){b=l.stateNode;var k=l.memoizedProps,V=La(c,k);b.props=V;var K=b.context,le=c.contextType;A=Co,typeof le=="object"&&le!==null&&(A=cn(le));var ue=c.getDerivedStateFromProps;le=typeof ue=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,le||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||K!==A)&&gv(l,b,m,A),Or=!1;var J=l.memoizedState;b.state=J,es(l,m,b,x),Ql(),K=l.memoizedState,k||J!==K||Or?(typeof ue=="function"&&(Cm(l,c,ue,m),K=l.memoizedState),(V=Or||hv(l,c,V,m,J,K,A))?(le||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=K),b.props=m,b.state=K,b.context=A,m=V):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{b=l.stateNode,tm(a,l),A=l.memoizedProps,le=La(c,A),b.props=le,ue=l.pendingProps,J=b.context,K=c.contextType,V=Co,typeof K=="object"&&K!==null&&(V=cn(K)),k=c.getDerivedStateFromProps,(K=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==ue||J!==V)&&gv(l,b,m,V),Or=!1,J=l.memoizedState,b.state=J,es(l,m,b,x),Ql();var te=l.memoizedState;A!==ue||J!==te||Or||a!==null&&a.dependencies!==null&&Vu(a.dependencies)?(typeof k=="function"&&(Cm(l,c,k,m),te=l.memoizedState),(le=Or||hv(l,c,le,m,J,te,V)||a!==null&&a.dependencies!==null&&Vu(a.dependencies))?(K||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,te,V),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,te,V)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===a.memoizedProps&&J===a.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&J===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=te),b.props=m,b.state=te,b.context=V,m=le):(typeof b.componentDidUpdate!="function"||A===a.memoizedProps&&J===a.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&J===a.memoizedState||(l.flags|=1024),m=!1)}return b=m,ac(a,l),m=(l.flags&128)!==0,b||m?(b=l.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,a!==null&&m?(l.child=Mo(l,a.child,null,x),l.child=Mo(l,null,c,x)):tn(a,l,c,x),l.memoizedState=b.state,a=l.child):a=pr(a,l,x),a}function kv(a,l,c,m){return Gl(),l.flags|=256,tn(a,l,c,m),l.child}var Am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(a){return{baseLanes:a,cachePool:v0()}}function Nm(a,l,c){return a=a!==null?a.childLanes&~c:0,l&&(a|=ui),a}function Mv(a,l,c){var m=l.pendingProps,x=!1,b=(l.flags&128)!==0,A;if((A=b)||(A=a!==null&&a.memoizedState===null?!1:(Ht.current&2)!==0),A&&(x=!0,l.flags&=-129),A=(l.flags&32)!==0,l.flags&=-33,a===null){if(at){if(x?zr(l):Vr(),at){var k=It,V;if(V=k){e:{for(V=k,k=Ri;V.nodeType!==8;){if(!k){k=null;break e}if(V=Ti(V.nextSibling),V===null){k=null;break e}}k=V}k!==null?(l.memoizedState={dehydrated:k,treeContext:Aa!==null?{id:sr,overflow:ur}:null,retryLane:536870912,hydrationErrors:null},V=Fn(18,null,null,0),V.stateNode=k,V.return=l,l.child=V,xn=l,It=null,V=!0):V=!1}V||Ia(l)}if(k=l.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return dp(k)?l.lanes=32:l.lanes=536870912,null;mr(l)}return k=m.children,m=m.fallback,x?(Vr(),x=l.mode,k=oc({mode:"hidden",children:k},x),m=wa(m,x,c,null),k.return=l,m.return=l,k.sibling=m,l.child=k,x=l.child,x.memoizedState=_m(c),x.childLanes=Nm(a,A,c),l.memoizedState=Am,m):(zr(l),Im(l,k))}if(V=a.memoizedState,V!==null&&(k=V.dehydrated,k!==null)){if(b)l.flags&256?(zr(l),l.flags&=-257,l=Dm(a,l,c)):l.memoizedState!==null?(Vr(),l.child=a.child,l.flags|=128,l=null):(Vr(),x=m.fallback,k=l.mode,m=oc({mode:"visible",children:m.children},k),x=wa(x,k,c,null),x.flags|=2,m.return=l,x.return=l,m.sibling=x,l.child=m,Mo(l,a.child,null,c),m=l.child,m.memoizedState=_m(c),m.childLanes=Nm(a,A,c),l.memoizedState=Am,l=x);else if(zr(l),dp(k)){if(A=k.nextSibling&&k.nextSibling.dataset,A)var K=A.dgst;A=K,m=Error(i(419)),m.stack="",m.digest=A,ql({value:m,source:null,stack:null}),l=Dm(a,l,c)}else if(Yt||Wl(a,l,c,!1),A=(c&a.childLanes)!==0,Yt||A){if(A=vt,A!==null&&(m=c&-c,m=(m&42)!==0?1:sn(m),m=(m&(A.suspendedLanes|c))!==0?0:m,m!==0&&m!==V.retryLane))throw V.retryLane=m,To(a,m),qn(A,a,m),Sv;k.data==="$?"||Ym(),l=Dm(a,l,c)}else k.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=V.treeContext,It=Ti(k.nextSibling),xn=l,at=!0,Na=null,Ri=!1,a!==null&&(oi[li++]=sr,oi[li++]=ur,oi[li++]=Aa,sr=a.id,ur=a.overflow,Aa=l),l=Im(l,m.children),l.flags|=4096);return l}return x?(Vr(),x=m.fallback,k=l.mode,V=a.child,K=V.sibling,m=lr(V,{mode:"hidden",children:m.children}),m.subtreeFlags=V.subtreeFlags&65011712,K!==null?x=lr(K,x):(x=wa(x,k,c,null),x.flags|=2),x.return=l,m.return=l,m.sibling=x,l.child=m,m=x,x=l.child,k=a.child.memoizedState,k===null?k=_m(c):(V=k.cachePool,V!==null?(K=$t._currentValue,V=V.parent!==K?{parent:K,pool:K}:V):V=v0(),k={baseLanes:k.baseLanes|c,cachePool:V}),x.memoizedState=k,x.childLanes=Nm(a,A,c),l.memoizedState=Am,m):(zr(l),c=a.child,a=c.sibling,c=lr(c,{mode:"visible",children:m.children}),c.return=l,c.sibling=null,a!==null&&(A=l.deletions,A===null?(l.deletions=[a],l.flags|=16):A.push(a)),l.child=c,l.memoizedState=null,c)}function Im(a,l){return l=oc({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function oc(a,l){return a=Fn(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Dm(a,l,c){return Mo(l,a.child,null,c),a=Im(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Rv(a,l,c){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Yf(a.return,l,c)}function km(a,l,c,m,x){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:x}:(b.isBackwards=l,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=c,b.tailMode=x)}function Lv(a,l,c){var m=l.pendingProps,x=m.revealOrder,b=m.tail;if(tn(a,l,m.children,c),m=Ht.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Rv(a,c,l);else if(a.tag===19)Rv(a,c,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(O(Ht,m),x){case"forwards":for(c=l.child,x=null;c!==null;)a=c.alternate,a!==null&&nc(a)===null&&(x=c),c=c.sibling;c=x,c===null?(x=l.child,l.child=null):(x=c.sibling,c.sibling=null),km(l,!1,x,c,b);break;case"backwards":for(c=null,x=l.child,l.child=null;x!==null;){if(a=x.alternate,a!==null&&nc(a)===null){l.child=x;break}a=x.sibling,x.sibling=c,c=x,x=a}km(l,!0,c,null,b);break;case"together":km(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function pr(a,l,c){if(a!==null&&(l.dependencies=a.dependencies),Gr|=l.lanes,(c&l.childLanes)===0)if(a!==null){if(Wl(a,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,c=lr(a,a.pendingProps),l.child=c,c.return=l;a.sibling!==null;)a=a.sibling,c=c.sibling=lr(a,a.pendingProps),c.return=l;c.sibling=null}return l.child}function Mm(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Vu(a)))}function h_(a,l,c){switch(l.tag){case 3:pe(l,l.stateNode.containerInfo),Lr(l,$t,a.memoizedState.cache),Gl();break;case 27:case 5:Re(l);break;case 4:pe(l,l.stateNode.containerInfo);break;case 10:Lr(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(zr(l),l.flags|=128,null):(c&l.child.childLanes)!==0?Mv(a,l,c):(zr(l),a=pr(a,l,c),a!==null?a.sibling:null);zr(l);break;case 19:var x=(a.flags&128)!==0;if(m=(c&l.childLanes)!==0,m||(Wl(a,l,c,!1),m=(c&l.childLanes)!==0),x){if(m)return Lv(a,l,c);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),O(Ht,Ht.current),m)break;return null;case 22:case 23:return l.lanes=0,_v(a,l,c);case 24:Lr(l,$t,a.memoizedState.cache)}return pr(a,l,c)}function Ov(a,l,c){if(a!==null)if(a.memoizedProps!==l.pendingProps)Yt=!0;else{if(!Mm(a,c)&&(l.flags&128)===0)return Yt=!1,h_(a,l,c);Yt=(a.flags&131072)!==0}else Yt=!1,at&&(l.flags&1048576)!==0&&d0(l,zu,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var m=l.elementType,x=m._init;if(m=x(m._payload),l.type=m,typeof m=="function")Ff(m)?(a=La(m,a),l.tag=1,l=Dv(null,l,m,a,c)):(l.tag=0,l=wm(null,l,m,a,c));else{if(m!=null){if(x=m.$$typeof,x===P){l.tag=11,l=Ev(null,l,m,a,c);break e}else if(x===B){l.tag=14,l=wv(null,l,m,a,c);break e}}throw l=ee(m)||m,Error(i(306,l,""))}}return l;case 0:return wm(a,l,l.type,l.pendingProps,c);case 1:return m=l.type,x=La(m,l.pendingProps),Dv(a,l,m,x,c);case 3:e:{if(pe(l,l.stateNode.containerInfo),a===null)throw Error(i(387));m=l.pendingProps;var b=l.memoizedState;x=b.element,tm(a,l),es(l,m,null,c);var A=l.memoizedState;if(m=A.cache,Lr(l,$t,m),m!==b.cache&&Zf(l,[$t],c,!0),Ql(),m=A.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:A.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=kv(a,l,m,c);break e}else if(m!==x){x=ri(Error(i(424)),l),ql(x),l=kv(a,l,m,c);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(It=Ti(a.firstChild),xn=l,at=!0,Na=null,Ri=!0,c=mv(l,null,m,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Gl(),m===x){l=pr(a,l,c);break e}tn(a,l,m,c)}l=l.child}return l;case 26:return ac(a,l),a===null?(c=zx(l.type,null,l.pendingProps,null))?l.memoizedState=c:at||(c=l.type,a=l.pendingProps,m=bc(ye.current).createElement(c),m[Tt]=l,m[Ct]=a,rn(m,c,a),Wt(m),l.stateNode=m):l.memoizedState=zx(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Re(l),a===null&&at&&(m=l.stateNode=Px(l.type,l.pendingProps,ye.current),xn=l,Ri=!0,x=It,Zr(l.type)?(fp=x,It=Ti(m.firstChild)):It=x),tn(a,l,l.pendingProps.children,c),ac(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&at&&((x=m=It)&&(m=$_(m,l.type,l.pendingProps,Ri),m!==null?(l.stateNode=m,xn=l,It=Ti(m.firstChild),Ri=!1,x=!0):x=!1),x||Ia(l)),Re(l),x=l.type,b=l.pendingProps,A=a!==null?a.memoizedProps:null,m=b.children,sp(x,b)?m=null:A!==null&&sp(x,A)&&(l.flags|=32),l.memoizedState!==null&&(x=lm(a,l,l_,null,null,c),Cs._currentValue=x),ac(a,l),tn(a,l,m,c),l.child;case 6:return a===null&&at&&((a=c=It)&&(c=H_(c,l.pendingProps,Ri),c!==null?(l.stateNode=c,xn=l,It=null,a=!0):a=!1),a||Ia(l)),null;case 13:return Mv(a,l,c);case 4:return pe(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Mo(l,null,m,c):tn(a,l,m,c),l.child;case 11:return Ev(a,l,l.type,l.pendingProps,c);case 7:return tn(a,l,l.pendingProps,c),l.child;case 8:return tn(a,l,l.pendingProps.children,c),l.child;case 12:return tn(a,l,l.pendingProps.children,c),l.child;case 10:return m=l.pendingProps,Lr(l,l.type,m.value),tn(a,l,m.children,c),l.child;case 9:return x=l.type._context,m=l.pendingProps.children,ka(l),x=cn(x),m=m(x),l.flags|=1,tn(a,l,m,c),l.child;case 14:return wv(a,l,l.type,l.pendingProps,c);case 15:return Av(a,l,l.type,l.pendingProps,c);case 19:return Lv(a,l,c);case 31:return m=l.pendingProps,c=l.mode,m={mode:m.mode,children:m.children},a===null?(c=oc(m,c),c.ref=l.ref,l.child=c,c.return=l,l=c):(c=lr(a.child,m),c.ref=l.ref,l.child=c,c.return=l,l=c),l;case 22:return _v(a,l,c);case 24:return ka(l),m=cn($t),a===null?(x=Jf(),x===null&&(x=vt,b=Kf(),x.pooledCache=b,b.refCount++,b!==null&&(x.pooledCacheLanes|=c),x=b),l.memoizedState={parent:m,cache:x},em(l),Lr(l,$t,x)):((a.lanes&c)!==0&&(tm(a,l),es(l,null,null,c),Ql()),x=a.memoizedState,b=l.memoizedState,x.parent!==m?(x={parent:m,cache:m},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),Lr(l,$t,m)):(m=b.cache,Lr(l,$t,m),m!==x.cache&&Zf(l,[$t],c,!0))),tn(a,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function hr(a){a.flags|=4}function Pv(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Hx(l)){if(l=si.current,l!==null&&((Je&4194048)===Je?Li!==null:(Je&62914560)!==Je&&(Je&536870912)===0||l!==Li))throw Xl=Qf,x0;a.flags|=8192}}function lc(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Cu():536870912,a.lanes|=l,Po|=l)}function ls(a,l){if(!at)switch(a.tailMode){case"hidden":l=a.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function At(a){var l=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(l)for(var x=a.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=m,a.childLanes=c,l}function g_(a,l,c){var m=l.pendingProps;switch(Gf(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(l),null;case 1:return At(l),null;case 3:return c=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),dr($t),Ne(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Hl(l)?hr(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,p0())),At(l),null;case 26:return c=l.memoizedState,a===null?(hr(l),c!==null?(At(l),Pv(l,c)):(At(l),l.flags&=-16777217)):c?c!==a.memoizedState?(hr(l),At(l),Pv(l,c)):(At(l),l.flags&=-16777217):(a.memoizedProps!==m&&hr(l),At(l),l.flags&=-16777217),null;case 27:st(l),c=ye.current;var x=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==m&&hr(l);else{if(!m){if(l.stateNode===null)throw Error(i(166));return At(l),null}a=ve.current,Hl(l)?f0(l):(a=Px(x,m,c),l.stateNode=a,hr(l))}return At(l),null;case 5:if(st(l),c=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&hr(l);else{if(!m){if(l.stateNode===null)throw Error(i(166));return At(l),null}if(a=ve.current,Hl(l))f0(l);else{switch(x=bc(ye.current),a){case 1:a=x.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:a=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":a=x.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":a=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":a=x.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?x.createElement(c,{is:m.is}):x.createElement(c)}}a[Tt]=l,a[Ct]=m;e:for(x=l.child;x!==null;){if(x.tag===5||x.tag===6)a.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===l)break e;for(;x.sibling===null;){if(x.return===null||x.return===l)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}l.stateNode=a;e:switch(rn(a,c,m),c){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&hr(l)}}return At(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&hr(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(i(166));if(a=ye.current,Hl(l)){if(a=l.stateNode,c=l.memoizedProps,m=null,x=xn,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}a[Tt]=l,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||Ix(a.nodeValue,c)),a||Ia(l)}else a=bc(a).createTextNode(m),a[Tt]=l,l.stateNode=a}return At(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(x=Hl(l),m!==null&&m.dehydrated!==null){if(a===null){if(!x)throw Error(i(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(i(317));x[Tt]=l}else Gl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;At(l),x=!1}else x=p0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(mr(l),l):(mr(l),null)}if(mr(l),(l.flags&128)!==0)return l.lanes=c,l;if(c=m!==null,a=a!==null&&a.memoizedState!==null,c){m=l.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool);var b=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==x&&(m.flags|=2048)}return c!==a&&c&&(l.child.flags|=8192),lc(l,l.updateQueue),At(l),null;case 4:return Ne(),a===null&&ip(l.stateNode.containerInfo),At(l),null;case 10:return dr(l.type),At(l),null;case 19:if(ie(Ht),x=l.memoizedState,x===null)return At(l),null;if(m=(l.flags&128)!==0,b=x.rendering,b===null)if(m)ls(x,!1);else{if(Dt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(b=nc(a),b!==null){for(l.flags|=128,ls(x,!1),a=b.updateQueue,l.updateQueue=a,lc(l,a),l.subtreeFlags=0,a=c,c=l.child;c!==null;)c0(c,a),c=c.sibling;return O(Ht,Ht.current&1|2),l.child}a=a.sibling}x.tail!==null&&Bt()>cc&&(l.flags|=128,m=!0,ls(x,!1),l.lanes=4194304)}else{if(!m)if(a=nc(b),a!==null){if(l.flags|=128,m=!0,a=a.updateQueue,l.updateQueue=a,lc(l,a),ls(x,!0),x.tail===null&&x.tailMode==="hidden"&&!b.alternate&&!at)return At(l),null}else 2*Bt()-x.renderingStartTime>cc&&c!==536870912&&(l.flags|=128,m=!0,ls(x,!1),l.lanes=4194304);x.isBackwards?(b.sibling=l.child,l.child=b):(a=x.last,a!==null?a.sibling=b:l.child=b,x.last=b)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Bt(),l.sibling=null,a=Ht.current,O(Ht,m?a&1|2:a&1),l):(At(l),null);case 22:case 23:return mr(l),am(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(c&536870912)!==0&&(l.flags&128)===0&&(At(l),l.subtreeFlags&6&&(l.flags|=8192)):At(l),c=l.updateQueue,c!==null&&lc(l,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==c&&(l.flags|=2048),a!==null&&ie(Ma),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),dr($t),At(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function y_(a,l){switch(Gf(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return dr($t),Ne(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return st(l),null;case 13:if(mr(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Gl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ie(Ht),null;case 4:return Ne(),null;case 10:return dr(l.type),null;case 22:case 23:return mr(l),am(),a!==null&&ie(Ma),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return dr($t),null;case 25:return null;default:return null}}function Uv(a,l){switch(Gf(l),l.tag){case 3:dr($t),Ne();break;case 26:case 27:case 5:st(l);break;case 4:Ne();break;case 13:mr(l);break;case 19:ie(Ht);break;case 10:dr(l.type);break;case 22:case 23:mr(l),am(),a!==null&&ie(Ma);break;case 24:dr($t)}}function ss(a,l){try{var c=l.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var x=m.next;c=x;do{if((c.tag&a)===a){m=void 0;var b=c.create,A=c.inst;m=b(),A.destroy=m}c=c.next}while(c!==x)}}catch(k){pt(l,l.return,k)}}function Fr(a,l,c){try{var m=l.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var b=x.next;m=b;do{if((m.tag&a)===a){var A=m.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,x=l;var V=c,K=k;try{K()}catch(le){pt(x,V,le)}}}m=m.next}while(m!==b)}}catch(le){pt(l,l.return,le)}}function jv(a){var l=a.updateQueue;if(l!==null){var c=a.stateNode;try{w0(l,c)}catch(m){pt(a,a.return,m)}}}function zv(a,l,c){c.props=La(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){pt(a,l,m)}}function us(a,l){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(x){pt(a,l,x)}}function Oi(a,l){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(x){pt(a,l,x)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){pt(a,l,x)}else c.current=null}function Vv(a){var l=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(x){pt(a,a.return,x)}}function Rm(a,l,c){try{var m=a.stateNode;j_(m,a.type,c,l),m[Ct]=l}catch(x){pt(a,a.return,x)}}function Fv(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Zr(a.type)||a.tag===4}function Lm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Fv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Zr(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Om(a,l,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(a),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=xc));else if(m!==4&&(m===27&&Zr(a.type)&&(c=a.stateNode,l=null),a=a.child,a!==null))for(Om(a,l,c),a=a.sibling;a!==null;)Om(a,l,c),a=a.sibling}function sc(a,l,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?c.insertBefore(a,l):c.appendChild(a);else if(m!==4&&(m===27&&Zr(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(sc(a,l,c),a=a.sibling;a!==null;)sc(a,l,c),a=a.sibling}function Bv(a){var l=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);rn(l,m,c),l[Tt]=a,l[Ct]=c}catch(b){pt(a,a.return,b)}}var gr=!1,Pt=!1,Pm=!1,$v=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function v_(a,l){if(a=a.containerInfo,op=Ac,a=e0(a),Lf(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var x=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var A=0,k=-1,V=-1,K=0,le=0,ue=a,J=null;t:for(;;){for(var te;ue!==c||x!==0&&ue.nodeType!==3||(k=A+x),ue!==b||m!==0&&ue.nodeType!==3||(V=A+m),ue.nodeType===3&&(A+=ue.nodeValue.length),(te=ue.firstChild)!==null;)J=ue,ue=te;for(;;){if(ue===a)break t;if(J===c&&++K===x&&(k=A),J===b&&++le===m&&(V=A),(te=ue.nextSibling)!==null)break;ue=J,J=ue.parentNode}ue=te}c=k===-1||V===-1?null:{start:k,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(lp={focusedElem:a,selectionRange:c},Ac=!1,Zt=l;Zt!==null;)if(l=Zt,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,Zt=a;else for(;Zt!==null;){switch(l=Zt,b=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,c=l,x=b.memoizedProps,b=b.memoizedState,m=c.stateNode;try{var ze=La(c.type,x,c.elementType===c.type);a=m.getSnapshotBeforeUpdate(ze,b),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ue){pt(c,c.return,Ue)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,c=a.nodeType,c===9)cp(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":cp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,Zt=a;break}Zt=l.return}}function Hv(a,l,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Br(a,c),m&4&&ss(5,c);break;case 1:if(Br(a,c),m&4)if(a=c.stateNode,l===null)try{a.componentDidMount()}catch(A){pt(c,c.return,A)}else{var x=La(c.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(x,l,a.__reactInternalSnapshotBeforeUpdate)}catch(A){pt(c,c.return,A)}}m&64&&jv(c),m&512&&us(c,c.return);break;case 3:if(Br(a,c),m&64&&(a=c.updateQueue,a!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{w0(a,l)}catch(A){pt(c,c.return,A)}}break;case 27:l===null&&m&4&&Bv(c);case 26:case 5:Br(a,c),l===null&&m&4&&Vv(c),m&512&&us(c,c.return);break;case 12:Br(a,c);break;case 13:Br(a,c),m&4&&Wv(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=__.bind(null,c),G_(a,c))));break;case 22:if(m=c.memoizedState!==null||gr,!m){l=l!==null&&l.memoizedState!==null||Pt,x=gr;var b=Pt;gr=m,(Pt=l)&&!b?$r(a,c,(c.subtreeFlags&8772)!==0):Br(a,c),gr=x,Pt=b}break;case 30:break;default:Br(a,c)}}function Gv(a){var l=a.alternate;l!==null&&(a.alternate=null,Gv(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&hf(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Et=null,Mn=!1;function yr(a,l,c){for(c=c.child;c!==null;)qv(a,l,c),c=c.sibling}function qv(a,l,c){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(oe,c)}catch{}switch(c.tag){case 26:Pt||Oi(c,l),yr(a,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Pt||Oi(c,l);var m=Et,x=Mn;Zr(c.type)&&(Et=c.stateNode,Mn=!1),yr(a,l,c),vs(c.stateNode),Et=m,Mn=x;break;case 5:Pt||Oi(c,l);case 6:if(m=Et,x=Mn,Et=null,yr(a,l,c),Et=m,Mn=x,Et!==null)if(Mn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(c.stateNode)}catch(b){pt(c,l,b)}else try{Et.removeChild(c.stateNode)}catch(b){pt(c,l,b)}break;case 18:Et!==null&&(Mn?(a=Et,Lx(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),As(a)):Lx(Et,c.stateNode));break;case 4:m=Et,x=Mn,Et=c.stateNode.containerInfo,Mn=!0,yr(a,l,c),Et=m,Mn=x;break;case 0:case 11:case 14:case 15:Pt||Fr(2,c,l),Pt||Fr(4,c,l),yr(a,l,c);break;case 1:Pt||(Oi(c,l),m=c.stateNode,typeof m.componentWillUnmount=="function"&&zv(c,l,m)),yr(a,l,c);break;case 21:yr(a,l,c);break;case 22:Pt=(m=Pt)||c.memoizedState!==null,yr(a,l,c),Pt=m;break;default:yr(a,l,c)}}function Wv(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{As(a)}catch(c){pt(l,l.return,c)}}function x_(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new $v),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new $v),l;default:throw Error(i(435,a.tag))}}function Um(a,l){var c=x_(a);l.forEach(function(m){var x=N_.bind(null,a,m);c.has(m)||(c.add(m),m.then(x,x))})}function Bn(a,l){var c=l.deletions;if(c!==null)for(var m=0;m<c.length;m++){var x=c[m],b=a,A=l,k=A;e:for(;k!==null;){switch(k.tag){case 27:if(Zr(k.type)){Et=k.stateNode,Mn=!1;break e}break;case 5:Et=k.stateNode,Mn=!1;break e;case 3:case 4:Et=k.stateNode.containerInfo,Mn=!0;break e}k=k.return}if(Et===null)throw Error(i(160));qv(b,A,x),Et=null,Mn=!1,b=x.alternate,b!==null&&(b.return=null),x.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Yv(l,a),l=l.sibling}var bi=null;function Yv(a,l){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Bn(l,a),$n(a),m&4&&(Fr(3,a,a.return),ss(3,a),Fr(5,a,a.return));break;case 1:Bn(l,a),$n(a),m&512&&(Pt||c===null||Oi(c,c.return)),m&64&&gr&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var x=bi;if(Bn(l,a),$n(a),m&512&&(Pt||c===null||Oi(c,c.return)),m&4){var b=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":b=x.getElementsByTagName("title")[0],(!b||b[rr]||b[Tt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=x.createElement(m),x.head.insertBefore(b,x.querySelector("head > title"))),rn(b,m,c),b[Tt]=a,Wt(b),m=b;break e;case"link":var A=Bx("link","href",x).get(m+(c.href||""));if(A){for(var k=0;k<A.length;k++)if(b=A[k],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(k,1);break t}}b=x.createElement(m),rn(b,m,c),x.head.appendChild(b);break;case"meta":if(A=Bx("meta","content",x).get(m+(c.content||""))){for(k=0;k<A.length;k++)if(b=A[k],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(k,1);break t}}b=x.createElement(m),rn(b,m,c),x.head.appendChild(b);break;default:throw Error(i(468,m))}b[Tt]=a,Wt(b),m=b}a.stateNode=m}else $x(x,a.type,a.stateNode);else a.stateNode=Fx(x,m,a.memoizedProps);else b!==m?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,m===null?$x(x,a.type,a.stateNode):Fx(x,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Rm(a,a.memoizedProps,c.memoizedProps)}break;case 27:Bn(l,a),$n(a),m&512&&(Pt||c===null||Oi(c,c.return)),c!==null&&m&4&&Rm(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Bn(l,a),$n(a),m&512&&(Pt||c===null||Oi(c,c.return)),a.flags&32){x=a.stateNode;try{po(x,"")}catch(te){pt(a,a.return,te)}}m&4&&a.stateNode!=null&&(x=a.memoizedProps,Rm(a,x,c!==null?c.memoizedProps:x)),m&1024&&(Pm=!0);break;case 6:if(Bn(l,a),$n(a),m&4){if(a.stateNode===null)throw Error(i(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(te){pt(a,a.return,te)}}break;case 3:if(Sc=null,x=bi,bi=Tc(l.containerInfo),Bn(l,a),bi=x,$n(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{As(l.containerInfo)}catch(te){pt(a,a.return,te)}Pm&&(Pm=!1,Zv(a));break;case 4:m=bi,bi=Tc(a.stateNode.containerInfo),Bn(l,a),$n(a),bi=m;break;case 12:Bn(l,a),$n(a);break;case 13:Bn(l,a),$n(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&($m=Bt()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Um(a,m)));break;case 22:x=a.memoizedState!==null;var V=c!==null&&c.memoizedState!==null,K=gr,le=Pt;if(gr=K||x,Pt=le||V,Bn(l,a),Pt=le,gr=K,$n(a),m&8192)e:for(l=a.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(c===null||V||gr||Pt||Oa(a)),c=null,l=a;;){if(l.tag===5||l.tag===26){if(c===null){V=c=l;try{if(b=V.stateNode,x)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{k=V.stateNode;var ue=V.memoizedProps.style,J=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;k.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(te){pt(V,V.return,te)}}}else if(l.tag===6){if(c===null){V=l;try{V.stateNode.nodeValue=x?"":V.memoizedProps}catch(te){pt(V,V.return,te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Um(a,c))));break;case 19:Bn(l,a),$n(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Um(a,m)));break;case 30:break;case 21:break;default:Bn(l,a),$n(a)}}function $n(a){var l=a.flags;if(l&2){try{for(var c,m=a.return;m!==null;){if(Fv(m)){c=m;break}m=m.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var x=c.stateNode,b=Lm(a);sc(a,b,x);break;case 5:var A=c.stateNode;c.flags&32&&(po(A,""),c.flags&=-33);var k=Lm(a);sc(a,k,A);break;case 3:case 4:var V=c.stateNode.containerInfo,K=Lm(a);Om(a,K,V);break;default:throw Error(i(161))}}catch(le){pt(a,a.return,le)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Zv(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Zv(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Br(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Hv(a,l.alternate,l),l=l.sibling}function Oa(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Fr(4,l,l.return),Oa(l);break;case 1:Oi(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&zv(l,l.return,c),Oa(l);break;case 27:vs(l.stateNode);case 26:case 5:Oi(l,l.return),Oa(l);break;case 22:l.memoizedState===null&&Oa(l);break;case 30:Oa(l);break;default:Oa(l)}a=a.sibling}}function $r(a,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,x=a,b=l,A=b.flags;switch(b.tag){case 0:case 11:case 15:$r(x,b,c),ss(4,b);break;case 1:if($r(x,b,c),m=b,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(K){pt(m,m.return,K)}if(m=b,x=m.updateQueue,x!==null){var k=m.stateNode;try{var V=x.shared.hiddenCallbacks;if(V!==null)for(x.shared.hiddenCallbacks=null,x=0;x<V.length;x++)E0(V[x],k)}catch(K){pt(m,m.return,K)}}c&&A&64&&jv(b),us(b,b.return);break;case 27:Bv(b);case 26:case 5:$r(x,b,c),c&&m===null&&A&4&&Vv(b),us(b,b.return);break;case 12:$r(x,b,c);break;case 13:$r(x,b,c),c&&A&4&&Wv(x,b);break;case 22:b.memoizedState===null&&$r(x,b,c),us(b,b.return);break;case 30:break;default:$r(x,b,c)}l=l.sibling}}function jm(a,l){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Yl(c))}function zm(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Yl(a))}function Pi(a,l,c,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Kv(a,l,c,m),l=l.sibling}function Kv(a,l,c,m){var x=l.flags;switch(l.tag){case 0:case 11:case 15:Pi(a,l,c,m),x&2048&&ss(9,l);break;case 1:Pi(a,l,c,m);break;case 3:Pi(a,l,c,m),x&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Yl(a)));break;case 12:if(x&2048){Pi(a,l,c,m),a=l.stateNode;try{var b=l.memoizedProps,A=b.id,k=b.onPostCommit;typeof k=="function"&&k(A,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(V){pt(l,l.return,V)}}else Pi(a,l,c,m);break;case 13:Pi(a,l,c,m);break;case 23:break;case 22:b=l.stateNode,A=l.alternate,l.memoizedState!==null?b._visibility&2?Pi(a,l,c,m):cs(a,l):b._visibility&2?Pi(a,l,c,m):(b._visibility|=2,Ro(a,l,c,m,(l.subtreeFlags&10256)!==0)),x&2048&&jm(A,l);break;case 24:Pi(a,l,c,m),x&2048&&zm(l.alternate,l);break;default:Pi(a,l,c,m)}}function Ro(a,l,c,m,x){for(x=x&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var b=a,A=l,k=c,V=m,K=A.flags;switch(A.tag){case 0:case 11:case 15:Ro(b,A,k,V,x),ss(8,A);break;case 23:break;case 22:var le=A.stateNode;A.memoizedState!==null?le._visibility&2?Ro(b,A,k,V,x):cs(b,A):(le._visibility|=2,Ro(b,A,k,V,x)),x&&K&2048&&jm(A.alternate,A);break;case 24:Ro(b,A,k,V,x),x&&K&2048&&zm(A.alternate,A);break;default:Ro(b,A,k,V,x)}l=l.sibling}}function cs(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=a,m=l,x=m.flags;switch(m.tag){case 22:cs(c,m),x&2048&&jm(m.alternate,m);break;case 24:cs(c,m),x&2048&&zm(m.alternate,m);break;default:cs(c,m)}l=l.sibling}}var ds=8192;function Lo(a){if(a.subtreeFlags&ds)for(a=a.child;a!==null;)Xv(a),a=a.sibling}function Xv(a){switch(a.tag){case 26:Lo(a),a.flags&ds&&a.memoizedState!==null&&rN(bi,a.memoizedState,a.memoizedProps);break;case 5:Lo(a);break;case 3:case 4:var l=bi;bi=Tc(a.stateNode.containerInfo),Lo(a),bi=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=ds,ds=16777216,Lo(a),ds=l):Lo(a));break;default:Lo(a)}}function Jv(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function fs(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];Zt=m,ex(m,a)}Jv(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Qv(a),a=a.sibling}function Qv(a){switch(a.tag){case 0:case 11:case 15:fs(a),a.flags&2048&&Fr(9,a,a.return);break;case 3:fs(a);break;case 12:fs(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,uc(a)):fs(a);break;default:fs(a)}}function uc(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];Zt=m,ex(m,a)}Jv(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Fr(8,l,l.return),uc(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,uc(l));break;default:uc(l)}a=a.sibling}}function ex(a,l){for(;Zt!==null;){var c=Zt;switch(c.tag){case 0:case 11:case 15:Fr(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Yl(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Zt=m;else e:for(c=a;Zt!==null;){m=Zt;var x=m.sibling,b=m.return;if(Gv(m),m===c){Zt=null;break e}if(x!==null){x.return=b,Zt=x;break e}Zt=b}}}var b_={getCacheForType:function(a){var l=cn($t),c=l.data.get(a);return c===void 0&&(c=a(),l.data.set(a,c)),c}},T_=typeof WeakMap=="function"?WeakMap:Map,ut=0,vt=null,Ye=null,Je=0,ct=0,Hn=null,Hr=!1,Oo=!1,Vm=!1,vr=0,Dt=0,Gr=0,Pa=0,Fm=0,ui=0,Po=0,ms=null,Rn=null,Bm=!1,$m=0,cc=1/0,dc=null,qr=null,nn=0,Wr=null,Uo=null,jo=0,Hm=0,Gm=null,tx=null,ps=0,qm=null;function Gn(){if((ut&2)!==0&&Je!==0)return Je&-Je;if(z.T!==null){var a=wo;return a!==0?a:Qm()}return zn()}function nx(){ui===0&&(ui=(Je&536870912)===0||at?Tu():536870912);var a=si.current;return a!==null&&(a.flags|=32),ui}function qn(a,l,c){(a===vt&&(ct===2||ct===9)||a.cancelPendingCommit!==null)&&(zo(a,0),Yr(a,Je,ui,!1)),Nt(a,c),((ut&2)===0||a!==vt)&&(a===vt&&((ut&2)===0&&(Pa|=c),Dt===4&&Yr(a,Je,ui,!1)),Ui(a))}function ix(a,l,c){if((ut&6)!==0)throw Error(i(327));var m=!c&&(l&124)===0&&(l&a.expiredLanes)===0||Nn(a,l),x=m?E_(a,l):Zm(a,l,!0),b=m;do{if(x===0){Oo&&!m&&Yr(a,l,0,!1);break}else{if(c=a.current.alternate,b&&!C_(c)){x=Zm(a,l,!1),b=!1;continue}if(x===2){if(b=l,a.errorRecoveryDisabledLanes&b)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){l=A;e:{var k=a;x=ms;var V=k.current.memoizedState.isDehydrated;if(V&&(zo(k,A).flags|=256),A=Zm(k,A,!1),A!==2){if(Vm&&!V){k.errorRecoveryDisabledLanes|=b,Pa|=b,x=4;break e}b=Rn,Rn=x,b!==null&&(Rn===null?Rn=b:Rn.push.apply(Rn,b))}x=A}if(b=!1,x!==2)continue}}if(x===1){zo(a,0),Yr(a,l,0,!0);break}e:{switch(m=a,b=x,b){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:Yr(m,l,ui,!Hr);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(x=$m+300-Bt(),10<x)){if(Yr(m,l,ui,!Hr),Lt(m,0,!0)!==0)break e;m.timeoutHandle=Mx(rx.bind(null,m,c,Rn,dc,Bm,l,ui,Pa,Po,Hr,b,2,-0,0),x);break e}rx(m,c,Rn,dc,Bm,l,ui,Pa,Po,Hr,b,0,-0,0)}}break}while(!0);Ui(a)}function rx(a,l,c,m,x,b,A,k,V,K,le,ue,J,te){if(a.timeoutHandle=-1,ue=l.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Ts={stylesheets:null,count:0,unsuspend:iN},Xv(l),ue=aN(),ue!==null)){a.cancelPendingCommit=ue(dx.bind(null,a,l,b,c,m,x,A,k,V,le,1,J,te)),Yr(a,b,A,!K);return}dx(a,l,b,c,m,x,A,k,V)}function C_(a){for(var l=a;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var x=c[m],b=x.getSnapshot;x=x.value;try{if(!Vn(b(),x))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Yr(a,l,c,m){l&=~Fm,l&=~Pa,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var x=l;0<x;){var b=31-Le(x),A=1<<b;m[b]=-1,x&=~A}c!==0&&ln(a,c,l)}function fc(){return(ut&6)===0?(hs(0),!1):!0}function Wm(){if(Ye!==null){if(ct===0)var a=Ye.return;else a=Ye,cr=Da=null,cm(a),ko=null,as=0,a=Ye;for(;a!==null;)Uv(a.alternate,a),a=a.return;Ye=null}}function zo(a,l){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,V_(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Wm(),vt=a,Ye=c=lr(a.current,null),Je=l,ct=0,Hn=null,Hr=!1,Oo=Nn(a,l),Vm=!1,Po=ui=Fm=Pa=Gr=Dt=0,Rn=ms=null,Bm=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var x=31-Le(m),b=1<<x;l|=a[x],m&=~b}return vr=l,Lu(),c}function ax(a,l){qe=null,z.H=Qu,l===Kl||l===$u?(l=C0(),ct=3):l===x0?(l=C0(),ct=4):ct=l===Sv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Hn=l,Ye===null&&(Dt=1,rc(a,ri(l,a.current)))}function ox(){var a=z.H;return z.H=Qu,a===null?Qu:a}function lx(){var a=z.A;return z.A=b_,a}function Ym(){Dt=4,Hr||(Je&4194048)!==Je&&si.current!==null||(Oo=!0),(Gr&134217727)===0&&(Pa&134217727)===0||vt===null||Yr(vt,Je,ui,!1)}function Zm(a,l,c){var m=ut;ut|=2;var x=ox(),b=lx();(vt!==a||Je!==l)&&(dc=null,zo(a,l)),l=!1;var A=Dt;e:do try{if(ct!==0&&Ye!==null){var k=Ye,V=Hn;switch(ct){case 8:Wm(),A=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(l=!0);var K=ct;if(ct=0,Hn=null,Vo(a,k,V,K),c&&Oo){A=0;break e}break;default:K=ct,ct=0,Hn=null,Vo(a,k,V,K)}}S_(),A=Dt;break}catch(le){ax(a,le)}while(!0);return l&&a.shellSuspendCounter++,cr=Da=null,ut=m,z.H=x,z.A=b,Ye===null&&(vt=null,Je=0,Lu()),A}function S_(){for(;Ye!==null;)sx(Ye)}function E_(a,l){var c=ut;ut|=2;var m=ox(),x=lx();vt!==a||Je!==l?(dc=null,cc=Bt()+500,zo(a,l)):Oo=Nn(a,l);e:do try{if(ct!==0&&Ye!==null){l=Ye;var b=Hn;t:switch(ct){case 1:ct=0,Hn=null,Vo(a,l,b,1);break;case 2:case 9:if(b0(b)){ct=0,Hn=null,ux(l);break}l=function(){ct!==2&&ct!==9||vt!==a||(ct=7),Ui(a)},b.then(l,l);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:b0(b)?(ct=0,Hn=null,ux(l)):(ct=0,Hn=null,Vo(a,l,b,7));break;case 5:var A=null;switch(Ye.tag){case 26:A=Ye.memoizedState;case 5:case 27:var k=Ye;if(!A||Hx(A)){ct=0,Hn=null;var V=k.sibling;if(V!==null)Ye=V;else{var K=k.return;K!==null?(Ye=K,mc(K)):Ye=null}break t}}ct=0,Hn=null,Vo(a,l,b,5);break;case 6:ct=0,Hn=null,Vo(a,l,b,6);break;case 8:Wm(),Dt=6;break e;default:throw Error(i(462))}}w_();break}catch(le){ax(a,le)}while(!0);return cr=Da=null,z.H=m,z.A=x,ut=c,Ye!==null?0:(vt=null,Je=0,Lu(),Dt)}function w_(){for(;Ye!==null&&!An();)sx(Ye)}function sx(a){var l=Ov(a.alternate,a,vr);a.memoizedProps=a.pendingProps,l===null?mc(a):Ye=l}function ux(a){var l=a,c=l.alternate;switch(l.tag){case 15:case 0:l=Iv(c,l,l.pendingProps,l.type,void 0,Je);break;case 11:l=Iv(c,l,l.pendingProps,l.type.render,l.ref,Je);break;case 5:cm(l);default:Uv(c,l),l=Ye=c0(l,vr),l=Ov(c,l,vr)}a.memoizedProps=a.pendingProps,l===null?mc(a):Ye=l}function Vo(a,l,c,m){cr=Da=null,cm(l),ko=null,as=0;var x=l.return;try{if(p_(a,x,l,c,Je)){Dt=1,rc(a,ri(c,a.current)),Ye=null;return}}catch(b){if(x!==null)throw Ye=x,b;Dt=1,rc(a,ri(c,a.current)),Ye=null;return}l.flags&32768?(at||m===1?a=!0:Oo||(Je&536870912)!==0?a=!1:(Hr=a=!0,(m===2||m===9||m===3||m===6)&&(m=si.current,m!==null&&m.tag===13&&(m.flags|=16384))),cx(l,a)):mc(l)}function mc(a){var l=a;do{if((l.flags&32768)!==0){cx(l,Hr);return}a=l.return;var c=g_(l.alternate,l,vr);if(c!==null){Ye=c;return}if(l=l.sibling,l!==null){Ye=l;return}Ye=l=a}while(l!==null);Dt===0&&(Dt=5)}function cx(a,l){do{var c=y_(a.alternate,a);if(c!==null){c.flags&=32767,Ye=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(a=a.sibling,a!==null)){Ye=a;return}Ye=a=c}while(a!==null);Dt=6,Ye=null}function dx(a,l,c,m,x,b,A,k,V){a.cancelPendingCommit=null;do pc();while(nn!==0);if((ut&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(b=l.lanes|l.childLanes,b|=zf,vn(a,c,b,A,k,V),a===vt&&(Ye=vt=null,Je=0),Uo=l,Wr=a,jo=c,Hm=b,Gm=x,tx=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,I_(jn,function(){return gx(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=z.T,z.T=null,x=G.p,G.p=2,A=ut,ut|=4;try{v_(a,l,c)}finally{ut=A,G.p=x,z.T=m}}nn=1,fx(),mx(),px()}}function fx(){if(nn===1){nn=0;var a=Wr,l=Uo,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var m=G.p;G.p=2;var x=ut;ut|=4;try{Yv(l,a);var b=lp,A=e0(a.containerInfo),k=b.focusedElem,V=b.selectionRange;if(A!==k&&k&&k.ownerDocument&&Qy(k.ownerDocument.documentElement,k)){if(V!==null&&Lf(k)){var K=V.start,le=V.end;if(le===void 0&&(le=K),"selectionStart"in k)k.selectionStart=K,k.selectionEnd=Math.min(le,k.value.length);else{var ue=k.ownerDocument||document,J=ue&&ue.defaultView||window;if(J.getSelection){var te=J.getSelection(),ze=k.textContent.length,Ue=Math.min(V.start,ze),mt=V.end===void 0?Ue:Math.min(V.end,ze);!te.extend&&Ue>mt&&(A=mt,mt=Ue,Ue=A);var W=Jy(k,Ue),F=Jy(k,mt);if(W&&F&&(te.rangeCount!==1||te.anchorNode!==W.node||te.anchorOffset!==W.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var Y=ue.createRange();Y.setStart(W.node,W.offset),te.removeAllRanges(),Ue>mt?(te.addRange(Y),te.extend(F.node,F.offset)):(Y.setEnd(F.node,F.offset),te.addRange(Y))}}}}for(ue=[],te=k;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ue.length;k++){var se=ue[k];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Ac=!!op,lp=op=null}finally{ut=x,G.p=m,z.T=c}}a.current=l,nn=2}}function mx(){if(nn===2){nn=0;var a=Wr,l=Uo,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var m=G.p;G.p=2;var x=ut;ut|=4;try{Hv(a,l.alternate,l)}finally{ut=x,G.p=m,z.T=c}}nn=3}}function px(){if(nn===4||nn===3){nn=0,_n();var a=Wr,l=Uo,c=jo,m=tx;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?nn=5:(nn=0,Uo=Wr=null,hx(a,a.pendingLanes));var x=a.pendingLanes;if(x===0&&(qr=null),en(c),l=l.stateNode,ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(oe,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=z.T,x=G.p,G.p=2,z.T=null;try{for(var b=a.onRecoverableError,A=0;A<m.length;A++){var k=m[A];b(k.value,{componentStack:k.stack})}}finally{z.T=l,G.p=x}}(jo&3)!==0&&pc(),Ui(a),x=a.pendingLanes,(c&4194090)!==0&&(x&42)!==0?a===qm?ps++:(ps=0,qm=a):ps=0,hs(0)}}function hx(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Yl(l)))}function pc(a){return fx(),mx(),px(),gx()}function gx(){if(nn!==5)return!1;var a=Wr,l=Hm;Hm=0;var c=en(jo),m=z.T,x=G.p;try{G.p=32>c?32:c,z.T=null,c=Gm,Gm=null;var b=Wr,A=jo;if(nn=0,Uo=Wr=null,jo=0,(ut&6)!==0)throw Error(i(331));var k=ut;if(ut|=4,Qv(b.current),Kv(b,b.current,A,c),ut=k,hs(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(oe,b)}catch{}return!0}finally{G.p=x,z.T=m,hx(a,l)}}function yx(a,l,c){l=ri(c,l),l=Em(a.stateNode,l,2),a=Ur(a,l,2),a!==null&&(Nt(a,2),Ui(a))}function pt(a,l,c){if(a.tag===3)yx(a,a,c);else for(;l!==null;){if(l.tag===3){yx(l,a,c);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(qr===null||!qr.has(m))){a=ri(c,a),c=Tv(2),m=Ur(l,c,2),m!==null&&(Cv(c,m,l,a),Nt(m,2),Ui(m));break}}l=l.return}}function Km(a,l,c){var m=a.pingCache;if(m===null){m=a.pingCache=new T_;var x=new Set;m.set(l,x)}else x=m.get(l),x===void 0&&(x=new Set,m.set(l,x));x.has(c)||(Vm=!0,x.add(c),a=A_.bind(null,a,l,c),l.then(a,a))}function A_(a,l,c){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,vt===a&&(Je&c)===c&&(Dt===4||Dt===3&&(Je&62914560)===Je&&300>Bt()-$m?(ut&2)===0&&zo(a,0):Fm|=c,Po===Je&&(Po=0)),Ui(a)}function vx(a,l){l===0&&(l=Cu()),a=To(a,l),a!==null&&(Nt(a,l),Ui(a))}function __(a){var l=a.memoizedState,c=0;l!==null&&(c=l.retryLane),vx(a,c)}function N_(a,l){var c=0;switch(a.tag){case 13:var m=a.stateNode,x=a.memoizedState;x!==null&&(c=x.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(l),vx(a,c)}function I_(a,l){return yn(a,l)}var hc=null,Fo=null,Xm=!1,gc=!1,Jm=!1,Ua=0;function Ui(a){a!==Fo&&a.next===null&&(Fo===null?hc=Fo=a:Fo=Fo.next=a),gc=!0,Xm||(Xm=!0,k_())}function hs(a,l){if(!Jm&&gc){Jm=!0;do for(var c=!1,m=hc;m!==null;){if(a!==0){var x=m.pendingLanes;if(x===0)var b=0;else{var A=m.suspendedLanes,k=m.pingedLanes;b=(1<<31-Le(42|a)+1)-1,b&=x&~(A&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,Cx(m,b))}else b=Je,b=Lt(m,m===vt?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||Nn(m,b)||(c=!0,Cx(m,b));m=m.next}while(c);Jm=!1}}function D_(){xx()}function xx(){gc=Xm=!1;var a=0;Ua!==0&&(z_()&&(a=Ua),Ua=0);for(var l=Bt(),c=null,m=hc;m!==null;){var x=m.next,b=bx(m,l);b===0?(m.next=null,c===null?hc=x:c.next=x,x===null&&(Fo=c)):(c=m,(a!==0||(b&3)!==0)&&(gc=!0)),m=x}hs(a)}function bx(a,l){for(var c=a.suspendedLanes,m=a.pingedLanes,x=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var A=31-Le(b),k=1<<A,V=x[A];V===-1?((k&c)===0||(k&m)!==0)&&(x[A]=In(k,l)):V<=l&&(a.expiredLanes|=k),b&=~k}if(l=vt,c=Je,c=Lt(a,a===l?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===l&&(ct===2||ct===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&wt(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Nn(a,c)){if(l=c&-c,l===a.callbackPriority)return l;switch(m!==null&&wt(m),en(c)){case 2:case 8:c=an;break;case 32:c=jn;break;case 268435456:c=ki;break;default:c=jn}return m=Tx.bind(null,a),c=yn(c,m),a.callbackPriority=l,a.callbackNode=c,l}return m!==null&&m!==null&&wt(m),a.callbackPriority=2,a.callbackNode=null,2}function Tx(a,l){if(nn!==0&&nn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(pc()&&a.callbackNode!==c)return null;var m=Je;return m=Lt(a,a===vt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(ix(a,m,l),bx(a,Bt()),a.callbackNode!=null&&a.callbackNode===c?Tx.bind(null,a):null)}function Cx(a,l){if(pc())return null;ix(a,l,!0)}function k_(){F_(function(){(ut&6)!==0?yn(gi,D_):xx()})}function Qm(){return Ua===0&&(Ua=Tu()),Ua}function Sx(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:_u(""+a)}function Ex(a,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,a.id&&c.setAttribute("form",a.id),l.parentNode.insertBefore(c,l),a=new FormData(a),c.parentNode.removeChild(c),a}function M_(a,l,c,m,x){if(l==="submit"&&c&&c.stateNode===x){var b=Sx((x[Ct]||null).action),A=m.submitter;A&&(l=(l=A[Ct]||null)?Sx(l.formAction):A.getAttribute("formAction"),l!==null&&(b=l,A=null));var k=new ku("action","action",null,m,x);a.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ua!==0){var V=A?Ex(x,A):new FormData(x);xm(c,{pending:!0,data:V,method:x.method,action:b},null,V)}}else typeof b=="function"&&(k.preventDefault(),V=A?Ex(x,A):new FormData(x),xm(c,{pending:!0,data:V,method:x.method,action:b},b,V))},currentTarget:x}]})}}for(var ep=0;ep<jf.length;ep++){var tp=jf[ep],R_=tp.toLowerCase(),L_=tp[0].toUpperCase()+tp.slice(1);xi(R_,"on"+L_)}xi(i0,"onAnimationEnd"),xi(r0,"onAnimationIteration"),xi(a0,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(XA,"onTransitionRun"),xi(JA,"onTransitionStart"),xi(QA,"onTransitionCancel"),xi(o0,"onTransitionEnd"),co("onMouseEnter",["mouseout","mouseover"]),co("onMouseLeave",["mouseout","mouseover"]),co("onPointerEnter",["pointerout","pointerover"]),co("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gs));function wx(a,l){l=(l&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],x=m.event;m=m.listeners;e:{var b=void 0;if(l)for(var A=m.length-1;0<=A;A--){var k=m[A],V=k.instance,K=k.currentTarget;if(k=k.listener,V!==b&&x.isPropagationStopped())break e;b=k,x.currentTarget=K;try{b(x)}catch(le){ic(le)}x.currentTarget=null,b=V}else for(A=0;A<m.length;A++){if(k=m[A],V=k.instance,K=k.currentTarget,k=k.listener,V!==b&&x.isPropagationStopped())break e;b=k,x.currentTarget=K;try{b(x)}catch(le){ic(le)}x.currentTarget=null,b=V}}}}function Ze(a,l){var c=l[ir];c===void 0&&(c=l[ir]=new Set);var m=a+"__bubble";c.has(m)||(Ax(l,a,2,!1),c.add(m))}function np(a,l,c){var m=0;l&&(m|=4),Ax(c,a,m,l)}var yc="_reactListening"+Math.random().toString(36).slice(2);function ip(a){if(!a[yc]){a[yc]=!0,xy.forEach(function(c){c!=="selectionchange"&&(O_.has(c)||np(c,!1,a),np(c,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[yc]||(l[yc]=!0,np("selectionchange",!1,l))}}function Ax(a,l,c,m){switch(Kx(l)){case 2:var x=sN;break;case 8:x=uN;break;default:x=yp}c=x.bind(null,l,c,a),x=void 0,!wf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),m?x!==void 0?a.addEventListener(l,c,{capture:!0,passive:x}):a.addEventListener(l,c,!0):x!==void 0?a.addEventListener(l,c,{passive:x}):a.addEventListener(l,c,!1)}function rp(a,l,c,m,x){var b=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var k=m.stateNode.containerInfo;if(k===x)break;if(A===4)for(A=m.return;A!==null;){var V=A.tag;if((V===3||V===4)&&A.stateNode.containerInfo===x)return;A=A.return}for(;k!==null;){if(A=lo(k),A===null)return;if(V=A.tag,V===5||V===6||V===26||V===27){m=b=A;continue e}k=k.parentNode}}m=m.return}Ry(function(){var K=b,le=Sf(c),ue=[];e:{var J=l0.get(a);if(J!==void 0){var te=ku,ze=a;switch(a){case"keypress":if(Iu(c)===0)break e;case"keydown":case"keyup":te=IA;break;case"focusin":ze="focus",te=If;break;case"focusout":ze="blur",te=If;break;case"beforeblur":case"afterblur":te=If;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=yA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=MA;break;case i0:case r0:case a0:te=bA;break;case o0:te=LA;break;case"scroll":case"scrollend":te=hA;break;case"wheel":te=PA;break;case"copy":case"cut":case"paste":te=CA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=jy;break;case"toggle":case"beforetoggle":te=jA}var Ue=(l&4)!==0,mt=!Ue&&(a==="scroll"||a==="scrollend"),W=Ue?J!==null?J+"Capture":null:J;Ue=[];for(var F=K,Y;F!==null;){var se=F;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||W===null||(se=Ol(F,W),se!=null&&Ue.push(ys(F,se,Y))),mt)break;F=F.return}0<Ue.length&&(J=new te(J,ze,null,c,le),ue.push({event:J,listeners:Ue}))}}if((l&7)===0){e:{if(J=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",J&&c!==Cf&&(ze=c.relatedTarget||c.fromElement)&&(lo(ze)||ze[un]))break e;if((te||J)&&(J=le.window===le?le:(J=le.ownerDocument)?J.defaultView||J.parentWindow:window,te?(ze=c.relatedTarget||c.toElement,te=K,ze=ze?lo(ze):null,ze!==null&&(mt=o(ze),Ue=ze.tag,ze!==mt||Ue!==5&&Ue!==27&&Ue!==6)&&(ze=null)):(te=null,ze=K),te!==ze)){if(Ue=Py,se="onMouseLeave",W="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(Ue=jy,se="onPointerLeave",W="onPointerEnter",F="pointer"),mt=te==null?J:Ll(te),Y=ze==null?J:Ll(ze),J=new Ue(se,F+"leave",te,c,le),J.target=mt,J.relatedTarget=Y,se=null,lo(le)===K&&(Ue=new Ue(W,F+"enter",ze,c,le),Ue.target=Y,Ue.relatedTarget=mt,se=Ue),mt=se,te&&ze)t:{for(Ue=te,W=ze,F=0,Y=Ue;Y;Y=Bo(Y))F++;for(Y=0,se=W;se;se=Bo(se))Y++;for(;0<F-Y;)Ue=Bo(Ue),F--;for(;0<Y-F;)W=Bo(W),Y--;for(;F--;){if(Ue===W||W!==null&&Ue===W.alternate)break t;Ue=Bo(Ue),W=Bo(W)}Ue=null}else Ue=null;te!==null&&_x(ue,J,te,Ue,!1),ze!==null&&mt!==null&&_x(ue,mt,ze,Ue,!0)}}e:{if(J=K?Ll(K):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var Ae=qy;else if(Hy(J))if(Wy)Ae=YA;else{Ae=qA;var We=GA}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?K&&Tf(K.elementType)&&(Ae=qy):Ae=WA;if(Ae&&(Ae=Ae(a,K))){Gy(ue,Ae,c,le);break e}We&&We(a,J,K),a==="focusout"&&K&&J.type==="number"&&K.memoizedProps.value!=null&&bf(J,"number",J.value)}switch(We=K?Ll(K):window,a){case"focusin":(Hy(We)||We.contentEditable==="true")&&(vo=We,Of=K,$l=null);break;case"focusout":$l=Of=vo=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,t0(ue,c,le);break;case"selectionchange":if(KA)break;case"keydown":case"keyup":t0(ue,c,le)}var Me;if(kf)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else yo?By(a,c)&&(je="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(je="onCompositionStart");je&&(zy&&c.locale!=="ko"&&(yo||je!=="onCompositionStart"?je==="onCompositionEnd"&&yo&&(Me=Ly()):(Rr=le,Af="value"in Rr?Rr.value:Rr.textContent,yo=!0)),We=vc(K,je),0<We.length&&(je=new Uy(je,a,null,c,le),ue.push({event:je,listeners:We}),Me?je.data=Me:(Me=$y(c),Me!==null&&(je.data=Me)))),(Me=VA?FA(a,c):BA(a,c))&&(je=vc(K,"onBeforeInput"),0<je.length&&(We=new Uy("onBeforeInput","beforeinput",null,c,le),ue.push({event:We,listeners:je}),We.data=Me)),M_(ue,a,K,c,le)}wx(ue,l)})}function ys(a,l,c){return{instance:a,listener:l,currentTarget:c}}function vc(a,l){for(var c=l+"Capture",m=[];a!==null;){var x=a,b=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||b===null||(x=Ol(a,c),x!=null&&m.unshift(ys(a,x,b)),x=Ol(a,l),x!=null&&m.push(ys(a,x,b))),a.tag===3)return m;a=a.return}return[]}function Bo(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function _x(a,l,c,m,x){for(var b=l._reactName,A=[];c!==null&&c!==m;){var k=c,V=k.alternate,K=k.stateNode;if(k=k.tag,V!==null&&V===m)break;k!==5&&k!==26&&k!==27||K===null||(V=K,x?(K=Ol(c,b),K!=null&&A.unshift(ys(c,K,V))):x||(K=Ol(c,b),K!=null&&A.push(ys(c,K,V)))),c=c.return}A.length!==0&&a.push({event:l,listeners:A})}var P_=/\r\n?/g,U_=/\u0000|\uFFFD/g;function Nx(a){return(typeof a=="string"?a:""+a).replace(P_,`
`).replace(U_,"")}function Ix(a,l){return l=Nx(l),Nx(a)===l}function xc(){}function ft(a,l,c,m,x,b){switch(c){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||po(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&po(a,""+m);break;case"className":Eu(a,"class",m);break;case"tabIndex":Eu(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Eu(a,c,m);break;case"style":ky(a,m,b);break;case"data":if(l!=="object"){Eu(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=_u(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(l!=="input"&&ft(a,l,"name",x.name,x,null),ft(a,l,"formEncType",x.formEncType,x,null),ft(a,l,"formMethod",x.formMethod,x,null),ft(a,l,"formTarget",x.formTarget,x,null)):(ft(a,l,"encType",x.encType,x,null),ft(a,l,"method",x.method,x,null),ft(a,l,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=_u(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=xc);break;case"onScroll":m!=null&&Ze("scroll",a);break;case"onScrollEnd":m!=null&&Ze("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(c=m.__html,c!=null){if(x.children!=null)throw Error(i(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=_u(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":Ze("beforetoggle",a),Ze("toggle",a),Su(a,"popover",m);break;case"xlinkActuate":ar(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ar(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ar(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ar(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ar(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ar(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ar(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ar(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ar(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Su(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=mA.get(c)||c,Su(a,c,m))}}function ap(a,l,c,m,x,b){switch(c){case"style":ky(a,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(c=m.__html,c!=null){if(x.children!=null)throw Error(i(60));a.innerHTML=c}}break;case"children":typeof m=="string"?po(a,m):(typeof m=="number"||typeof m=="bigint")&&po(a,""+m);break;case"onScroll":m!=null&&Ze("scroll",a);break;case"onScrollEnd":m!=null&&Ze("scrollend",a);break;case"onClick":m!=null&&(a.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!by.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),l=c.slice(2,x?c.length-7:void 0),b=a[Ct]||null,b=b!=null?b[c]:null,typeof b=="function"&&a.removeEventListener(l,b,x),typeof m=="function")){typeof b!="function"&&b!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(l,m,x);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):Su(a,c,m)}}}function rn(a,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",a),Ze("load",a);var m=!1,x=!1,b;for(b in c)if(c.hasOwnProperty(b)){var A=c[b];if(A!=null)switch(b){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:ft(a,l,b,A,c,null)}}x&&ft(a,l,"srcSet",c.srcSet,c,null),m&&ft(a,l,"src",c.src,c,null);return;case"input":Ze("invalid",a);var k=b=A=x=null,V=null,K=null;for(m in c)if(c.hasOwnProperty(m)){var le=c[m];if(le!=null)switch(m){case"name":x=le;break;case"type":A=le;break;case"checked":V=le;break;case"defaultChecked":K=le;break;case"value":b=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,l));break;default:ft(a,l,m,le,c,null)}}_y(a,b,k,V,K,A,x,!1),wu(a);return;case"select":Ze("invalid",a),m=A=b=null;for(x in c)if(c.hasOwnProperty(x)&&(k=c[x],k!=null))switch(x){case"value":b=k;break;case"defaultValue":A=k;break;case"multiple":m=k;default:ft(a,l,x,k,c,null)}l=b,c=A,a.multiple=!!m,l!=null?mo(a,!!m,l,!1):c!=null&&mo(a,!!m,c,!0);return;case"textarea":Ze("invalid",a),b=x=m=null;for(A in c)if(c.hasOwnProperty(A)&&(k=c[A],k!=null))switch(A){case"value":m=k;break;case"defaultValue":x=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:ft(a,l,A,k,c,null)}Iy(a,m,x,b),wu(a);return;case"option":for(V in c)if(c.hasOwnProperty(V)&&(m=c[V],m!=null))switch(V){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ft(a,l,V,m,c,null)}return;case"dialog":Ze("beforetoggle",a),Ze("toggle",a),Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":Ze("load",a);break;case"video":case"audio":for(m=0;m<gs.length;m++)Ze(gs[m],a);break;case"image":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"embed":case"source":case"link":Ze("error",a),Ze("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in c)if(c.hasOwnProperty(K)&&(m=c[K],m!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:ft(a,l,K,m,c,null)}return;default:if(Tf(l)){for(le in c)c.hasOwnProperty(le)&&(m=c[le],m!==void 0&&ap(a,l,le,m,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(m=c[k],m!=null&&ft(a,l,k,m,c,null))}function j_(a,l,c,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,b=null,A=null,k=null,V=null,K=null,le=null;for(te in c){var ue=c[te];if(c.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":V=ue;default:m.hasOwnProperty(te)||ft(a,l,te,null,m,ue)}}for(var J in m){var te=m[J];if(ue=c[J],m.hasOwnProperty(J)&&(te!=null||ue!=null))switch(J){case"type":b=te;break;case"name":x=te;break;case"checked":K=te;break;case"defaultChecked":le=te;break;case"value":A=te;break;case"defaultValue":k=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,l));break;default:te!==ue&&ft(a,l,J,te,m,ue)}}xf(a,A,k,V,K,le,b,x);return;case"select":te=A=k=J=null;for(b in c)if(V=c[b],c.hasOwnProperty(b)&&V!=null)switch(b){case"value":break;case"multiple":te=V;default:m.hasOwnProperty(b)||ft(a,l,b,null,m,V)}for(x in m)if(b=m[x],V=c[x],m.hasOwnProperty(x)&&(b!=null||V!=null))switch(x){case"value":J=b;break;case"defaultValue":k=b;break;case"multiple":A=b;default:b!==V&&ft(a,l,x,b,m,V)}l=k,c=A,m=te,J!=null?mo(a,!!c,J,!1):!!m!=!!c&&(l!=null?mo(a,!!c,l,!0):mo(a,!!c,c?[]:"",!1));return;case"textarea":te=J=null;for(k in c)if(x=c[k],c.hasOwnProperty(k)&&x!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ft(a,l,k,null,m,x)}for(A in m)if(x=m[A],b=c[A],m.hasOwnProperty(A)&&(x!=null||b!=null))switch(A){case"value":J=x;break;case"defaultValue":te=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:x!==b&&ft(a,l,A,x,m,b)}Ny(a,J,te);return;case"option":for(var ze in c)if(J=c[ze],c.hasOwnProperty(ze)&&J!=null&&!m.hasOwnProperty(ze))switch(ze){case"selected":a.selected=!1;break;default:ft(a,l,ze,null,m,J)}for(V in m)if(J=m[V],te=c[V],m.hasOwnProperty(V)&&J!==te&&(J!=null||te!=null))switch(V){case"selected":a.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ft(a,l,V,J,m,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in c)J=c[Ue],c.hasOwnProperty(Ue)&&J!=null&&!m.hasOwnProperty(Ue)&&ft(a,l,Ue,null,m,J);for(K in m)if(J=m[K],te=c[K],m.hasOwnProperty(K)&&J!==te&&(J!=null||te!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,l));break;default:ft(a,l,K,J,m,te)}return;default:if(Tf(l)){for(var mt in c)J=c[mt],c.hasOwnProperty(mt)&&J!==void 0&&!m.hasOwnProperty(mt)&&ap(a,l,mt,void 0,m,J);for(le in m)J=m[le],te=c[le],!m.hasOwnProperty(le)||J===te||J===void 0&&te===void 0||ap(a,l,le,J,m,te);return}}for(var W in c)J=c[W],c.hasOwnProperty(W)&&J!=null&&!m.hasOwnProperty(W)&&ft(a,l,W,null,m,J);for(ue in m)J=m[ue],te=c[ue],!m.hasOwnProperty(ue)||J===te||J==null&&te==null||ft(a,l,ue,J,m,te)}var op=null,lp=null;function bc(a){return a.nodeType===9?a:a.ownerDocument}function Dx(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kx(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function sp(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var up=null;function z_(){var a=window.event;return a&&a.type==="popstate"?a===up?!1:(up=a,!0):(up=null,!1)}var Mx=typeof setTimeout=="function"?setTimeout:void 0,V_=typeof clearTimeout=="function"?clearTimeout:void 0,Rx=typeof Promise=="function"?Promise:void 0,F_=typeof queueMicrotask=="function"?queueMicrotask:typeof Rx<"u"?function(a){return Rx.resolve(null).then(a).catch(B_)}:Mx;function B_(a){setTimeout(function(){throw a})}function Zr(a){return a==="head"}function Lx(a,l){var c=l,m=0,x=0;do{var b=c.nextSibling;if(a.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<m&&8>m){c=m;var A=a.ownerDocument;if(c&1&&vs(A.documentElement),c&2&&vs(A.body),c&4)for(c=A.head,vs(c),A=c.firstChild;A;){var k=A.nextSibling,V=A.nodeName;A[rr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&A.rel.toLowerCase()==="stylesheet"||c.removeChild(A),A=k}}if(x===0){a.removeChild(b),As(l);return}x--}else c==="$"||c==="$?"||c==="$!"?x++:m=c.charCodeAt(0)-48;else m=0;c=b}while(c);As(l)}function cp(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":cp(c),hf(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function $_(a,l,c,m){for(;a.nodeType===1;){var x=c;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[rr])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==x.rel||a.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||a.getAttribute("title")!==(x.title==null?null:x.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(x.src==null?null:x.src)||a.getAttribute("type")!==(x.type==null?null:x.type)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var b=x.name==null?null:""+x.name;if(x.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Ti(a.nextSibling),a===null)break}return null}function H_(a,l,c){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Ti(a.nextSibling),a===null))return null;return a}function dp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function G_(a,l){var c=a.ownerDocument;if(a.data!=="$?"||c.readyState==="complete")l();else{var m=function(){l(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Ti(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var fp=null;function Ox(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return a;l--}else c==="/$"&&l++}a=a.previousSibling}return null}function Px(a,l,c){switch(l=bc(c),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function vs(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);hf(a)}var ci=new Map,Ux=new Set;function Tc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var xr=G.d;G.d={f:q_,r:W_,D:Y_,C:Z_,L:K_,m:X_,X:Q_,S:J_,M:eN};function q_(){var a=xr.f(),l=fc();return a||l}function W_(a){var l=so(a);l!==null&&l.tag===5&&l.type==="form"?iv(l):xr.r(a)}var $o=typeof document>"u"?null:document;function jx(a,l,c){var m=$o;if(m&&typeof l=="string"&&l){var x=ii(l);x='link[rel="'+a+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),Ux.has(x)||(Ux.add(x),a={rel:a,crossOrigin:c,href:l},m.querySelector(x)===null&&(l=m.createElement("link"),rn(l,"link",a),Wt(l),m.head.appendChild(l)))}}function Y_(a){xr.D(a),jx("dns-prefetch",a,null)}function Z_(a,l){xr.C(a,l),jx("preconnect",a,l)}function K_(a,l,c){xr.L(a,l,c);var m=$o;if(m&&a&&l){var x='link[rel="preload"][as="'+ii(l)+'"]';l==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+ii(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+ii(c.imageSizes)+'"]')):x+='[href="'+ii(a)+'"]';var b=x;switch(l){case"style":b=Ho(a);break;case"script":b=Go(a)}ci.has(b)||(a=h({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:a,as:l},c),ci.set(b,a),m.querySelector(x)!==null||l==="style"&&m.querySelector(xs(b))||l==="script"&&m.querySelector(bs(b))||(l=m.createElement("link"),rn(l,"link",a),Wt(l),m.head.appendChild(l)))}}function X_(a,l){xr.m(a,l);var c=$o;if(c&&a){var m=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+ii(m)+'"][href="'+ii(a)+'"]',b=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Go(a)}if(!ci.has(b)&&(a=h({rel:"modulepreload",href:a},l),ci.set(b,a),c.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bs(b)))return}m=c.createElement("link"),rn(m,"link",a),Wt(m),c.head.appendChild(m)}}}function J_(a,l,c){xr.S(a,l,c);var m=$o;if(m&&a){var x=uo(m).hoistableStyles,b=Ho(a);l=l||"default";var A=x.get(b);if(!A){var k={loading:0,preload:null};if(A=m.querySelector(xs(b)))k.loading=5;else{a=h({rel:"stylesheet",href:a,"data-precedence":l},c),(c=ci.get(b))&&mp(a,c);var V=A=m.createElement("link");Wt(V),rn(V,"link",a),V._p=new Promise(function(K,le){V.onload=K,V.onerror=le}),V.addEventListener("load",function(){k.loading|=1}),V.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Cc(A,l,m)}A={type:"stylesheet",instance:A,count:1,state:k},x.set(b,A)}}}function Q_(a,l){xr.X(a,l);var c=$o;if(c&&a){var m=uo(c).hoistableScripts,x=Go(a),b=m.get(x);b||(b=c.querySelector(bs(x)),b||(a=h({src:a,async:!0},l),(l=ci.get(x))&&pp(a,l),b=c.createElement("script"),Wt(b),rn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(x,b))}}function eN(a,l){xr.M(a,l);var c=$o;if(c&&a){var m=uo(c).hoistableScripts,x=Go(a),b=m.get(x);b||(b=c.querySelector(bs(x)),b||(a=h({src:a,async:!0,type:"module"},l),(l=ci.get(x))&&pp(a,l),b=c.createElement("script"),Wt(b),rn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(x,b))}}function zx(a,l,c,m){var x=(x=ye.current)?Tc(x):null;if(!x)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=Ho(c.href),c=uo(x).hoistableStyles,m=c.get(l),m||(m={type:"style",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Ho(c.href);var b=uo(x).hoistableStyles,A=b.get(a);if(A||(x=x.ownerDocument||x,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,A),(b=x.querySelector(xs(a)))&&!b._p&&(A.instance=b,A.state.loading=5),ci.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ci.set(a,c),b||tN(x,a,c,A.state))),l&&m===null)throw Error(i(528,""));return A}if(l&&m!==null)throw Error(i(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Go(c),c=uo(x).hoistableScripts,m=c.get(l),m||(m={type:"script",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Ho(a){return'href="'+ii(a)+'"'}function xs(a){return'link[rel="stylesheet"]['+a+"]"}function Vx(a){return h({},a,{"data-precedence":a.precedence,precedence:null})}function tN(a,l,c,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),rn(l,"link",c),Wt(l),a.head.appendChild(l))}function Go(a){return'[src="'+ii(a)+'"]'}function bs(a){return"script[async]"+a}function Fx(a,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+ii(c.href)+'"]');if(m)return l.instance=m,Wt(m),m;var x=h({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Wt(m),rn(m,"style",x),Cc(m,c.precedence,a),l.instance=m;case"stylesheet":x=Ho(c.href);var b=a.querySelector(xs(x));if(b)return l.state.loading|=4,l.instance=b,Wt(b),b;m=Vx(c),(x=ci.get(x))&&mp(m,x),b=(a.ownerDocument||a).createElement("link"),Wt(b);var A=b;return A._p=new Promise(function(k,V){A.onload=k,A.onerror=V}),rn(b,"link",m),l.state.loading|=4,Cc(b,c.precedence,a),l.instance=b;case"script":return b=Go(c.src),(x=a.querySelector(bs(b)))?(l.instance=x,Wt(x),x):(m=c,(x=ci.get(b))&&(m=h({},c),pp(m,x)),a=a.ownerDocument||a,x=a.createElement("script"),Wt(x),rn(x,"link",m),a.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Cc(m,c.precedence,a));return l.instance}function Cc(a,l,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,b=x,A=0;A<m.length;A++){var k=m[A];if(k.dataset.precedence===l)b=k;else if(b!==x)break}b?b.parentNode.insertBefore(a,b.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(a,l.firstChild))}function mp(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function pp(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Sc=null;function Bx(a,l,c){if(Sc===null){var m=new Map,x=Sc=new Map;x.set(c,m)}else x=Sc,m=x.get(c),m||(m=new Map,x.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),x=0;x<c.length;x++){var b=c[x];if(!(b[rr]||b[Tt]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(l)||"";A=a+A;var k=m.get(A);k?k.push(b):m.set(A,[b])}}return m}function $x(a,l,c){a=a.ownerDocument||a,a.head.insertBefore(c,l==="title"?a.querySelector("head > title"):null)}function nN(a,l,c){if(c===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Hx(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Ts=null;function iN(){}function rN(a,l,c){if(Ts===null)throw Error(i(475));var m=Ts;if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var x=Ho(c.href),b=a.querySelector(xs(x));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=Ec.bind(m),a.then(m,m)),l.state.loading|=4,l.instance=b,Wt(b);return}b=a.ownerDocument||a,c=Vx(c),(x=ci.get(x))&&mp(c,x),b=b.createElement("link"),Wt(b);var A=b;A._p=new Promise(function(k,V){A.onload=k,A.onerror=V}),rn(b,"link",c),l.instance=b}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=Ec.bind(m),a.addEventListener("load",l),a.addEventListener("error",l))}}function aN(){if(Ts===null)throw Error(i(475));var a=Ts;return a.stylesheets&&a.count===0&&hp(a,a.stylesheets),0<a.count?function(l){var c=setTimeout(function(){if(a.stylesheets&&hp(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(c)}}:null}function Ec(){if(this.count--,this.count===0){if(this.stylesheets)hp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var wc=null;function hp(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,wc=new Map,l.forEach(oN,a),wc=null,Ec.call(a))}function oN(a,l){if(!(l.state.loading&4)){var c=wc.get(a);if(c)var m=c.get(null);else{c=new Map,wc.set(a,c);for(var x=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<x.length;b++){var A=x[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),m=A)}m&&c.set(null,m)}x=l.instance,A=x.getAttribute("data-precedence"),b=c.get(A)||m,b===m&&c.set(null,x),c.set(A,x),this.count++,m=Ec.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),b?b.parentNode.insertBefore(x,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(x,a.firstChild)),l.state.loading|=4}}var Cs={$$typeof:M,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function lN(a,l,c,m,x,b,A,k){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.hiddenUpdates=Rl(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Gx(a,l,c,m,x,b,A,k,V,K,le,ue){return a=new lN(a,l,c,A,k,V,K,ue),l=1,b===!0&&(l|=24),b=Fn(3,null,null,l),a.current=b,b.stateNode=a,l=Kf(),l.refCount++,a.pooledCache=l,l.refCount++,b.memoizedState={element:m,isDehydrated:c,cache:l},em(b),a}function qx(a){return a?(a=Co,a):Co}function Wx(a,l,c,m,x,b){x=qx(x),m.context===null?m.context=x:m.pendingContext=x,m=Pr(l),m.payload={element:c},b=b===void 0?null:b,b!==null&&(m.callback=b),c=Ur(a,m,l),c!==null&&(qn(c,a,l),Jl(c,a,l))}function Yx(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<l?c:l}}function gp(a,l){Yx(a,l),(a=a.alternate)&&Yx(a,l)}function Zx(a){if(a.tag===13){var l=To(a,67108864);l!==null&&qn(l,a,67108864),gp(a,67108864)}}var Ac=!0;function sN(a,l,c,m){var x=z.T;z.T=null;var b=G.p;try{G.p=2,yp(a,l,c,m)}finally{G.p=b,z.T=x}}function uN(a,l,c,m){var x=z.T;z.T=null;var b=G.p;try{G.p=8,yp(a,l,c,m)}finally{G.p=b,z.T=x}}function yp(a,l,c,m){if(Ac){var x=vp(m);if(x===null)rp(a,l,m,_c,c),Xx(a,m);else if(dN(x,a,l,c,m))m.stopPropagation();else if(Xx(a,m),l&4&&-1<cN.indexOf(a)){for(;x!==null;){var b=so(x);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Qt(b.pendingLanes);if(A!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var V=1<<31-Le(A);k.entanglements[1]|=V,A&=~V}Ui(b),(ut&6)===0&&(cc=Bt()+500,hs(0))}}break;case 13:k=To(b,2),k!==null&&qn(k,b,2),fc(),gp(b,2)}if(b=vp(m),b===null&&rp(a,l,m,_c,c),b===x)break;x=b}x!==null&&m.stopPropagation()}else rp(a,l,m,null,c)}}function vp(a){return a=Sf(a),xp(a)}var _c=null;function xp(a){if(_c=null,a=lo(a),a!==null){var l=o(a);if(l===null)a=null;else{var c=l.tag;if(c===13){if(a=s(l),a!==null)return a;a=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return _c=a,null}function Kx(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dr()){case gi:return 2;case an:return 8;case jn:case yi:return 32;case ki:return 268435456;default:return 32}default:return 32}}var bp=!1,Kr=null,Xr=null,Jr=null,Ss=new Map,Es=new Map,Qr=[],cN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xx(a,l){switch(a){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ss.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(l.pointerId)}}function ws(a,l,c,m,x,b){return a===null||a.nativeEvent!==b?(a={blockedOn:l,domEventName:c,eventSystemFlags:m,nativeEvent:b,targetContainers:[x]},l!==null&&(l=so(l),l!==null&&Zx(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),a)}function dN(a,l,c,m,x){switch(l){case"focusin":return Kr=ws(Kr,a,l,c,m,x),!0;case"dragenter":return Xr=ws(Xr,a,l,c,m,x),!0;case"mouseover":return Jr=ws(Jr,a,l,c,m,x),!0;case"pointerover":var b=x.pointerId;return Ss.set(b,ws(Ss.get(b)||null,a,l,c,m,x)),!0;case"gotpointercapture":return b=x.pointerId,Es.set(b,ws(Es.get(b)||null,a,l,c,m,x)),!0}return!1}function Jx(a){var l=lo(a.target);if(l!==null){var c=o(l);if(c!==null){if(l=c.tag,l===13){if(l=s(c),l!==null){a.blockedOn=l,kr(a.priority,function(){if(c.tag===13){var m=Gn();m=sn(m);var x=To(c,m);x!==null&&qn(x,c,m),gp(c,m)}});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Nc(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var c=vp(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);Cf=m,c.target.dispatchEvent(m),Cf=null}else return l=so(c),l!==null&&Zx(l),a.blockedOn=c,!1;l.shift()}return!0}function Qx(a,l,c){Nc(a)&&c.delete(l)}function fN(){bp=!1,Kr!==null&&Nc(Kr)&&(Kr=null),Xr!==null&&Nc(Xr)&&(Xr=null),Jr!==null&&Nc(Jr)&&(Jr=null),Ss.forEach(Qx),Es.forEach(Qx)}function Ic(a,l){a.blockedOn===l&&(a.blockedOn=null,bp||(bp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fN)))}var Dc=null;function e1(a){Dc!==a&&(Dc=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dc===a&&(Dc=null);for(var l=0;l<a.length;l+=3){var c=a[l],m=a[l+1],x=a[l+2];if(typeof m!="function"){if(xp(m||c)===null)continue;break}var b=so(c);b!==null&&(a.splice(l,3),l-=3,xm(b,{pending:!0,data:x,method:c.method,action:m},m,x))}}))}function As(a){function l(V){return Ic(V,a)}Kr!==null&&Ic(Kr,a),Xr!==null&&Ic(Xr,a),Jr!==null&&Ic(Jr,a),Ss.forEach(l),Es.forEach(l);for(var c=0;c<Qr.length;c++){var m=Qr[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Qr.length&&(c=Qr[0],c.blockedOn===null);)Jx(c),c.blockedOn===null&&Qr.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var x=c[m],b=c[m+1],A=x[Ct]||null;if(typeof b=="function")A||e1(c);else if(A){var k=null;if(b&&b.hasAttribute("formAction")){if(x=b,A=b[Ct]||null)k=A.formAction;else if(xp(x)!==null)continue}else k=A.action;typeof k=="function"?c[m+1]=k:(c.splice(m,3),m-=3),e1(c)}}}function Tp(a){this._internalRoot=a}kc.prototype.render=Tp.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var c=l.current,m=Gn();Wx(c,m,a,l,null,null)},kc.prototype.unmount=Tp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Wx(a.current,2,null,a,null,null),fc(),l[un]=null}};function kc(a){this._internalRoot=a}kc.prototype.unstable_scheduleHydration=function(a){if(a){var l=zn();a={blockedOn:null,target:a,priority:l};for(var c=0;c<Qr.length&&l!==0&&l<Qr[c].priority;c++);Qr.splice(c,0,a),c===0&&Jx(a)}};var t1=e.version;if(t1!=="19.1.0")throw Error(i(527,t1,"19.1.0"));G.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=d(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var mN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{oe=Mc.inject(mN),ce=Mc}catch{}}return Ns.createRoot=function(a,l){if(!r(a))throw Error(i(299));var c=!1,m="",x=yv,b=vv,A=xv,k=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks)),l=Gx(a,1,!1,null,null,c,m,x,b,A,k,null),a[un]=l.current,ip(a),new Tp(l)},Ns.hydrateRoot=function(a,l,c){if(!r(a))throw Error(i(299));var m=!1,x="",b=yv,A=vv,k=xv,V=null,K=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(V=c.unstable_transitionCallbacks),c.formState!==void 0&&(K=c.formState)),l=Gx(a,1,!0,l,c??null,m,x,b,A,k,V,K),l.context=qx(null),c=l.current,m=Gn(),m=sn(m),x=Pr(m),x.callback=null,Ur(c,x,m),c=m,l.current.lanes=c,Nt(l,c),Ui(l),a[un]=l.current,ip(a),new kc(l)},Ns.version="19.1.0",Ns}var d1;function EN(){if(d1)return Ep.exports;d1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ep.exports=SN(),Ep.exports}var wN=EN();const VC=su(wN);var Ei=zC();const Rc=su(Ei);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rd.apply(this,arguments)}var Ba;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ba||(Ba={}));const f1="popstate";function AN(t){t===void 0&&(t={});function e(i,r){let{pathname:o,search:s,hash:u}=i.location;return ph("",{pathname:o,search:s,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:BC(r)}return NN(e,n,null,t)}function FC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _N(){return Math.random().toString(36).substr(2,8)}function m1(t,e){return{usr:t.state,key:t.key,idx:e}}function ph(t,e,n,i){return n===void 0&&(n=null),rd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$C(e):e,{state:n,key:e&&e.key||i||_N()})}function BC(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function $C(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function NN(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,s=r.history,u=Ba.Pop,d=null,f=h();f==null&&(f=0,s.replaceState(rd({},s.state,{idx:f}),""));function h(){return(s.state||{idx:null}).idx}function v(){u=Ba.Pop;let _=h(),I=_==null?null:_-f;f=_,d&&d({action:u,location:E.location,delta:I})}function T(_,I){u=Ba.Push;let D=ph(E.location,_,I);f=h()+1;let M=m1(D,f),P=E.createHref(D);try{s.pushState(M,"",P)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;r.location.assign(P)}o&&d&&d({action:u,location:E.location,delta:1})}function C(_,I){u=Ba.Replace;let D=ph(E.location,_,I);f=h();let M=m1(D,f),P=E.createHref(D);s.replaceState(M,"",P),o&&d&&d({action:u,location:E.location,delta:0})}function S(_){let I=r.location.origin!=="null"?r.location.origin:r.location.href,D=typeof _=="string"?_:BC(_);return D=D.replace(/ $/,"%20"),FC(I,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,I)}let E={get action(){return u},get location(){return t(r,s)},listen(_){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(f1,v),d=_,()=>{r.removeEventListener(f1,v),d=null}},createHref(_){return e(r,_)},createURL:S,encodeLocation(_){let I=S(_);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:T,replace:C,go(_){return s.go(_)}};return E}var p1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(p1||(p1={}));function IN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const HC=["post","put","patch","delete"];new Set(HC);const DN=["get",...HC];new Set(DN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hh.apply(this,arguments)}const kN=N.createContext(null),GC=N.createContext(null);function MN(){return N.useContext(GC)!=null}function RN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function LN(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ba.Pop,navigator:o,static:s=!1,future:u}=t;MN()&&FC(!1);let d=e.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:d,navigator:o,static:s,future:hh({v7_relativeSplatPath:!1},u)}),[d,u,o,s]);typeof i=="string"&&(i=$C(i));let{pathname:h="/",search:v="",hash:T="",state:C=null,key:S="default"}=i,E=N.useMemo(()=>{let _=IN(h,d);return _==null?null:{location:{pathname:_,search:v,hash:T,state:C,key:S},navigationType:r}},[d,h,v,T,C,S,r]);return E==null?null:N.createElement(kN.Provider,{value:f},N.createElement(GC.Provider,{children:n,value:E}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ON="6";try{window.__reactRouterVersion=ON}catch{}const PN="startTransition",h1=xN[PN];function qC(t){let{basename:e,children:n,future:i,window:r}=t,o=N.useRef();o.current==null&&(o.current=AN({window:r,v5Compat:!0}));let s=o.current,[u,d]=N.useState({action:s.action,location:s.location}),{v7_startTransition:f}=i||{},h=N.useCallback(v=>{f&&h1?h1(()=>d(v)):d(v)},[d,f]);return N.useLayoutEffect(()=>s.listen(h),[s,h]),N.useEffect(()=>RN(i),[i]),N.createElement(LN,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:s,future:i})}var g1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(g1||(g1={}));var y1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(y1||(y1={}));const hg={contract:"Συμβόλαιο",license:"Άδεια",technical_report:"Τεχνική Έκθεση",blueprint:"Αρχιτεκτονικό Σχέδιο",invoice:"Τιμολόγιο",receipt:"Απόδειξη",presentation:"Παρουσίαση",image:"Εικόνα",video:"Βίντεο",audio:"Ηχητικό αρχείο",spreadsheet:"Λογιστικό Φύλλο",text_document:"Έγγραφο Κειμένου",archive:"Συμπιεσμένο Αρχείο",legal_document:"Νομικό Έγγραφο",identity_document:"Έγγραφο Ταυτοποίησης",property_title:"Τίτλος Ιδιοκτησίας",other:"Άλλο"},Hc=Object.keys(hg),UN={naturalPerson:"Φυσικό Πρόσωπο",legalEntity:"Νομική Οντότητα",publicService:"Δημόσια Υπηρεσία"},jN={landOwner:"Ιδιοκτήτης Γης",employee:"Υπάλληλος",buyer:"Αγοραστής",supplier:"Προμηθευτής",consultant:"Σύμβουλος",customer:"Πελάτης",partner:"Συνεργάτης",externalVendor:"Εξωτερικός Πωλητής",admin:"Διαχειριστής",observer:"Παρατηρητής",other:"Άλλο",new_customer_tag:"Νέος Πελάτης (Tag)"},zN={facebook:"Facebook",instagram:"Instagram",x:"X (Twitter)",tiktok:"TikTok",linkedin:"LinkedIn",website:"Ιστοσελίδα",otherSocial:"Άλλο Κοινωνικό Δίκτυο"},VN={active:"Ενεργός/ή",inactive:"Μη ενεργός/ή",student:"Φοιτητής/τρια",retired:"Συνταξιούχος",unemployed:"Άνεργος/η",other:"Άλλο"},FN={single:"Ελεύθερος/η",married:"Έγγαμος/η",divorced:"Διαζευγμένος/η",widowed:"Χήρος/α",cohabiting:"Σε συμβίωση",other:"Άλλο"},BN={landline:"Σταθερό",mobile:"Κινητό",workLandline:"Εργασίας Σταθερό",workMobile:"Εργασίας Κινητό",homeLandline:"Οικίας Σταθερό",fax:"Fax",voip:"VoIP",extension:"Εσωτερικό"},$N={voice:"Φωνή",sms:"SMS",whatsapp:"WhatsApp",viber:"Viber",telegram:"Telegram",signal:"Signal"},HN={general:"Γενική Σημείωση",meeting:"Συνάντηση",call_log:"Καταγραφή Κλήσης",reminder:"Υπενθύμιση",internal_comment:"Εσωτερικό Σχόλιο",system_event:"Συμβάν Συστήματος"},GN={private:"Ιδιωτική",team:"Ομάδα",public:"Δημόσια"},qN={mention:"Αναφορές Χρηστών",system_update:"Ενημερώσεις Συστήματος",task_reminder:"Υπενθυμίσεις Εργασιών",new_message:"Νέα Μηνύματα",deadline_approaching:"Προθεσμίες που Πλησιάζουν",entity_created:"Δημιουργία Στοιχείων",entity_updated:"Ενημέρωση Στοιχείων",general_info:"Γενικές Πληροφορίες"},WN=hg,YN={headerTitleContacts:"Λίστα Επαφών",globalSearchPlaceholder:"Αναζήτηση ή ερώτηση...",contactsListTitle:"Λίστα Επαφών",contactDetailsPaneTitle:"Λεπτομέρειες Επαφής",contactSearchPlaceholder:"Αναζήτηση επαφής...",addContactButton:"Προσθήκη",saveButton:"Αποθήκευση Επαφής",saveInProgressButton:"Αποθήκευση...",cancelButton:"Άκυρο",noContactsYet:"Δεν υπάρχουν επαφές ακόμη.",noContactsPrompt:'Πατήστε "Προσθήκη" για να ξεκινήσετε!',dashboardTitle:"Επιτελική Εικόνα",usersTitle:"Χρήστες",settingsTitle:"Ρυθμίσεις",crmTitle:"Πίνακας Ενεργειών",crmOverviewPageTitle:"Πίνακας Ενεργειών",projectDetailsPaneTitle:"Λεπτομέρειες Έργου",projectCardTitle:"Καρτέλα Έργου",dashboardWidgetTotalContactsTitle:"Σύνολο Επαφών",dashboardWidgetRecentContactsTitle:"Πρόσφατες Επαφές",dashboardWidgetUnreadNotificationsTitle:"Αδιάβαστες Ειδοποιήσεις",notificationPreferencesTitle:"Προτιμήσεις Ειδοποιήσεων",contactDetailPlaceholder:"Επιλέξτε μια επαφή για να δείτε τις λεπτομέρειες.",genericViewPlaceholder:t=>`Το περιεχόμενο για την ενότητα "${t}" θα εμφανιστεί εδώ.`,selectContactPrompt:"Επιλέξτε μια επαφή από τη λίστα για να δείτε τα πλήρη στοιχεία της.",saveSuccessNotification:"Η επαφή αποθηκεύτηκε με επιτυχία!",deleteSuccessNotification:t=>`Η επαφή "${t}" διαγράφηκε με επιτυχία!`,genericErrorNotification:"Παρουσιάστηκε ένα σφάλμα. Παρακαλώ δοκιμάστε ξανά.",validationErrorNotification:"Η φόρμα περιέχει σφάλματα. Παρακαλώ διορθώστε τα και προσπαθήστε ξανά.",addingNote:"Προσθήκη σημείωσης...",addNoteSuccessNotification:"Η σημείωση προστέθηκε με επιτυχία!",addNoteErrorNotification:"Σφάλμα κατά την προσθήκη της σημείωσης.",deletingNote:"Διαγραφή σημείωσης...",deleteNoteSuccessNotification:"Η σημείωση διαγράφηκε με επιτυχία!",deleteNoteErrorNotification:"Σφάλμα κατά τη διαγραφή της σημείωσης.",updatingNote:"Ενημέρωση σημείωσης...",updateNoteSuccessNotification:"Η σημείωση ενημερώθηκε με επιτυχία!",updateNoteErrorNotification:"Σφάλμα κατά την ενημέρωση της σημείωσης.",noMentionMatches:"Κανένας χρήστης δεν βρέθηκε",notificationsTitle:"Ειδοποιήσεις",noNotificationsYet:"Δεν υπάρχουν νέες ειδοποιήσεις.",noNotificationsMatchingFilters:"Δεν υπάρχουν ειδοποιήσεις που να ταιριάζουν με τις επιλογές σας. Ελέγξτε τις ρυθμίσεις ειδοποιήσεων.",markAllAsReadButton:"Σήμανση όλων ως διαβασμένα",clearAllNotificationsButton:"Εκκαθάριση όλων",markAsReadButton:"Σήμανση ως διαβασμένο",clearNotificationButton:"Εκκαθάριση ειδοποίησης",closeNotificationsPanelButton:"Κλείσιμο πίνακα ειδοποιήσεων",notificationSettingsButton:"Ρυθμίσεις Ειδοποιήσεων",notificationSettingsModalTitle:"Ρυθμίσεις Ειδοποιήσεων",filtersButtonLabel:"Φίλτρα",sortButtonLabel:"Ταξινόμηση",filterByTypeLabel:"Τύπος Επαφής",filterByRoleLabel:"Ρόλος",applyFiltersButton:"Εφαρμογή",clearFiltersButton:"Καθαρισμός Φίλτρων",noFiltersAppliedText:"Χωρίς ενεργά φίλτρα",activeFiltersText:t=>`${t} ${t===1?"ενεργό φίλτρο":"ενεργά φίλτρα"}`,sortByNameAsc:"Όνομα (Α-Ω)",sortByNameDesc:"Όνομα (Ω-Α)",sortByContactType:"Τύπος Επαφής",tooltipBold:"Έντονα (Ctrl+B)",tooltipItalic:"Πλάγια (Ctrl+I)",tooltipUnorderedList:"Λίστα με κουκκίδες",tooltipOrderedList:"Αριθμημένη λίστα",addActivityModalTitle:"Προσθήκη Νέας Ενέργειας",editActivityModalTitle:"Επεξεργασία Ενέργειας",addActivityButtonLabel:"Προσθήκη Ενέργειας"},ZN={modalTitleAdd:"Προσθήκη Νέας Επαφής",deleteConfirmTitle:"Επιβεβαίωση Διαγραφής",deleteConfirmMessage:t=>`Είστε σίγουροι ότι θέλετε να διαγράψετε την επαφή ${t?`"${t}"`:"αυτή την επαφή"}; Αυτή η ενέργεια δεν μπορεί να αναιρεθεί.`,deleteConfirmButton:"Διαγραφή",deleteCancelButton:"Άκυρο",genericConfirmationTarget:"αυτό το στοιχείο",deleteNoteConfirmation:"Είστε σίγουροι ότι θέλετε να διαγράψετε αυτή τη σημείωση;",modalAlertCloseButtonAriaLabel:"Κλείσιμο παραθύρου ειδοποίησης",modalAlertDefaultOkButton:"OK",aiSummaryModalTitle:"AI Σύνοψη Σημειώσεων",aiSummaryErrorPreamble:"Σφάλμα κατά τη σύνοψη",aiSummaryCloseButton:"Κλείσιμο",aiDraftEmailModalTitle:t=>`AI Προσχέδιο Email για ${t}`,aiDraftEmailLoadingMessage:"Το AI επεξεργάζεται το προσχέδιο email...",aiDraftEmailErrorPreamble:"Σφάλμα κατά τη δημιουργία προσχεδίου email",aiDraftEmailCopyButton:"Αντιγραφή",aiDraftEmailSendButton:"Αποστολή",aiDraftEmailCloseButton:"Κλείσιμο",aiDraftEmailCopiedSuccess:"Το προσχέδιο αντιγράφηκε στο πρόχειρο!",documentUploadModalTitle:"Μεταφόρτωση Νέου Εγγράφου"},KN={formTitleAddContact:"Προσθήκη Νέας Επαφής",formTitleEditContact:"Επεξεργασία Επαφής",nameRequiredError:"Το όνομα είναι υποχρεωτικό.",nameAndLastNameRequiredError:"Το όνομα και το επώνυμο είναι υποχρεωτικά για φυσικά πρόσωπα.",entityNameRequiredError:"Το όνομα της οντότητας/υπηρεσίας είναι υποχρεωτικό.",invalidEmailError:"Παρακαλώ εισάγετε μια έγκυρη διεύθυνση email.",fieldRequiredError:t=>`Το πεδίο "${t}" είναι υποχρεωτικό.`,firstNameRequiredError:"Το όνομα είναι υποχρεωτικό.",lastNameRequiredError:"Το επώνυμο είναι υποχρεωτικό.",phoneNumberRequiredError:"Ο αριθμός τηλεφώνου είναι υποχρεωτικός.",streetRequiredError:"Η οδός είναι υποχρεωτική.",cityRequiredError:"Η πόλη είναι υποχρεωτική.",postalCodeRequiredError:"Ο ταχυδρομικός κώδικας είναι υποχρεωτικός.",countryRequiredError:"Η χώρα είναι υποχρεωτική.",socialUrlInvalidError:"Παρακαλώ εισάγετε ένα έγκυρο URL ή αναγνωριστικό.",invalidUrlError:"Παρακαλώ εισάγετε ένα έγκυρο URL (π.χ., https://example.com).",invalidAfmError:"Το ΑΦΜ πρέπει να αποτελείται από 9 αριθμητικούς χαρακτήρες.",mustBeAValidUrl:"Πρέπει να είναι έγκυρο URL (π.χ. https://example.com)",mustBeAValidEmail:"Πρέπει να είναι έγκυρη διεύθυνση email",mustBeAtLeastChars:t=>`Πρέπει να έχει τουλάχιστον ${t} χαρακτήρες.`,mustBeExactlyChars:t=>`Πρέπει να έχει ακριβώς ${t} χαρακτήρες.`,mustBeNumeric:"Πρέπει να είναι αριθμός.",noteContentRequiredError:"Το περιεχόμενο της σημείωσης είναι υποχρεωτικό.",primaryRequiredError:"Πρέπει να ορίσετε ένα κύριο στοιχείο.",noteAuthorUserIdRequiredError:"Το User ID του συγγραφέα είναι υποχρεωτικό.",noteAuthorDisplayNameRequiredError:"Το εμφανιζόμενο όνομα του συγγραφέα είναι υποχρεωτικό.",noteEntityIdRequiredError:"Το ID της οντότητας είναι υποχρεωτικό.",noteInvalidCreationDateError:"Μη έγκυρη ημερομηνία δημιουργίας σημείωσης.",noteInvalidUpdateDateError:"Μη έγκυρη ημερομηνία ενημέρωσης σημείωσης.",noteEmptyTagError:"Τα tags δεν μπορούν να είναι κενά.",attachmentFileNameRequiredError:"Το όνομα του αρχείου είναι υποχρεωτικό.",attachmentFileTypeRequiredError:"Ο τύπος του αρχείου είναι υποχρεωτικός.",attachmentFileSizePositiveError:"Το μέγεθος του αρχείου πρέπει να είναι θετικός αριθμός.",attachmentFileUrlRequiredError:"Το URL του αρχείου (Data URL) είναι υποχρεωτικό.",attachmentInvalidUploadDateError:"Μη έγκυρη ημερομηνία ανεβάσματος συνημμένου.",invalidEntityTypeError:"Μη έγκυρος τύπος οντότητας.",invalidNoteVisibilityError:"Μη έγκυρη ορατότητα σημείωσης.",invalidNoteTypeError:"Μη έγκυρος τύπος σημείωσης.",contactTypeLabel:"Τύπος Επαφής",firstNameLabel:"Όνομα",firstNamePlaceholder:"π.χ., Ιωάννης",lastNameLabel:"Επώνυμο",lastNamePlaceholder:"π.χ., Παπαδόπουλος",nicknameLabel:"Χαϊδευτικό/Ψευδώνυμο",nicknamePlaceholder:"π.χ., Γιάννης",dateOfBirthLabel:"Ημερομηνία Γέννησης",fatherNameLabel:"Όνομα Πατρός",fatherNamePlaceholder:"Όνομα πατρός",motherNameLabel:"Όνομα Μητρός",motherNamePlaceholder:"Όνομα μητρός",idNumberLabel:"Αριθμός Δελτίου Ταυτότητας (ΑΔΤ)",idNumberPlaceholder:"π.χ., ΑΙ123456",issuingAuthorityLabel:"Αρχή Έκδοσης ΑΔΤ",issuingAuthorityPlaceholder:"π.χ., Τ.Α. Μενεμένης",dateOfIssueLabel:"Ημερομηνία Έκδοσης ΑΔΤ",placeOfBirthLabel:"Τόπος Γέννησης",placeOfBirthPlaceholder:"π.χ., Θεσσαλονίκη",maritalStatusLabel:"Οικογενειακή Κατάσταση",entityNameLabel:"Επωνυμία / Όνομα Υπηρεσίας",entityNamePlaceholder:"π.χ., Εταιρεία Α.Ε. ή Πολεοδομία Αθηνών",brandNameLabel:"Εμπορική Επωνυμία / Διακριτικός Τίτλος",brandNamePlaceholder:'π.χ., "Το Καλύτερο Προϊόν"',companyTypeLabel:"Τύπος Εταιρείας",companyTypePlaceholder:"π.χ., Α.Ε., Ε.Π.Ε., Ι.Κ.Ε.",gemhNumberLabel:"Αριθμός Γ.Ε.ΜΗ.",gemhNumberPlaceholder:"1234567890123",parentCompanyLabel:"Όνομα Ομίλου/Μητρικής Εταιρείας",parentCompanyPlaceholder:"π.χ. Όμιλος Εταιρειών XYZ",serviceTypeLabel:"Τύπος Υπηρεσίας",serviceTypePlaceholder:"π.χ., Πολεοδομία, ΔΟΥ",directorateLabel:"Διεύθυνση (Υπηρεσίας)",directoratePlaceholder:"π.χ., Διεύθυνση Πολεοδομίας",departmentLabel:"Τμήμα (Υπηρεσίας)",departmentPlaceholder:"π.χ., Τμήμα Έκδοσης Αδειών",professionLabel:"Επάγγελμα",professionPlaceholder:"π.χ., Αρχιτέκτονας, Δικηγόρος",employmentStatusLabel:"Κατάσταση Απασχόλησης",worksAtCompanyLabel:"Εταιρεία Εργασίας",worksAtCompanyPlaceholder:"π.χ., ABC Constructions AE",jobTitleLabel:"Θέση Εργασίας",jobTitlePlaceholder:"π.χ., Μηχανικός Εργοταξίου",educationLevelLabel:"Επίπεδο Μόρφωσης",educationLevelPlaceholder:"π.χ., Πτυχίο ΑΕΙ, Μεταπτυχιακό",propertyAttributesLabel:"Ιδιότητες Ακινήτων",isPropertyOwnerLabel:"Ιδιοκτήτης Ακινήτου",isLandParcelOwnerLabel:"Οικοπεδούχος",isTenantLabel:"Ενοικιαστής",isProspectiveBuyerLabel:"Ενδιαφέρεται για Αγορά",isProspectiveSellerLabel:"Ενδιαφέρεται για Πώληση",afmLabel:"ΑΦΜ",afmPlaceholder:"Αριθμός Φορολογικού Μητρώου",doyLabel:"ΔΟΥ",doyPlaceholder:"Δημόσια Οικονομική Υπηρεσία",rolesLabel:"Ρόλοι (διαχωρισμένοι με κόμμα)",rolesPlaceholder:"π.χ., buyer,employee (αγγλικές λέξεις-κλειδιά)",emailLabel:"Email",emailPlaceholder:"contact@example.gr",phoneLabel:"Τηλέφωνο",phoneNumbersLabel:"Τηλεφωνικοί Αριθμοί",addPhoneNumberButton:"Προσθήκη Τηλεφώνου",removePhoneNumberButton:"Αφαίρεση Τηλεφώνου",phoneNumberLabel:"Αριθμός",phoneNumberPlaceholder:"π.χ., 2101234567 ή 69xxxxxxxx",phoneTypeLabel:"Τύπος Τηλεφώνου",phoneIsPrimaryLabel:"Κύριο Τηλέφωνο",phoneNotesLabel:"Σημειώσεις Τηλεφώνου",phoneNotesPlaceholder:"π.χ., Μόνο για Viber",phoneLabelLabel:"Ετικέτα Τηλεφώνου",phoneLabelPlaceholder:"π.χ., Γραμματεία, Κινητό Γιώργου",countryCodeLabel:"Κωδικός Χώρας",countryCodePlaceholder:"+30",extensionLabel:"Εσωτερικό",extensionPlaceholder:"π.χ., 101",protocolsLabel:"Πρωτόκολλα Επικοινωνίας",voipIntegrationSectionTitle:"Ενσωμάτωση VoIP",voipSystemNameLabel:"Όνομα Συστήματος VoIP",voipSystemNamePlaceholder:"π.χ., Asterisk, 3CX",voipSystemSpecificIdLabel:"ID Συστήματος VoIP",voipSystemSpecificIdPlaceholder:"Αναγνωριστικό στο σύστημα VoIP",voipCanDialLabel:"Δυνατότητα Κλήσης μέσω Συστήματος",avatarUrlLabel:"URL Εικόνας/Λογοτύπου",avatarUrlPlaceholder:"https://example.com/logo.png",notesLabel:"Σημειώσεις",notesPlaceholder:"Πρόσθετες σημειώσεις...",newNotePlaceholder:"Πληκτρολογήστε τη σημείωσή σας...",addNoteButton:"Προσθήκη Σημείωσης",noteTypeLabel:"Τύπος Σημείωσης",noteVisibilityLabel:"Ορατότητα Σημείωσης",socialMediaLabel:"Κοινωνικά Δίκτυα & Messaging",socialMediaPlaceholder:`π.χ., facebook:https://facebook.com/username
whatsapp:6900000000
website:https://example.com`,addSocialMediaButton:"Προσθήκη Social Media/Link",socialPlatformLabel:"Πλατφόρμα",socialUrlLabel:"Link/Username/Αριθμός",socialUrlPlaceholder:"https://..., @username, 69xxxxxxxx",addressesLabel:"Διευθύνσεις",addAddressButton:"Προσθήκη Διεύθυνσης",removeAddressButton:"Αφαίρεση Διεύθυνσης",addressStreetLabel:"Οδός",addressStreetPlaceholder:"π.χ., Ερμού",addressNumberLabel:"Αριθμός",addressNumberPlaceholder:"π.χ., 10Α",addressAreaLabel:"Περιοχή",addressAreaPlaceholder:"π.χ., Κολωνάκι",addressMunicipalityLabel:"Δήμος",addressMunicipalityPlaceholder:"π.χ., Αθηναίων",addressCityLabel:"Πόλη",addressCityPlaceholder:"π.χ., Αθήνα",addressPrefectureLabel:"Νομός",addressPrefecturePlaceholder:"π.χ., Αττικής",addressCountryLabel:"Χώρα",addressCountryPlaceholder:"π.χ., Ελλάδα",addressPostalCodeLabel:"Τ.Κ.",addressPostalCodePlaceholder:"π.χ., 10563",addressTypeLabel:"Τύπος Διεύθυνσης",addressIsPrimaryLabel:"Κύρια Διεύθυνση",showPasswordButtonLabel:"Εμφάνιση κωδικού",hidePasswordButtonLabel:"Απόκρυψη κωδικού",incrementButtonLabel:"Αύξηση",decrementButtonLabel:"Μείωση",addAttachmentsButton:"Προσθήκη Συνημμένων",maxFileSizeError:t=>`Το συνολικό μέγεθος των αρχείων δεν πρέπει να υπερβαίνει τα ${t}MB.`,maxFilesError:t=>`Μπορείτε να επισυνάψετε έως ${t} αρχεία.`,fileTypeError:"Ο τύπος ενός ή περισσοτέρων αρχείων δεν υποστηρίζεται.",fileReadError:"Σφάλμα κατά την ανάγνωση ενός αρχείου.",selectedFilesTitle:"Επιλεγμένα Αρχεία:",noFilesSelected:"Δεν έχουν επιλεγεί αρχεία.",removeButtonAriaLabel:t=>`Αφαίρεση αρχείου ${t}`,activityTitleLabel:"Τίτλος Ενέργειας",activityCategoryLabel:"Κατηγορία Ενέργειας",activitySpecificTypeLabel:"Εξειδικευμένος Τύπος",descriptionLabel:"Περιγραφή",startTimeLabel:"Ώρα Έναρξης",endTimeLabel:"Ώρα Λήξης",activityOutcomeLabel:"Αποτέλεσμα",relatedEntitiesLabel:"Συσχετιζόμενες Οντότητες",relatedContactLabel:"Σχετική Επαφή (ID)",relatedProjectLabel:"Σχετικό Έργο (ID)",relatedPropertyLabel:"Σχετικό Ακίνητο (ID)",relatedDealLabel:"Σχετική Ευκαιρία (ID)",saveActivityButton:"Αποθήκευση Ενέργειας",activityFormErrorRequired:t=>`Το πεδίο "${t}" είναι υποχρεωτικό για την ενέργεια.`,activityFormErrorInvalidDate:"Μη έγκυρη ημερομηνία/ώρα.",activityFormErrorEndTimeBeforeStart:"Η ώρα λήξης δεν μπορεί να είναι πριν την ώρα έναρξης.",documentCategoryLabel:"Κατηγορία Εγγράφου",tagsLabel:"Ετικέτες (χωρισμένες με κόμμα)"},XN={identityInfoSectionTitle:"Στοιχεία Ταυτοποίησης",dateOfBirthCardLabel:"Ημ. Γέννησης",fatherNameCardLabel:"Πατρώνυμο",motherNameCardLabel:"Μητρώνυμο",idNumberCardLabel:"ΑΔΤ",issuingAuthorityCardLabel:"Αρχή Έκδοσης",dateOfIssueCardLabel:"Ημ. Έκδοσης",placeOfBirthCardLabel:"Τόπος Γέννησης",maritalStatusCardLabel:"Οικ. Κατάσταση",contactInfoSectionTitle:"Στοιχεία Επικοινωνίας",addressesSectionTitle:"Διευθύνσεις",noAddresses:"Δεν υπάρχουν καταχωρημένες διευθύνσεις.",primaryAddressTooltip:"Κύρια Διεύθυνση",primaryPhoneTooltip:"Κύριο Τηλέφωνο",professionalInfoSectionTitle:"Επαγγελματικά Στοιχεία",professionCardLabel:"Επάγγελμα",employmentStatusCardLabel:"Κατάσταση Απασχόλησης",worksAtCompanyCardLabel:"Εταιρεία",jobTitleCardLabel:"Θέση",educationLevelCardLabel:"Εκπαίδευση",propertyAttributesSectionTitle:"Ιδιότητες Ακινήτων",legalEntityInfoSectionTitle:"Στοιχεία Νομικής Οντότητας",brandNameCardLabel:"Εμπορική Επωνυμία",companyTypeCardLabel:"Τύπος Εταιρείας",gemhNumberCardLabel:"Αρ. ΓΕΜΗ",parentCompanyCardLabel:"Όμιλος/Μητρική",publicServiceInfoSectionTitle:"Στοιχεία Δημόσιας Υπηρεσίας",serviceTypeCardLabel:"Τύπος Υπηρεσίας",directorateCardLabel:"Διεύθυνση",departmentCardLabel:"Τμήμα",notesCardLabel:"Σημειώσεις",noEmail:"Χωρίς email",noPhone:"Χωρίς τηλέφωνο",rolesCardLabel:"Ρόλοι",taxInfoCardLabel:"Φορολογικά Στοιχεία",socialMediaCardLabel:"Κοινωνικά Δίκτυα",editContactButton:"Επεξεργασία Επαφής",deleteContactButton:"Διαγραφή Επαφής",aiSuggestedCategoriesCardLabel:"AI Προτεινόμενες Κατηγορίες",tooltipCall:"Κλήση",tooltipSms:"Αποστολή SMS",tooltipWhatsApp:"Άνοιγμα συνομιλίας WhatsApp",tooltipViber:"Άνοιγμα συνομιλίας Viber",tooltipTelegram:"Άνοιγμα συνομιλίας Telegram",tooltipSignal:"Άνοιγμα συνομιλίας Signal",deleteNoteButtonTooltip:"Διαγραφή Σημείωσης",noNotesYet:"Δεν υπάρχουν σημειώσεις ακόμη.",editNoteButtonTooltip:"Επεξεργασία Σημείωσης",saveNoteChangesButton:"Αποθήκευση",cancelNoteEditButton:"Άκυρο",pinNoteButtonTooltip:"Καρφίτσωμα Σημείωσης",unpinNoteButtonTooltip:"Ξεκαρφίτσωμα Σημείωσης",searchNotesPlaceholder:"Αναζήτηση σημειώσεων...",filterByPinnedButtonLabel:"Καρφιτσωμένες",filterByMyNotesButtonLabel:"Οι σημειώσεις μου",filterByTagPlaceholder:"Φίλτρο ανά tag...",clearNoteFiltersButtonLabel:"Καθαρισμός φίλτρων",noNotesMatchFilters:"Δεν βρέθηκαν σημειώσεις που να ταιριάζουν στα κριτήρια.",attachmentsSectionTitle:"Συνημμένα",noAttachmentsYet:"Δεν υπάρχουν συνημμένα.",removeAttachmentTooltip:"Αφαίρεση Συνημμένου",searchAttachmentsPlaceholder:"Αναζήτηση συνημμένων...",noAttachmentsMatchSearch:"Δεν βρέθηκαν συνημμένα που να ταιριάζουν.",uploadedOnLabel:"Ανέβηκε:",aiSummaryButtonLabel:"AI Σύνοψη",summarizingNotesMessage:"Γίνεται σύνοψη των σημειώσεων με AI...",noNotesToSummarizeTooltip:"Δεν υπάρχουν σημειώσεις για σύνοψη.",aiServiceUnavailableTooltip:"Η υπηρεσία AI δεν είναι διαθέσιμη (λείπει το API Key).",aiCategoryAddSuccess:t=>`Ο ρόλος '${t}' προστέθηκε με επιτυχία.`,aiCategoryNotStandardRole:t=>`Η κατηγορία '${t}' δεν είναι τυπικός ρόλος.`,projectCodeLabel:"Κωδικός Έργου",projectLocationLabel:"Τοποθεσία",projectPhaseLabel:"Φάση",projectBudgetLabel:"Προϋπολογισμός",projectStartDateLabel:"Ημ/νία Έναρξης",projectExpectedEndDateLabel:"Αναμ. Ημ/νία Λήξης",projectActualEndDateLabel:"Πραγμ. Ημ/νία Λήξης",projectManagerLabel:"Υπεύθυνος Έργου",editProjectButton:"Επεξεργασία Έργου",deleteProjectButton:"Διαγραφή Έργου",projectDetailsSectionTitle:"Στοιχεία Έργου",noProjectDetails:"Δεν υπάρχουν διαθέσιμες λεπτομέρειες για αυτό το έργο."},Bi=UN,Vi=jN,Ga=zN,ad=VN,od=FN,ld=BN,JN=$N,WC=HN,YC=GN,gh=qN,QN=WN,bn=KN,gg=XN,U={...YN,...ZN,...bn,...gg,phonePageTitle:"Ψηφιακό Τηλέφωνο",dialPadInputPlaceholder:"Εισαγάγετε αριθμό",dialPadCallButton:"Κλήση",devToggleMockCallButton:"Dev: Mock Call",selectPlaceholder:"Επιλέξτε..."},e2=["top","right","bottom","left"],_i=Math.min,fn=Math.max,sd=Math.round,Lc=Math.floor,qi=t=>({x:t,y:t}),t2={left:"right",right:"left",bottom:"top",top:"bottom"},n2={start:"end",end:"start"};function yh(t,e,n){return fn(t,_i(e,n))}function ga(t,e){return typeof t=="function"?t(e):t}function Ki(t){return t.split("-")[0]}function xl(t){return t.split("-")[1]}function ZC(t){return t==="x"?"y":"x"}function yg(t){return t==="y"?"height":"width"}function $i(t){return["top","bottom"].includes(Ki(t))?"y":"x"}function vg(t){return ZC($i(t))}function i2(t,e,n){n===void 0&&(n=!1);const i=xl(t),r=vg(t),o=yg(r);let s=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=ud(s)),[s,ud(s)]}function r2(t){const e=ud(t);return[vh(t),e,vh(e)]}function vh(t){return t.replace(/start|end/g,e=>n2[e])}function a2(t,e,n){const i=["left","right"],r=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?o:s;default:return[]}}function o2(t,e,n,i){const r=xl(t);let o=a2(Ki(t),n==="start",i);return r&&(o=o.map(s=>s+"-"+r),e&&(o=o.concat(o.map(vh)))),o}function ud(t){return t.replace(/left|right|bottom|top/g,e=>t2[e])}function l2(t){return{top:0,right:0,bottom:0,left:0,...t}}function xg(t){return typeof t!="number"?l2(t):{top:t,right:t,bottom:t,left:t}}function dl(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function v1(t,e,n){let{reference:i,floating:r}=t;const o=$i(e),s=vg(e),u=yg(s),d=Ki(e),f=o==="y",h=i.x+i.width/2-r.width/2,v=i.y+i.height/2-r.height/2,T=i[u]/2-r[u]/2;let C;switch(d){case"top":C={x:h,y:i.y-r.height};break;case"bottom":C={x:h,y:i.y+i.height};break;case"right":C={x:i.x+i.width,y:v};break;case"left":C={x:i.x-r.width,y:v};break;default:C={x:i.x,y:i.y}}switch(xl(e)){case"start":C[s]-=T*(n&&f?-1:1);break;case"end":C[s]+=T*(n&&f?-1:1);break}return C}const s2=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:s}=n,u=o.filter(Boolean),d=await(s.isRTL==null?void 0:s.isRTL(e));let f=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:h,y:v}=v1(f,i,d),T=i,C={},S=0;for(let E=0;E<u.length;E++){const{name:_,fn:I}=u[E],{x:D,y:M,data:P,reset:L}=await I({x:h,y:v,initialPlacement:i,placement:T,strategy:r,middlewareData:C,rects:f,platform:s,elements:{reference:t,floating:e}});h=D??h,v=M??v,C={...C,[_]:{...C[_],...P}},L&&S<=50&&(S++,typeof L=="object"&&(L.placement&&(T=L.placement),L.rects&&(f=L.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):L.rects),{x:h,y:v}=v1(f,T,d)),E=-1)}return{x:h,y:v,placement:T,strategy:r,middlewareData:C}};async function Zs(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:o,rects:s,elements:u,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:v="floating",altBoundary:T=!1,padding:C=0}=ga(e,t),S=xg(C),_=u[T?v==="floating"?"reference":"floating":v],I=dl(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:d})),D=v==="floating"?{x:i,y:r,width:s.floating.width,height:s.floating.height}:s.reference,M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),P=await(o.isElement==null?void 0:o.isElement(M))?await(o.getScale==null?void 0:o.getScale(M))||{x:1,y:1}:{x:1,y:1},L=dl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:M,strategy:d}):D);return{top:(I.top-L.top+S.top)/P.y,bottom:(L.bottom-I.bottom+S.bottom)/P.y,left:(I.left-L.left+S.left)/P.x,right:(L.right-I.right+S.right)/P.x}}const u2=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:o,platform:s,elements:u,middlewareData:d}=e,{element:f,padding:h=0}=ga(t,e)||{};if(f==null)return{};const v=xg(h),T={x:n,y:i},C=vg(r),S=yg(C),E=await s.getDimensions(f),_=C==="y",I=_?"top":"left",D=_?"bottom":"right",M=_?"clientHeight":"clientWidth",P=o.reference[S]+o.reference[C]-T[C]-o.floating[S],L=T[C]-o.reference[C],R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let B=R?R[M]:0;(!B||!await(s.isElement==null?void 0:s.isElement(R)))&&(B=u.floating[M]||o.floating[S]);const q=P/2-L/2,$=B/2-E[S]/2-1,j=_i(v[I],$),Z=_i(v[D],$),ne=j,ae=B-E[S]-Z,ee=B/2-E[S]/2+q,Q=yh(ne,ee,ae),z=!d.arrow&&xl(r)!=null&&ee!==Q&&o.reference[S]/2-(ee<ne?j:Z)-E[S]/2<0,G=z?ee<ne?ee-ne:ee-ae:0;return{[C]:T[C]+G,data:{[C]:Q,centerOffset:ee-Q-G,...z&&{alignmentOffset:G}},reset:z}}}),c2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:o,rects:s,initialPlacement:u,platform:d,elements:f}=e,{mainAxis:h=!0,crossAxis:v=!0,fallbackPlacements:T,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:E=!0,..._}=ga(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const I=Ki(r),D=$i(u),M=Ki(u)===u,P=await(d.isRTL==null?void 0:d.isRTL(f.floating)),L=T||(M||!E?[ud(u)]:r2(u)),R=S!=="none";!T&&R&&L.push(...o2(u,E,S,P));const B=[u,...L],q=await Zs(e,_),$=[];let j=((i=o.flip)==null?void 0:i.overflows)||[];if(h&&$.push(q[I]),v){const ee=i2(r,s,P);$.push(q[ee[0]],q[ee[1]])}if(j=[...j,{placement:r,overflows:$}],!$.every(ee=>ee<=0)){var Z,ne;const ee=(((Z=o.flip)==null?void 0:Z.index)||0)+1,Q=B[ee];if(Q&&(!(v==="alignment"?D!==$i(Q):!1)||j.every(re=>re.overflows[0]>0&&$i(re.placement)===D)))return{data:{index:ee,overflows:j},reset:{placement:Q}};let z=(ne=j.filter(G=>G.overflows[0]<=0).sort((G,re)=>G.overflows[1]-re.overflows[1])[0])==null?void 0:ne.placement;if(!z)switch(C){case"bestFit":{var ae;const G=(ae=j.filter(re=>{if(R){const de=$i(re.placement);return de===D||de==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(de=>de>0).reduce((de,w)=>de+w,0)]).sort((re,de)=>re[1]-de[1])[0])==null?void 0:ae[0];G&&(z=G);break}case"initialPlacement":z=u;break}if(r!==z)return{reset:{placement:z}}}return{}}}};function x1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function b1(t){return e2.some(e=>t[e]>=0)}const d2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=ga(t,e);switch(i){case"referenceHidden":{const o=await Zs(e,{...r,elementContext:"reference"}),s=x1(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:b1(s)}}}case"escaped":{const o=await Zs(e,{...r,altBoundary:!0}),s=x1(o,n.floating);return{data:{escapedOffsets:s,escaped:b1(s)}}}default:return{}}}}};function KC(t){const e=_i(...t.map(o=>o.left)),n=_i(...t.map(o=>o.top)),i=fn(...t.map(o=>o.right)),r=fn(...t.map(o=>o.bottom));return{x:e,y:n,width:i-e,height:r-n}}function f2(t){const e=t.slice().sort((r,o)=>r.y-o.y),n=[];let i=null;for(let r=0;r<e.length;r++){const o=e[r];!i||o.y-i.y>i.height/2?n.push([o]):n[n.length-1].push(o),i=o}return n.map(r=>dl(KC(r)))}const m2=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:i,rects:r,platform:o,strategy:s}=e,{padding:u=2,x:d,y:f}=ga(t,e),h=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(i.reference))||[]),v=f2(h),T=dl(KC(h)),C=xg(u);function S(){if(v.length===2&&v[0].left>v[1].right&&d!=null&&f!=null)return v.find(_=>d>_.left-C.left&&d<_.right+C.right&&f>_.top-C.top&&f<_.bottom+C.bottom)||T;if(v.length>=2){if($i(n)==="y"){const j=v[0],Z=v[v.length-1],ne=Ki(n)==="top",ae=j.top,ee=Z.bottom,Q=ne?j.left:Z.left,z=ne?j.right:Z.right,G=z-Q,re=ee-ae;return{top:ae,bottom:ee,left:Q,right:z,width:G,height:re,x:Q,y:ae}}const _=Ki(n)==="left",I=fn(...v.map(j=>j.right)),D=_i(...v.map(j=>j.left)),M=v.filter(j=>_?j.left===D:j.right===I),P=M[0].top,L=M[M.length-1].bottom,R=D,B=I,q=B-R,$=L-P;return{top:P,bottom:L,left:R,right:B,width:q,height:$,x:R,y:P}}return T}const E=await o.getElementRects({reference:{getBoundingClientRect:S},floating:i.floating,strategy:s});return r.reference.x!==E.reference.x||r.reference.y!==E.reference.y||r.reference.width!==E.reference.width||r.reference.height!==E.reference.height?{reset:{rects:E}}:{}}}};async function p2(t,e){const{placement:n,platform:i,elements:r}=t,o=await(i.isRTL==null?void 0:i.isRTL(r.floating)),s=Ki(n),u=xl(n),d=$i(n)==="y",f=["left","top"].includes(s)?-1:1,h=o&&d?-1:1,v=ga(e,t);let{mainAxis:T,crossAxis:C,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof S=="number"&&(C=u==="end"?S*-1:S),d?{x:C*h,y:T*f}:{x:T*f,y:C*h}}const h2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:o,placement:s,middlewareData:u}=e,d=await p2(e,t);return s===((n=u.offset)==null?void 0:n.placement)&&(i=u.arrow)!=null&&i.alignmentOffset?{}:{x:r+d.x,y:o+d.y,data:{...d,placement:s}}}}},g2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:u={fn:_=>{let{x:I,y:D}=_;return{x:I,y:D}}},...d}=ga(t,e),f={x:n,y:i},h=await Zs(e,d),v=$i(Ki(r)),T=ZC(v);let C=f[T],S=f[v];if(o){const _=T==="y"?"top":"left",I=T==="y"?"bottom":"right",D=C+h[_],M=C-h[I];C=yh(D,C,M)}if(s){const _=v==="y"?"top":"left",I=v==="y"?"bottom":"right",D=S+h[_],M=S-h[I];S=yh(D,S,M)}const E=u.fn({...e,[T]:C,[v]:S});return{...E,data:{x:E.x-n,y:E.y-i,enabled:{[T]:o,[v]:s}}}}}},y2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:o,platform:s,elements:u}=e,{apply:d=()=>{},...f}=ga(t,e),h=await Zs(e,f),v=Ki(r),T=xl(r),C=$i(r)==="y",{width:S,height:E}=o.floating;let _,I;v==="top"||v==="bottom"?(_=v,I=T===(await(s.isRTL==null?void 0:s.isRTL(u.floating))?"start":"end")?"left":"right"):(I=v,_=T==="end"?"top":"bottom");const D=E-h.top-h.bottom,M=S-h.left-h.right,P=_i(E-h[_],D),L=_i(S-h[I],M),R=!e.middlewareData.shift;let B=P,q=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(q=M),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(B=D),R&&!T){const j=fn(h.left,0),Z=fn(h.right,0),ne=fn(h.top,0),ae=fn(h.bottom,0);C?q=S-2*(j!==0||Z!==0?j+Z:fn(h.left,h.right)):B=E-2*(ne!==0||ae!==0?ne+ae:fn(h.top,h.bottom))}await d({...e,availableWidth:q,availableHeight:B});const $=await s.getDimensions(u.floating);return S!==$.width||E!==$.height?{reset:{rects:!0}}:{}}}};function jd(){return typeof window<"u"}function bl(t){return XC(t)?(t.nodeName||"").toLowerCase():"#document"}function Zn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function er(t){var e;return(e=(XC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function XC(t){return jd()?t instanceof Node||t instanceof Zn(t).Node:!1}function Ni(t){return jd()?t instanceof Element||t instanceof Zn(t).Element:!1}function Xi(t){return jd()?t instanceof HTMLElement||t instanceof Zn(t).HTMLElement:!1}function T1(t){return!jd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zn(t).ShadowRoot}function uu(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=Ii(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function v2(t){return["table","td","th"].includes(bl(t))}function zd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function bg(t){const e=Tg(),n=Ni(t)?Ii(t):t;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function x2(t){let e=ca(t);for(;Xi(e)&&!fl(e);){if(bg(e))return e;if(zd(e))return null;e=ca(e)}return null}function Tg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fl(t){return["html","body","#document"].includes(bl(t))}function Ii(t){return Zn(t).getComputedStyle(t)}function Vd(t){return Ni(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ca(t){if(bl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||T1(t)&&t.host||er(t);return T1(e)?e.host:e}function JC(t){const e=ca(t);return fl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xi(e)&&uu(e)?e:JC(e)}function Ks(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=JC(t),o=r===((i=t.ownerDocument)==null?void 0:i.body),s=Zn(r);if(o){const u=xh(s);return e.concat(s,s.visualViewport||[],uu(r)?r:[],u&&n?Ks(u):[])}return e.concat(r,Ks(r,[],n))}function xh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function QC(t){const e=Ii(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Xi(t),o=r?t.offsetWidth:n,s=r?t.offsetHeight:i,u=sd(n)!==o||sd(i)!==s;return u&&(n=o,i=s),{width:n,height:i,$:u}}function Cg(t){return Ni(t)?t:t.contextElement}function ol(t){const e=Cg(t);if(!Xi(e))return qi(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:o}=QC(e);let s=(o?sd(n.width):n.width)/i,u=(o?sd(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const b2=qi(0);function eS(t){const e=Zn(t);return!Tg()||!e.visualViewport?b2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function T2(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zn(t)?!1:e}function qa(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=Cg(t);let s=qi(1);e&&(i?Ni(i)&&(s=ol(i)):s=ol(t));const u=T2(o,n,i)?eS(o):qi(0);let d=(r.left+u.x)/s.x,f=(r.top+u.y)/s.y,h=r.width/s.x,v=r.height/s.y;if(o){const T=Zn(o),C=i&&Ni(i)?Zn(i):i;let S=T,E=xh(S);for(;E&&i&&C!==S;){const _=ol(E),I=E.getBoundingClientRect(),D=Ii(E),M=I.left+(E.clientLeft+parseFloat(D.paddingLeft))*_.x,P=I.top+(E.clientTop+parseFloat(D.paddingTop))*_.y;d*=_.x,f*=_.y,h*=_.x,v*=_.y,d+=M,f+=P,S=Zn(E),E=xh(S)}}return dl({width:h,height:v,x:d,y:f})}function Sg(t,e){const n=Vd(t).scrollLeft;return e?e.left+n:qa(er(t)).left+n}function tS(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=i.left+e.scrollLeft-(n?0:Sg(t,i)),o=i.top+e.scrollTop;return{x:r,y:o}}function C2(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const o=r==="fixed",s=er(i),u=e?zd(e.floating):!1;if(i===s||u&&o)return n;let d={scrollLeft:0,scrollTop:0},f=qi(1);const h=qi(0),v=Xi(i);if((v||!v&&!o)&&((bl(i)!=="body"||uu(s))&&(d=Vd(i)),Xi(i))){const C=qa(i);f=ol(i),h.x=C.x+i.clientLeft,h.y=C.y+i.clientTop}const T=s&&!v&&!o?tS(s,d,!0):qi(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+h.x+T.x,y:n.y*f.y-d.scrollTop*f.y+h.y+T.y}}function S2(t){return Array.from(t.getClientRects())}function E2(t){const e=er(t),n=Vd(t),i=t.ownerDocument.body,r=fn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=fn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+Sg(t);const u=-n.scrollTop;return Ii(i).direction==="rtl"&&(s+=fn(e.clientWidth,i.clientWidth)-r),{width:r,height:o,x:s,y:u}}function w2(t,e){const n=Zn(t),i=er(t),r=n.visualViewport;let o=i.clientWidth,s=i.clientHeight,u=0,d=0;if(r){o=r.width,s=r.height;const f=Tg();(!f||f&&e==="fixed")&&(u=r.offsetLeft,d=r.offsetTop)}return{width:o,height:s,x:u,y:d}}function A2(t,e){const n=qa(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,o=Xi(t)?ol(t):qi(1),s=t.clientWidth*o.x,u=t.clientHeight*o.y,d=r*o.x,f=i*o.y;return{width:s,height:u,x:d,y:f}}function C1(t,e,n){let i;if(e==="viewport")i=w2(t,n);else if(e==="document")i=E2(er(t));else if(Ni(e))i=A2(e,n);else{const r=eS(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return dl(i)}function nS(t,e){const n=ca(t);return n===e||!Ni(n)||fl(n)?!1:Ii(n).position==="fixed"||nS(n,e)}function _2(t,e){const n=e.get(t);if(n)return n;let i=Ks(t,[],!1).filter(u=>Ni(u)&&bl(u)!=="body"),r=null;const o=Ii(t).position==="fixed";let s=o?ca(t):t;for(;Ni(s)&&!fl(s);){const u=Ii(s),d=bg(s);!d&&u.position==="fixed"&&(r=null),(o?!d&&!r:!d&&u.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||uu(s)&&!d&&nS(t,s))?i=i.filter(h=>h!==s):r=u,s=ca(s)}return e.set(t,i),i}function N2(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const s=[...n==="clippingAncestors"?zd(e)?[]:_2(e,this._c):[].concat(n),i],u=s[0],d=s.reduce((f,h)=>{const v=C1(e,h,r);return f.top=fn(v.top,f.top),f.right=_i(v.right,f.right),f.bottom=_i(v.bottom,f.bottom),f.left=fn(v.left,f.left),f},C1(e,u,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function I2(t){const{width:e,height:n}=QC(t);return{width:e,height:n}}function D2(t,e,n){const i=Xi(e),r=er(e),o=n==="fixed",s=qa(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const d=qi(0);function f(){d.x=Sg(r)}if(i||!i&&!o)if((bl(e)!=="body"||uu(r))&&(u=Vd(e)),i){const C=qa(e,!0,o,e);d.x=C.x+e.clientLeft,d.y=C.y+e.clientTop}else r&&f();o&&!i&&r&&f();const h=r&&!i&&!o?tS(r,u):qi(0),v=s.left+u.scrollLeft-d.x-h.x,T=s.top+u.scrollTop-d.y-h.y;return{x:v,y:T,width:s.width,height:s.height}}function Np(t){return Ii(t).position==="static"}function S1(t,e){if(!Xi(t)||Ii(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return er(t)===n&&(n=n.ownerDocument.body),n}function iS(t,e){const n=Zn(t);if(zd(t))return n;if(!Xi(t)){let r=ca(t);for(;r&&!fl(r);){if(Ni(r)&&!Np(r))return r;r=ca(r)}return n}let i=S1(t,e);for(;i&&v2(i)&&Np(i);)i=S1(i,e);return i&&fl(i)&&Np(i)&&!bg(i)?n:i||x2(t)||n}const k2=async function(t){const e=this.getOffsetParent||iS,n=this.getDimensions,i=await n(t.floating);return{reference:D2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function M2(t){return Ii(t).direction==="rtl"}const R2={convertOffsetParentRelativeRectToViewportRelativeRect:C2,getDocumentElement:er,getClippingRect:N2,getOffsetParent:iS,getElementRects:k2,getClientRects:S2,getDimensions:I2,getScale:ol,isElement:Ni,isRTL:M2};function rS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function L2(t,e){let n=null,i;const r=er(t);function o(){var u;clearTimeout(i),(u=n)==null||u.disconnect(),n=null}function s(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const f=t.getBoundingClientRect(),{left:h,top:v,width:T,height:C}=f;if(u||e(),!T||!C)return;const S=Lc(v),E=Lc(r.clientWidth-(h+T)),_=Lc(r.clientHeight-(v+C)),I=Lc(h),M={rootMargin:-S+"px "+-E+"px "+-_+"px "+-I+"px",threshold:fn(0,_i(1,d))||1};let P=!0;function L(R){const B=R[0].intersectionRatio;if(B!==d){if(!P)return s();B?s(!1,B):i=setTimeout(()=>{s(!1,1e-7)},1e3)}B===1&&!rS(f,t.getBoundingClientRect())&&s(),P=!1}try{n=new IntersectionObserver(L,{...M,root:r.ownerDocument})}catch{n=new IntersectionObserver(L,M)}n.observe(t)}return s(!0),o}function Fd(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,f=Cg(t),h=r||o?[...f?Ks(f):[],...Ks(e)]:[];h.forEach(I=>{r&&I.addEventListener("scroll",n,{passive:!0}),o&&I.addEventListener("resize",n)});const v=f&&u?L2(f,n):null;let T=-1,C=null;s&&(C=new ResizeObserver(I=>{let[D]=I;D&&D.target===f&&C&&(C.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var M;(M=C)==null||M.observe(e)})),n()}),f&&!d&&C.observe(f),C.observe(e));let S,E=d?qa(t):null;d&&_();function _(){const I=qa(t);E&&!rS(E,I)&&n(),E=I,S=requestAnimationFrame(_)}return n(),()=>{var I;h.forEach(D=>{r&&D.removeEventListener("scroll",n),o&&D.removeEventListener("resize",n)}),v==null||v(),(I=C)==null||I.disconnect(),C=null,d&&cancelAnimationFrame(S)}}const O2=h2,P2=g2,U2=c2,j2=y2,z2=d2,E1=u2,V2=m2,F2=(t,e,n)=>{const i=new Map,r={platform:R2,...n},o={...r.platform,_c:i};return s2(t,e,{...r,platform:o})};var B2=typeof document<"u",$2=function(){},Gc=B2?N.useLayoutEffect:$2;function cd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!cd(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const o=r[i];if(!(o==="_owner"&&t.$$typeof)&&!cd(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function aS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function w1(t,e){const n=aS(t);return Math.round(e*n)/n}function Ip(t){const e=N.useRef(t);return Gc(()=>{e.current=t}),e}function Bd(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:o,floating:s}={},transform:u=!0,whileElementsMounted:d,open:f}=t,[h,v]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[T,C]=N.useState(i);cd(T,i)||C(i);const[S,E]=N.useState(null),[_,I]=N.useState(null),D=N.useCallback(re=>{re!==R.current&&(R.current=re,E(re))},[]),M=N.useCallback(re=>{re!==B.current&&(B.current=re,I(re))},[]),P=o||S,L=s||_,R=N.useRef(null),B=N.useRef(null),q=N.useRef(h),$=d!=null,j=Ip(d),Z=Ip(r),ne=Ip(f),ae=N.useCallback(()=>{if(!R.current||!B.current)return;const re={placement:e,strategy:n,middleware:T};Z.current&&(re.platform=Z.current),F2(R.current,B.current,re).then(de=>{const w={...de,isPositioned:ne.current!==!1};ee.current&&!cd(q.current,w)&&(q.current=w,Ei.flushSync(()=>{v(w)}))})},[T,e,n,Z,ne]);Gc(()=>{f===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,v(re=>({...re,isPositioned:!1})))},[f]);const ee=N.useRef(!1);Gc(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Gc(()=>{if(P&&(R.current=P),L&&(B.current=L),P&&L){if(j.current)return j.current(P,L,ae);ae()}},[P,L,ae,j,$]);const Q=N.useMemo(()=>({reference:R,floating:B,setReference:D,setFloating:M}),[D,M]),z=N.useMemo(()=>({reference:P,floating:L}),[P,L]),G=N.useMemo(()=>{const re={position:n,left:0,top:0};if(!z.floating)return re;const de=w1(z.floating,h.x),w=w1(z.floating,h.y);return u?{...re,transform:"translate("+de+"px, "+w+"px)",...aS(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:de,top:w}},[n,u,z.floating,h.x,h.y]);return N.useMemo(()=>({...h,update:ae,refs:Q,elements:z,floatingStyles:G}),[h,ae,Q,z,G])}const H2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?E1({element:i.current,padding:r}).fn(n):{}:i?E1({element:i,padding:r}).fn(n):{}}}},$d=(t,e)=>({...O2(t),options:[t,e]}),Hd=(t,e)=>({...P2(t),options:[t,e]}),Gd=(t,e)=>({...U2(t),options:[t,e]}),Eg=(t,e)=>({...j2(t),options:[t,e]}),G2=(t,e)=>({...z2(t),options:[t,e]}),q2=(t,e)=>({...V2(t),options:[t,e]}),oS=(t,e)=>({...H2(t),options:[t,e]});function bh(){return bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bh.apply(null,arguments)}function lS(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Th(t,e){return Th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Th(t,e)}function sS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Th(t,e)}function W2(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Y2(t,e){t.classList?t.classList.add(e):W2(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function A1(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Z2(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=A1(t.className,e):t.setAttribute("class",A1(t.className&&t.className.baseVal||"",e))}const _1={disabled:!1},uS=De.createContext(null);var cS=function(e){return e.scrollTop},Ls="unmounted",za="exited",Va="entering",Xo="entered",Ch="exiting",_r=function(t){sS(e,t);function e(i,r){var o;o=t.call(this,i,r)||this;var s=r,u=s&&!s.isMounting?i.enter:i.appear,d;return o.appearStatus=null,i.in?u?(d=za,o.appearStatus=Va):d=Xo:i.unmountOnExit||i.mountOnEnter?d=Ls:d=za,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(r,o){var s=r.in;return s&&o.status===Ls?{status:za}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var o=null;if(r!==this.props){var s=this.state.status;this.props.in?s!==Va&&s!==Xo&&(o=Va):(s===Va||s===Xo)&&(o=Ch)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,o,s,u;return o=s=u=r,r!=null&&typeof r!="number"&&(o=r.exit,s=r.enter,u=r.appear!==void 0?r.appear:s),{exit:o,enter:s,appear:u}},n.updateStatus=function(r,o){if(r===void 0&&(r=!1),o!==null)if(this.cancelNextCallback(),o===Va){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Rc.findDOMNode(this);s&&cS(s)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===za&&this.setState({status:Ls})},n.performEnter=function(r){var o=this,s=this.props.enter,u=this.context?this.context.isMounting:r,d=this.props.nodeRef?[u]:[Rc.findDOMNode(this),u],f=d[0],h=d[1],v=this.getTimeouts(),T=u?v.appear:v.enter;if(!r&&!s||_1.disabled){this.safeSetState({status:Xo},function(){o.props.onEntered(f)});return}this.props.onEnter(f,h),this.safeSetState({status:Va},function(){o.props.onEntering(f,h),o.onTransitionEnd(T,function(){o.safeSetState({status:Xo},function(){o.props.onEntered(f,h)})})})},n.performExit=function(){var r=this,o=this.props.exit,s=this.getTimeouts(),u=this.props.nodeRef?void 0:Rc.findDOMNode(this);if(!o||_1.disabled){this.safeSetState({status:za},function(){r.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Ch},function(){r.props.onExiting(u),r.onTransitionEnd(s.exit,function(){r.safeSetState({status:za},function(){r.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,o){o=this.setNextCallback(o),this.setState(r,o)},n.setNextCallback=function(r){var o=this,s=!0;return this.nextCallback=function(u){s&&(s=!1,o.nextCallback=null,r(u))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(r,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Rc.findDOMNode(this),u=r==null&&!this.props.addEndListener;if(!s||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],f=d[0],h=d[1];this.props.addEndListener(f,h)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===Ls)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=lS(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return De.createElement(uS.Provider,{value:null},typeof s=="function"?s(r,u):De.cloneElement(De.Children.only(s),u))},e}(De.Component);_r.contextType=uS;_r.propTypes={};function qo(){}_r.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qo,onEntering:qo,onEntered:qo,onExit:qo,onExiting:qo,onExited:qo};_r.UNMOUNTED=Ls;_r.EXITED=za;_r.ENTERING=Va;_r.ENTERED=Xo;_r.EXITING=Ch;var K2=function(e,n){return e&&n&&n.split(" ").forEach(function(i){return Y2(e,i)})},Dp=function(e,n){return e&&n&&n.split(" ").forEach(function(i){return Z2(e,i)})},Tl=function(t){sS(e,t);function e(){for(var i,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,i.appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(u,d){var f=i.resolveArguments(u,d),h=f[0],v=f[1];i.removeClasses(h,"exit"),i.addClass(h,v?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(u,d)},i.onEntering=function(u,d){var f=i.resolveArguments(u,d),h=f[0],v=f[1],T=v?"appear":"enter";i.addClass(h,T,"active"),i.props.onEntering&&i.props.onEntering(u,d)},i.onEntered=function(u,d){var f=i.resolveArguments(u,d),h=f[0],v=f[1],T=v?"appear":"enter";i.removeClasses(h,T),i.addClass(h,T,"done"),i.props.onEntered&&i.props.onEntered(u,d)},i.onExit=function(u){var d=i.resolveArguments(u),f=d[0];i.removeClasses(f,"appear"),i.removeClasses(f,"enter"),i.addClass(f,"exit","base"),i.props.onExit&&i.props.onExit(u)},i.onExiting=function(u){var d=i.resolveArguments(u),f=d[0];i.addClass(f,"exit","active"),i.props.onExiting&&i.props.onExiting(u)},i.onExited=function(u){var d=i.resolveArguments(u),f=d[0];i.removeClasses(f,"exit"),i.addClass(f,"exit","done"),i.props.onExited&&i.props.onExited(u)},i.resolveArguments=function(u,d){return i.props.nodeRef?[i.props.nodeRef.current,u]:[u,d]},i.getClassNames=function(u){var d=i.props.classNames,f=typeof d=="string",h=f&&d?d+"-":"",v=f?""+h+u:d[u],T=f?v+"-active":d[u+"Active"],C=f?v+"-done":d[u+"Done"];return{baseClassName:v,activeClassName:T,doneClassName:C}},i}var n=e.prototype;return n.addClass=function(r,o,s){var u=this.getClassNames(o)[s+"ClassName"],d=this.getClassNames("enter"),f=d.doneClassName;o==="appear"&&s==="done"&&f&&(u+=" "+f),s==="active"&&r&&cS(r),u&&(this.appliedClasses[o][s]=u,K2(r,u))},n.removeClasses=function(r,o){var s=this.appliedClasses[o],u=s.base,d=s.active,f=s.done;this.appliedClasses[o]={},u&&Dp(r,u),d&&Dp(r,d),f&&Dp(r,f)},n.render=function(){var r=this.props;r.classNames;var o=lS(r,["classNames"]);return De.createElement(_r,bh({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(De.Component);Tl.defaultProps={classNames:""};Tl.propTypes={};const X2=({openDelay:t,closeDelay:e,isManuallyControlled:n,isManuallyVisible:i,onVisibilityChange:r})=>{const[o,s]=N.useState(!1),u=N.useRef(null),d=N.useRef(null),f=N.useCallback(T=>{s(T),r&&r(T)},[r]),h=N.useCallback(()=>{n||(d.current&&(clearTimeout(d.current),d.current=null),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{f(!0)},t))},[t,f,n]),v=N.useCallback(()=>{n||(u.current&&(clearTimeout(u.current),u.current=null),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{f(!1)},e))},[e,f,n]);return N.useEffect(()=>{n&&(u.current&&clearTimeout(u.current),d.current&&clearTimeout(d.current),f(i))},[i,n,f]),N.useEffect(()=>()=>{u.current&&clearTimeout(u.current),d.current&&clearTimeout(d.current)},[]),{isVisible:o,setVisibility:f,showTooltip:h,hideTooltip:v,openTimeoutRef:u,closeTimeoutRef:d}},J2=({trigger:t,sticky:e,persistent:n,showTooltip:i,hideTooltip:r,setVisibility:o,isVisible:s,openTimeoutRef:u,closeTimeoutRef:d,tooltipRef:f,isManuallyControlled:h,closeDelay:v})=>{const T=N.useCallback(()=>{t==="hover"&&!h&&i()},[t,i,h]),C=N.useCallback(()=>{t==="hover"&&!n&&!h&&(e?(d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{f.current&&!f.current.matches(":hover")&&o(!1)},v+50)):r())},[t,n,e,r,o,f,d,v,h]),S=N.useCallback(()=>{t==="hover"&&e&&!h&&(d.current&&(clearTimeout(d.current),d.current=null),u.current&&(clearTimeout(u.current),u.current=null),s||o(!0))},[t,e,d,u,s,o,h]),E=N.useCallback(()=>{t==="hover"&&e&&!n&&!h&&r()},[t,e,n,r,h]),_=N.useCallback(()=>{t==="click"&&!h&&(s?(u.current&&clearTimeout(u.current),d.current&&clearTimeout(d.current),o(!1)):i())},[t,s,o,i,u,d,h]),I=N.useCallback(()=>{(t==="focus"||t==="hover")&&!h&&i()},[t,i,h]),D=N.useCallback(()=>{if((t==="focus"||t==="hover")&&!n&&!h){if(e&&f.current&&f.current.matches(":hover"))return;r()}},[t,n,e,r,f,h]);return{handleMouseEnterTrigger:T,handleMouseLeaveTrigger:C,handleMouseEnterTooltipContent:S,handleMouseLeaveTooltipContent:E,handleClickTrigger:_,handleFocusTrigger:I,handleBlurTrigger:D}},Q2=({isVisible:t,isCloseOnClickOutsideEnabled:e,triggerRef:n,tooltipRef:i,setVisibility:r,isManuallyControlled:o,openTimeoutRef:s,closeTimeoutRef:u})=>{N.useEffect(()=>{const d=f=>{f.key==="Escape"&&t&&!o&&(s.current&&clearTimeout(s.current),u.current&&clearTimeout(u.current),r(!1))};return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[t,r,o,s,u]),N.useEffect(()=>{const d=f=>{e&&t&&!o&&n.current&&!n.current.contains(f.target)&&i.current&&!i.current.contains(f.target)&&(s.current&&clearTimeout(s.current),u.current&&clearTimeout(u.current),r(!1))};return e&&t&&!o&&document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[t,e,n,i,r,o,s,u])},eI="tooltip-portal-root",qd=(t=eI)=>{const[e,n]=N.useState(null);return N.useEffect(()=>{let i=document.getElementById(t);i||(i=document.createElement("div"),i.setAttribute("id",t),document.body.appendChild(i)),n(i)},[t]),e},tI={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-xs",lg:"px-4 py-2 text-sm",xl:"px-5 py-2.5 text-base"},nI=t=>t==="none"?"":t.startsWith("shadow-")||t.startsWith("drop-shadow-")?t:`shadow-${t}`,iI=(t,e,n,i,r,o,s)=>{const u=tI[t],d=nI(i);return`
    z-[100] rounded-md whitespace-nowrap
    ${u}
    ${e}
    ${n}
    ${d}
    ${r}
    ${s?"overflow-y-auto custom-scrollbar-themed":""}
    ${o}
  `.trim().replace(/\s+/g," ")},dS=t=>({top:"bottom",bottom:"top",left:"right",right:"left"})[t.split("-")[0]]||"bottom",rI=(t,e,n)=>{if(n)return"";switch(e){case"bottom":return`border-t-${t}`;case"top":return`border-b-${t}`;case"right":return`border-l-${t}`;case"left":return`border-r-${t}`;default:return`border-t-${t}`}},fS=(t,e,n)=>n||`absolute w-0 h-0 
     border-l-[6px] border-l-transparent 
     border-r-[6px] border-r-transparent 
     border-t-[6px] border-t-transparent 
     border-b-[6px] border-b-transparent 
     ${rI(t,e,n)}`.trim().replace(/\s+/g," "),aI=(t,e)=>t==="none"?"no-animation":t==="slide-up"&&e.startsWith("bottom")?"slide-down":t==="slide-down"&&e.startsWith("top")?"slide-up":t,ht=({content:t,children:e,position:n="top",trigger:i="hover",openDelay:r=100,closeDelay:o=0,sticky:s=!1,persistent:u=!1,closeOnClickOutside:d,isManuallyVisible:f=!1,onVisibilityChange:h,className:v="",wrapperClassName:T="inline-block",offsetValue:C=8,arrowPadding:S=4,fallbackPlacements:E,shiftPadding:_=8,preferredPlacementForAuto:I="top",size:D="md",animation:M="fade",animationDuration:P=200,shadow:L="lg",backgroundColor:R="bg-slate-700",textColor:B="text-white",arrowBaseColor:q="slate-700",arrowClassName:$="",backdropFilter:j="",maxWidth:Z,minWidth:ne,maxHeight:ae})=>{var ki,nr;const ee=N.useRef(null),Q=N.useRef(null),z=N.useRef(null),G=N.useId(),re=qd(),de=i==="manual",w=d!==void 0?d:i==="click"||u,{isVisible:H,setVisibility:ie,showTooltip:O,hideTooltip:ve,openTimeoutRef:ke,closeTimeoutRef:ye}=X2({openDelay:r,closeDelay:o,isManuallyControlled:de,isManuallyVisible:f,onVisibilityChange:h}),nt=n==="auto"?I:n,{x:pe,y:Ne,strategy:Re,refs:st,middlewareData:Rt,placement:yn}=Bd({placement:nt,middleware:[$d(C),Gd({fallbackPlacements:n==="auto"&&E?E:void 0}),Hd({padding:_}),oS({element:z,padding:S})],whileElementsMounted:Fd});N.useEffect(()=>{ee.current&&st.setFloating(ee.current)},[st,ee,H]);const wt=J2({trigger:i,sticky:s,persistent:u,showTooltip:O,hideTooltip:ve,setVisibility:ie,isVisible:H,openTimeoutRef:ke,closeTimeoutRef:ye,tooltipRef:ee,isManuallyControlled:de,closeDelay:o});Q2({isVisible:H,isCloseOnClickOutsideEnabled:w,triggerRef:Q,tooltipRef:ee,setVisibility:ie,isManuallyControlled:de,openTimeoutRef:ke,closeTimeoutRef:ye});const An=(ki=Rt.arrow)==null?void 0:ki.x,_n=(nr=Rt.arrow)==null?void 0:nr.y,Bt=dS(yn),Dr=iI(D,R,B,L,j,v,ae),gi=fS(q,Bt,$),an=aI(M,yn),jn={position:Re,top:Ne??"",left:pe??"",maxWidth:Z,minWidth:ne,maxHeight:ae},yi=y.jsx(Tl,{in:H&&!!t,nodeRef:ee,timeout:P,classNames:an,unmountOnExit:!0,children:y.jsxs("div",{id:G,ref:ee,role:"tooltip",className:Dr,style:jn,onMouseEnter:wt.handleMouseEnterTooltipContent,onMouseLeave:wt.handleMouseLeaveTooltipContent,children:[t,y.jsx("div",{ref:z,className:gi,style:{left:An!=null?`${An}px`:"",top:_n!=null?`${_n}px`:"",right:"",bottom:"",[Bt]:"-4px"}})]})});return y.jsxs("span",{ref:st.setReference,onMouseEnter:wt.handleMouseEnterTrigger,onMouseLeave:wt.handleMouseLeaveTrigger,onFocus:wt.handleFocusTrigger,onBlur:wt.handleBlurTrigger,onClick:wt.handleClickTrigger,className:`relative ${T}`,tabIndex:(i==="focus"||i==="hover")&&!de?0:void 0,"aria-describedby":H?G:void 0,children:[De.cloneElement(e,{ref:Q}),re&&yi?Ei.createPortal(yi,re):null]})},oI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),lI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})}),sI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),uI=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A2.625 2.625 0 011.5 18.375v-2.25c0-.621.504-1.125 1.125-1.125H3v-.75z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 8.25c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v10.5A2.625 2.625 0 0118.375 21h-2.25a2.625 2.625 0 01-2.625-2.625v-10.5c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V8.25z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 12.75c0-.621.504-1.125 1.125-1.125H12c.621 0 1.125.504 1.125 1.125v8.25c0 .621-.504 1.125-1.125 1.125h-1.5A2.625 2.625 0 017.5 18.375v-2.25c0-.621.504-1.125 1.125-1.125h2.25V12.75z"})]}),cI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),dI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})}),fI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 4.5l7.5 7.5-7.5 7.5m6-15l7.5 7.5-7.5 7.5"})}),mI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})}),pI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),hI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.003 1.11-.952l2.347.196a1.125 1.125 0 011.004 1.341l-.478 3.033a1.125 1.125 0 00.41.976l2.126 1.854a1.125 1.125 0 01.162 1.633l-1.606 2.488a1.125 1.125 0 01-1.785.349l-2.459-1.576a1.125 1.125 0 00-1.332 0l-2.46 1.576a1.125 1.125 0 01-1.785-.35l-1.605-2.487a1.125 1.125 0 01.162-1.634l2.126-1.853a1.125 1.125 0 00.41-.976l-.478-3.033a1.125 1.125 0 011.004-1.34zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z"})}),gI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25A2.25 2.25 0 0113.5 8.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),yI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h3m-3 3h3m-3 3h3M5.25 6h.01M5.25 9h.01M5.25 12h.01M5.25 15h.01M8.25 15h.01M8.25 12h.01M8.25 9h.01M8.25 6h.01M12 15h.01M12 9h.01M12 6h.01M15.75 15h.01M15.75 12h.01M15.75 9h.01M15.75 6h.01M4.75 3.75h14.5A1.25 1.25 0 0120.5 5v14a1.25 1.25 0 01-1.25 1.25H4.75A1.25 1.25 0 013.5 19V5A1.25 1.25 0 014.75 3.75z"})}),vI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),xI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})}),bI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),TI=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),CI=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.575M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21L3 3"})]}),SI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:y.jsx("path",{d:"M12 2.04C6.48 2.04 2 6.52 2 12.04s4.48 10 10 10 10-4.48 10-10S17.52 2.04 12 2.04zm1.01 15.92v-7.11h2.37l.35-2.75h-2.72V9.48c0-.79.22-1.34 1.36-1.34h1.45V5.79c-.25-.03-.84-.08-1.87-.08-1.85 0-3.12 1.13-3.12 3.21v2.03h-2.1v2.75h2.1v7.11h3.17z"})}),EI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10.5 11.25h3M12 15V3.75m0 0l-3.75 3.75M12 3.75l3.75 3.75"})}),wI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25M9 17.25h6M12 14.25h.008v.008H12v-.008zM10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),AI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),_I=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25M9 17.25h6M12 14.25h.008v.008H12v-.008zM10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),NI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),II=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10.5A2.5 2.5 0 015.5 8h13a2.5 2.5 0 010 5h-13A2.5 2.5 0 013 10.5zm0-5A2.5 2.5 0 015.5 3h13a2.5 2.5 0 010 5h-13A2.5 2.5 0 013 5.5zm0 10A2.5 2.5 0 015.5 13h13a2.5 2.5 0 010 5h-13a2.5 2.5 0 01-2.5-2.5zM19.5 3v.01M19.5 8v.01M19.5 13v.01M19.5 18v.01"})}),DI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:y.jsx("path",{d:"M15.25 12.75H12.869V15.5H10.131V12.75H7.75V10.5H10.131V8.5H12.869V10.5H15.25V12.75ZM13.75 5.5H7.75C6.64543 5.5 5.75 6.39543 5.75 7.5V16.5C5.75 17.6046 6.64543 18.5 7.75 18.5H13.75C16.5569 18.5 18.25 16.2688 18.25 13.5C18.25 10.7312 16.5569 8.5 13.75 8.5V5.5ZM13.75 11.5C14.5784 11.5 15.25 12.1716 15.25 13C15.25 13.8284 14.5784 14.5 13.75 14.5H10.75V11.5H13.75Z"})}),kI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:y.jsx("path",{d:"M10 5H14V8H12.688L14.062 16H16V19H12V16H13.312L11.938 8H10V5Z"})}),MI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),RI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C8.13401 2 2 8.13401 2 12C2 15.866 8.13401 22 12 22C15.866 22 22 15.866 22 12C22 8.13401 15.866 2 12 2ZM12 4C9.23858 4 4 9.23858 4 12C4 14.7614 9.23858 20 12 20C14.7614 20 20 14.7614 20 12C20 9.23858 14.7614 4 12 4ZM12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7ZM12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9ZM16.75 6.5C16.75 7.05228 16.3023 7.5 15.75 7.5C15.1977 7.5 14.75 7.05228 14.75 6.5C14.75 5.94772 15.1977 5.5 15.75 5.5C16.3023 5.5 16.75 5.94772 16.75 6.5Z"})}),LI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:y.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),OI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h7.5M8.25 12h7.5m-7.5 5.25h7.5M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 17.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),PI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"})}),UI=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18"})]}),jI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"})}),zI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),VI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.122 2.122l7.81-7.81"})}),FI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9v6m-4.5 0V9M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),BI=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12.75 15.801L9.093 12.144a11.962 11.962 0 01-3.355-3.355L2.086 5.132a2.25 2.25 0 01-.01-3.182l.034-.035A2.25 2.25 0 015.033 2.08l3.656 3.656a1.125 1.125 0 010 1.591L7.338 8.68a11.205 11.205 0 008.632 8.632l1.347-1.348a1.125 1.125 0 011.59 0l3.657 3.656a2.25 2.25 0 01.168 3.173l-.033.034a2.25 2.25 0 01-3.182-.011l-3.653-3.653a1.125 1.125 0 00-1.591 0L12.75 15.8zM12.75 15.801L15.8 12.75"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75L6.75 17.25"})]}),$I=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 6.75Z"})}),HI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",...t,children:y.jsx("path",{d:"M9.828.722a.5.5 0 0 1 .354.146l4.95 4.95a.5.5 0 0 1 0 .707c-.48.48-1.072.588-1.503.588-.177 0-.335-.018-.46-.039l-3.134 3.134a5.927 5.927 0 0 1 .16 1.013c.046.702-.032 1.687-.72 2.375a.5.5 0 0 1-.707 0l-2.829-2.828-3.182 3.182c-.195.195-1.219.902-1.414.707-.195-.195.512-1.22.707-1.414l3.182-3.182-2.828-2.829a.5.5 0 0 1 0-.707c.688-.688 1.673-.767 2.375-.72a5.922 5.922 0 0 1 1.013.16l3.134-3.133a2.772 2.772 0 0 1-.04-.461c0-.43.108-1.022.589-1.503a.5.5 0 0 1 .353-.146"})}),GI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",...t,children:y.jsx("path",{d:"M9.828.722a.5.5 0 0 1 .354.146l4.95 4.95a.5.5 0 0 1 0 .707c-.48.48-1.072.588-1.503.588-.177 0-.335-.018-.46-.039l-3.134 3.134a5.927 5.927 0 0 1 .16 1.013c.046.702-.032 1.687-.72 2.375a.5.5 0 0 1-.707 0l-2.829-2.828-3.182 3.182c-.195.195-1.219.902-1.414.707-.195-.195.512-1.22.707-1.414l3.182-3.182-2.828-2.829a.5.5 0 0 1 0-.707c.688-.688 1.673-.767 2.375-.72a5.922 5.922 0 0 1 1.013.16l3.134-3.133a2.772 2.772 0 0 1-.04-.461c0-.43.108-1.022.589-1.503a.5.5 0 0 1 .353-.146m.122 2.112v-.002.002zm0-.002v.002a.5.5 0 0 1-.122.51L6.293 6.878a.5.5 0 0 1-.51.122A4.92 4.92 0 0 0 4.72 7.495a.5.5 0 0 1-.329.122c-.43.063-.83.178-1.185.385a.5.5 0 0 1-.28.033L1.828 6.472a.5.5 0 0 1 .707-.707l1.264 1.263a.5.5 0 0 1 0 .707L2.537 9.003a.5.5 0 0 1-.707 0L.564 7.736a.5.5 0 0 1 0-.707l3.535-3.536a.5.5 0 0 1 .707 0L6.069 4.757a.5.5 0 0 1 .033-.28c.207-.355.322-.755.385-1.185a.5.5 0 0 1 .122-.329L9.305 1.293a.5.5 0 0 1 .51-.122"})}),qI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),WI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"})}),YI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),ZI=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.003 1.11-.952l2.347.196a1.125 1.125 0 011.004 1.341l-.478 3.033a1.125 1.125 0 00.41.976l2.126 1.854a1.125 1.125 0 01.162 1.633l-1.606 2.488a1.125 1.125 0 01-1.785.349l-2.459-1.576a1.125 1.125 0 00-1.332 0l-2.46 1.576a1.125 1.125 0 01-1.785-.35l-1.605-2.487a1.125 1.125 0 01.162-1.634l2.126-1.853a1.125 1.125 0 00.41-.976l-.478-3.033a1.125 1.125 0 011.004-1.34Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z"})]}),KI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:y.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})}),XI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 7.5l1.406-1.406a1.86 1.86 0 012.632 2.632L19.5 11.25l-1.406 1.406a1.86 1.86 0 01-2.632-2.632L18.25 7.5zM18.25 7.5V6M18.25 7.5H21"})}),mS=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"animate-spin",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v3m0 12v3m9-9h-3M6 12H3m16.5-7.5L16.5 6M7.5 16.5L6 17.25m10.5-10.5L16.5 7.5m-1.5 9l1.5.75M3.75 12a8.25 8.25 0 0016.5 0H3.75z"})}),JI=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),QI=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[y.jsx("path",{d:"M22,3.29L2.61,10.12A1.49,1.49,0,0,0,2,11.51a1.45,1.45,0,0,0,1.13.92l4.88,1.52,1.52,4.88A1.46,1.46,0,0,0,10.9,20a1.49,1.49,0,0,0,1.39-.61L18.88,2.61A1.5,1.5,0,0,0,17.71,2,1.5,1.5,0,0,0,16.71,2.29ZM9.14,16.8l-1-3.23,7.56-6.73a.5.5,0,0,0-.36-.85H15.1a.5.5,0,0,0-.35.15L7.92,13.2,4.69,12.22l14.27-8.1L9.14,16.8Z"}),y.jsx("path",{d:"M9.77,11.72l5.56-4.2-4.2,5.56L9.77,11.72h0Z"})]}),eD=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",fill:"currentColor",...t,children:y.jsx("path",{d:"M22.688 6.505C21.08 5.485 19.336 5 17.531 5V19.99c0 1.953-1.4 3.594-3.344 3.594S10.844 21.942 10.844 19.99V5h4.078c.001 0 .001 0 0 0C14.156 5 13.5 4.344 13.5 3.578V0H5v16.031c0 4.109 3.016 7.453 6.719 7.453s6.719-3.344 6.719-7.453V10.5c2.375.766 4.016 2.016 4.969 4.297.234.547.781.906 1.375.906h2.688c.844 0 1.25-.984.703-1.656Z"})}),tD=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.24.032 3.223.095M7.88 5.79l4.58 4.58m0 0l4.58 4.58m-4.58-4.58L7.88 14.74m5.246-4.58L17.7 5.79M12 5.25a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008A.75.75 0 0112 5.25z"})}),nD=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A18.73 18.73 0 0 1 12 22.5c-2.786 0-5.433-.608-7.499-1.688Z"})}),iD=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.071M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})}),rD=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:y.jsx("path",{d:"M14.47,15.16C14.28,15.46 14,15.66 13.68,15.77C13.25,15.91 12.8,15.82 12.5,15.5L10.33,13.33C10.05,13.05 10.05,12.55 10.33,12.28L11.09,11.5L10.06,10.47L9.28,11.25C9,11.53 8.5,11.53 8.22,11.25L6.15,9.18C5.87,8.9 5.87,8.4 6.15,8.13L6.93,7.35L5.9,6.32L5.13,7.09C4.85,7.37 4.35,7.37 4.07,7.09L2,5C1.72,4.72 1.72,4.22 2,3.95L3.95,2C4.22,1.72 4.72,1.72 5,2L7.07,4.07C7.35,4.35 7.35,4.85 7.07,5.13L6.3,5.9L7.33,6.93L8.11,6.15C8.39,5.87 8.89,5.87 9.17,6.15L11.24,8.22C11.52,8.5 11.52,9 11.24,9.28L10.46,10.06L11.5,11.09L12.28,10.31C12.55,10.03 13.05,10.03 13.33,10.31L15.5,12.5C15.8,12.8 15.89,13.25 15.75,13.68C15.64,14 15.44,14.28 15.14,14.47L14.47,15.16M21.94,18.59L21.16,17.8C20.88,17.53 20.38,17.53 20.1,17.8L18.03,19.87C17.75,20.15 17.25,20.15 16.97,19.87L16.19,19.09L15.16,20.12L15.94,20.9C16.22,21.18 16.72,21.18 17,20.9L19.07,18.83C19.35,18.55 19.35,18.05 19.07,17.77L18.3,17L19.33,15.97L20.1,16.75C20.38,17.03 20.88,17.03 21.16,16.75L23.23,14.68C23.5,14.4 23.5,13.91 23.23,13.63L21.28,11.68C21,11.41 20.5,11.41 20.22,11.68L18.89,13C18.66,13.23 18.66,13.6 18.89,13.83L19.64,14.58C19.79,14.73 20,14.73 20.14,14.58L20.89,13.83C21.04,13.68 21.27,13.68 21.41,13.83L21.94,14.35C22.08,14.5 22.08,14.73 21.94,14.87L21.41,15.4L21.94,15.92C22.08,16.06 22.08,16.3 21.94,16.44L21.41,16.96L21.94,17.49C22.08,17.63 22.08,17.86 21.94,18L21.41,18.52L21.94,19.05C22.2,19.31 22.2,19.77 21.94,20L19.87,22.07C19.59,22.35 19.09,22.35 18.82,22.07L16.75,20C16.47,19.72 16.47,19.22 16.75,18.95L18.16,17.54C18.39,17.31 18.39,16.94 18.16,16.71L17.41,15.96C17.27,15.81 17.04,15.81 16.9,15.96L16.15,16.71C16,16.86 15.77,16.86 15.62,16.71L15.09,16.19C14.95,16.04 14.95,15.81 15.09,15.67L15.62,15.15C14.95,15.81 15.09,15.67L15.62,15.15C14.95,15.81 15.09,15.67L15.62,15.15C14.95,15.81 14.8,15.24 14.47,15.16Z"})}),aD=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14c-2.76 0-5 1.79-5 4h10c0-2.21-2.24-4-5-4Z"})]}),oD=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:y.jsx("path",{d:"M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 13.66 2.59 15.34 3.43 16.81L2.03 21.96L7.35 20.59C8.76 21.36 10.36 21.82 12.04 21.82C17.5 21.82 21.95 17.37 21.95 11.91C21.95 6.45 17.5 2 12.04 2M12.04 3.63C16.56 3.63 20.22 7.3 20.22 11.91C20.22 16.53 16.56 20.19 12.04 20.19C10.52 20.19 9.09002 19.78 7.86002 19.05L7.45002 18.81L4.31002 19.67L5.20002 16.61L4.95002 16.19C4.12002 14.83 3.75002 13.29 3.75002 11.91C3.75002 7.3 7.42002 3.63 12.04 3.63M17.47 15.16C17.26 15.63 16.28 16.14 15.82 16.19C15.36 16.23 14.73 16.24 14.22 16.07C13.71 15.91 13.06 15.63 12.51 15.09C11.53 14.08 10.93 12.87 10.79 12.63C10.64 12.39 9.38999 10.77 9.38999 10.77C9.38999 10.77 9.04999 10.15 9.04999 9.73999C9.04999 9.32999 9.20999 9.16999 9.38999 9.00999C9.56999 8.84999 9.77999 8.78999 9.92999 8.78999C10.08 8.78999 10.22 8.79999 10.34 8.79999C10.46 8.79999 10.62 8.71999 10.79 9.08999C10.96 9.45999 11.45 10.2 11.53 10.31C11.61 10.42 11.66 10.49 11.59 10.61C11.52 10.73 11.48 10.77 11.37 10.88C11.26 10.99 11.16 11.08 11.05 11.17C10.94 11.26 10.82 11.36 10.68 11.48C10.54 11.6 10.37 11.75 10.44 11.94C10.51 12.13 10.96 12.62 11.46 13.06C12.14 13.68 12.68 13.89 12.91 14.01C13.14 14.13 13.33 14.12 13.48 13.97C13.63 13.82 13.93 13.43 14.09 13.2C14.25 12.97 14.45 12.94 14.67 13.01C14.89 13.08 15.86 13.61 16.08 13.72C16.3 13.83 16.44 13.89 16.51 13.97C16.58 14.05 16.58 14.36 16.44 14.49C16.29 14.61 15.75 15.01 17.47 15.16Z"})}),lD=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:y.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),sD=Object.freeze(Object.defineProperty({__proto__:null,AlertTriangleIcon:oI,ArrowUturnLeftIcon:lI,BellIcon:sI,ChartBarIcon:uI,CheckCircleIcon:cI,ChevronDoubleLeftIcon:dI,ChevronDoubleRightIcon:fI,ClipboardDocumentIcon:mI,CloseIcon:pI,CogIcon:hI,DashboardIcon:gI,DialpadIcon:yI,EditIcon:vI,EmailIcon:xI,ErrorCircleIcon:bI,EyeIcon:TI,EyeSlashIcon:CI,FacebookIcon:SI,FileArchiveIcon:EI,FileGenericIcon:wI,FileImageIcon:AI,FilePdfIcon:_I,FileTextIcon:NI,FilterIcon:II,FormatBoldIcon:DI,FormatItalicIcon:kI,InfoIcon:MI,InstagramIcon:RI,LinkedInIcon:LI,ListBulletIcon:OI,MicrophoneIcon:PI,MicrophoneSlashIcon:UI,MinusIcon:jI,PaperAirplaneIcon:zI,PaperclipIcon:VI,PauseCircleIcon:FI,PhoneHangupIcon:BI,PhoneIcon:$I,PinIcon:HI,PinOutlineIcon:GI,PlusIcon:qI,QueueListIcon:WI,SearchIcon:YI,SettingsIcon:ZI,SignalIcon:KI,SparklesIcon:XI,SpinnerIcon:mS,SuccessCircleIcon:JI,TelegramIcon:QI,TikTokIcon:eD,TrashIcon:tD,UserIcon:nD,UsersGroupIcon:iD,ViberIcon:rD,WebsiteIcon:aD,WhatsAppIcon:oD,XIcon:lD},Symbol.toStringTag,{value:"Module"})),uD=t=>{const e=t.replace(/-([a-z])/g,n=>n[1].toUpperCase());return e.charAt(0).toUpperCase()+e.slice(1)},me=({name:t,size:e="md",className:n="","aria-label":i,role:r="img",...o})=>{const u=uD(t)+"Icon",d=sD[u];if(!d)return console.warn(`[Icon Component] Icon "${t}" (expected component: ${u}) not found.`),y.jsx("span",{className:`inline-block w-5 h-5 bg-red-500 rounded-full ${n}`,"aria-label":`Error: Icon ${t} not found`,role:"img"});let f="";if(typeof e=="string")switch(e){case"xs":f="w-3.5 h-3.5";break;case"sm":f="w-4 h-4";break;case"md":f="w-5 h-5";break;case"lg":f="w-6 h-6";break;default:f=e}const h=`${f} ${n}`.trim(),v={fill:o.fill||"none",stroke:o.stroke||"currentColor",strokeWidth:o.strokeWidth||1.5,...o,className:h,role:r,...i?{"aria-label":i}:{}};return["facebook","instagram","x","tikTok","linkedIn","viber","whatsApp","telegram"].includes(t)&&!o.fill&&(v.fill="currentColor"),y.jsx(d,{...v})},N1=t=>{let e;const n=new Set,i=(f,h)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const T=e;e=h??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(C=>C(e,T))}},r=()=>e,u={setState:i,getState:r,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=e=t(i,r,u);return u},cD=t=>t?N1(t):N1,dD=t=>t;function fD(t,e=dD){const n=De.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return De.useDebugValue(n),n}const mD=t=>{const e=cD(t),n=i=>fD(e,i);return Object.assign(n,e),n},no=t=>mD;function Ci(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(r){return"'"+r+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ml(t){return!!t&&!!t[Xn]}function Wa(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var i=Object.getPrototypeOf(n);if(i===null)return!0;var r=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===TD}(t)||Array.isArray(t)||!!t[P1]||!!(!((e=t.constructor)===null||e===void 0)&&e[P1])||wg(t)||Ag(t))}function Xs(t,e,n){n===void 0&&(n=!1),Cl(t)===0?(n?Object.keys:kg)(t).forEach(function(i){n&&typeof i=="symbol"||e(i,t[i],t)}):t.forEach(function(i,r){return e(r,i,t)})}function Cl(t){var e=t[Xn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:wg(t)?2:Ag(t)?3:0}function Sh(t,e){return Cl(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function pD(t,e){return Cl(t)===2?t.get(e):t[e]}function pS(t,e,n){var i=Cl(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function hD(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function wg(t){return xD&&t instanceof Map}function Ag(t){return bD&&t instanceof Set}function Fa(t){return t.o||t.t}function _g(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=CD(t);delete e[Xn];for(var n=kg(e),i=0;i<n.length;i++){var r=n[i],o=e[r];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[r]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[r]})}return Object.create(Object.getPrototypeOf(t),e)}function Ng(t,e){return e===void 0&&(e=!1),Ig(t)||ml(t)||!Wa(t)||(Cl(t)>1&&(t.set=t.add=t.clear=t.delete=gD),Object.freeze(t),e&&Xs(t,function(n,i){return Ng(i,!0)},!0)),t}function gD(){Ci(2)}function Ig(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Wi(t){var e=SD[t];return e||Ci(18,t),e}function I1(){return Js}function kp(t,e){e&&(Wi("Patches"),t.u=[],t.s=[],t.v=e)}function dd(t){Eh(t),t.p.forEach(yD),t.p=null}function Eh(t){t===Js&&(Js=t.l)}function D1(t){return Js={p:[],l:Js,h:t,m:!0,_:0}}function yD(t){var e=t[Xn];e.i===0||e.i===1?e.j():e.g=!0}function Mp(t,e){e._=e.p.length;var n=e.p[0],i=t!==void 0&&t!==n;return e.h.O||Wi("ES5").S(e,t,i),i?(n[Xn].P&&(dd(e),Ci(4)),Wa(t)&&(t=fd(e,t),e.l||md(e,t)),e.u&&Wi("Patches").M(n[Xn].t,t,e.u,e.s)):t=fd(e,n,[]),dd(e),e.u&&e.v(e.u,e.s),t!==hS?t:void 0}function fd(t,e,n){if(Ig(e))return e;var i=e[Xn];if(!i)return Xs(e,function(u,d){return k1(t,i,e,u,d,n)},!0),e;if(i.A!==t)return e;if(!i.P)return md(t,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=i.i===4||i.i===5?i.o=_g(i.k):i.o,o=r,s=!1;i.i===3&&(o=new Set(r),r.clear(),s=!0),Xs(o,function(u,d){return k1(t,i,r,u,d,n,s)}),md(t,r,!1),n&&t.u&&Wi("Patches").N(i,n,t.u,t.s)}return i.o}function k1(t,e,n,i,r,o,s){if(ml(r)){var u=fd(t,r,o&&e&&e.i!==3&&!Sh(e.R,i)?o.concat(i):void 0);if(pS(n,i,u),!ml(u))return;t.m=!1}else s&&n.add(r);if(Wa(r)&&!Ig(r)){if(!t.h.D&&t._<1)return;fd(t,r),e&&e.A.l||md(t,r)}}function md(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Ng(e,n)}function Rp(t,e){var n=t[Xn];return(n?Fa(n):t)[e]}function M1(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function wh(t){t.P||(t.P=!0,t.l&&wh(t.l))}function Lp(t){t.o||(t.o=_g(t.t))}function Ah(t,e,n){var i=wg(e)?Wi("MapSet").F(e,n):Ag(e)?Wi("MapSet").T(e,n):t.O?function(r,o){var s=Array.isArray(r),u={i:s?1:0,A:o?o.A:I1(),P:!1,I:!1,R:{},l:o,t:r,k:null,o:null,j:null,C:!1},d=u,f=_h;s&&(d=[u],f=Os);var h=Proxy.revocable(d,f),v=h.revoke,T=h.proxy;return u.k=T,u.j=v,T}(e,n):Wi("ES5").J(e,n);return(n?n.A:I1()).p.push(i),i}function vD(t){return ml(t)||Ci(22,t),function e(n){if(!Wa(n))return n;var i,r=n[Xn],o=Cl(n);if(r){if(!r.P&&(r.i<4||!Wi("ES5").K(r)))return r.t;r.I=!0,i=R1(n,o),r.I=!1}else i=R1(n,o);return Xs(i,function(s,u){r&&pD(r.t,s)===u||pS(i,s,e(u))}),o===3?new Set(i):i}(t)}function R1(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return _g(t)}var L1,Js,Dg=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",xD=typeof Map<"u",bD=typeof Set<"u",O1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",hS=Dg?Symbol.for("immer-nothing"):((L1={})["immer-nothing"]=!0,L1),P1=Dg?Symbol.for("immer-draftable"):"__$immer_draftable",Xn=Dg?Symbol.for("immer-state"):"__$immer_state",TD=""+Object.prototype.constructor,kg=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,CD=Object.getOwnPropertyDescriptors||function(t){var e={};return kg(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},SD={},_h={get:function(t,e){if(e===Xn)return t;var n=Fa(t);if(!Sh(n,e))return function(r,o,s){var u,d=M1(o,s);return d?"value"in d?d.value:(u=d.get)===null||u===void 0?void 0:u.call(r.k):void 0}(t,n,e);var i=n[e];return t.I||!Wa(i)?i:i===Rp(t.t,e)?(Lp(t),t.o[e]=Ah(t.A.h,i,t)):i},has:function(t,e){return e in Fa(t)},ownKeys:function(t){return Reflect.ownKeys(Fa(t))},set:function(t,e,n){var i=M1(Fa(t),e);if(i!=null&&i.set)return i.set.call(t.k,n),!0;if(!t.P){var r=Rp(Fa(t),e),o=r==null?void 0:r[Xn];if(o&&o.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(hD(n,r)&&(n!==void 0||Sh(t.t,e)))return!0;Lp(t),wh(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Rp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Lp(t),wh(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Fa(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty:function(){Ci(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Ci(12)}},Os={};Xs(_h,function(t,e){Os[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Os.deleteProperty=function(t,e){return Os.set.call(this,t,e,void 0)},Os.set=function(t,e,n){return _h.set.call(this,t[0],e,n,t[0])};var ED=function(){function t(n){var i=this;this.O=O1,this.D=!0,this.produce=function(r,o,s){if(typeof r=="function"&&typeof o!="function"){var u=o;o=r;var d=i;return function(E){var _=this;E===void 0&&(E=u);for(var I=arguments.length,D=Array(I>1?I-1:0),M=1;M<I;M++)D[M-1]=arguments[M];return d.produce(E,function(P){var L;return(L=o).call.apply(L,[_,P].concat(D))})}}var f;if(typeof o!="function"&&Ci(6),s!==void 0&&typeof s!="function"&&Ci(7),Wa(r)){var h=D1(i),v=Ah(i,r,void 0),T=!0;try{f=o(v),T=!1}finally{T?dd(h):Eh(h)}return typeof Promise<"u"&&f instanceof Promise?f.then(function(E){return kp(h,s),Mp(E,h)},function(E){throw dd(h),E}):(kp(h,s),Mp(f,h))}if(!r||typeof r!="object"){if((f=o(r))===void 0&&(f=r),f===hS&&(f=void 0),i.D&&Ng(f,!0),s){var C=[],S=[];Wi("Patches").M(r,f,C,S),s(C,S)}return f}Ci(21,r)},this.produceWithPatches=function(r,o){if(typeof r=="function")return function(f){for(var h=arguments.length,v=Array(h>1?h-1:0),T=1;T<h;T++)v[T-1]=arguments[T];return i.produceWithPatches(f,function(C){return r.apply(void 0,[C].concat(v))})};var s,u,d=i.produce(r,o,function(f,h){s=f,u=h});return typeof Promise<"u"&&d instanceof Promise?d.then(function(f){return[f,s,u]}):[d,s,u]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Wa(n)||Ci(8),ml(n)&&(n=vD(n));var i=D1(this),r=Ah(this,n,void 0);return r[Xn].C=!0,Eh(i),r},e.finishDraft=function(n,i){var r=n&&n[Xn],o=r.A;return kp(o,i),Mp(void 0,o)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!O1&&Ci(20),this.O=n},e.applyPatches=function(n,i){var r;for(r=i.length-1;r>=0;r--){var o=i[r];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}r>-1&&(i=i.slice(r+1));var s=Wi("Patches").$;return ml(n)?s(n,i):this.produce(n,function(u){return s(u,i)})},t}(),Jn=new ED,wD=Jn.produce;Jn.produceWithPatches.bind(Jn);Jn.setAutoFreeze.bind(Jn);Jn.setUseProxies.bind(Jn);Jn.applyPatches.bind(Jn);Jn.createDraft.bind(Jn);Jn.finishDraft.bind(Jn);const AD=t=>(e,n,i)=>(i.setState=(r,o,...s)=>{const u=typeof r=="function"?wD(r):r;return e(u,o,...s)},t(i.setState,n,i)),io=AD,Ce=()=>Date.now().toString(36)+Math.random().toString(36).substring(2),et={ADMIN:"admin",MANAGER:"manager",EMPLOYEE:"employee",LAND_OWNER:"landOwner",BUYER:"buyer",SUPPLIER:"supplier",CONSULTANT:"consultant",CUSTOMER:"customer",PARTNER:"partner",EXTERNAL_VENDOR:"externalVendor",OBSERVER:"observer",NEW_CUSTOMER_TAG:"new_customer_tag"},Jt=[{id:"user-001",username:"yannis.p",displayName:"Γιάννης Παπαδόπουλος",avatarUrl:"https://picsum.photos/seed/yannis/40",roles:[et.EMPLOYEE,et.CONSULTANT]},{id:"user-002",username:"maria.k",displayName:"Μαρία Καλογεροπούλου",avatarUrl:"https://picsum.photos/seed/maria_k/40",roles:[et.MANAGER,et.BUYER]},{id:"user-003",username:"costas.g",displayName:"Κώστας Γεωργίου",roles:[et.EMPLOYEE]},{id:"user-004",username:"eleni.v",displayName:"Ελένη Βασιλείου",avatarUrl:"https://picsum.photos/seed/eleni/40",roles:[et.SUPPLIER,et.CUSTOMER]},{id:"user-005",username:"system_bot",displayName:"System Bot",roles:[et.OBSERVER]},{id:"admin-001",username:"admin_user",displayName:"Administrator",avatarUrl:"https://picsum.photos/seed/admin_user/40",roles:[et.ADMIN]},{id:"user-006",username:"nikos.a",displayName:"Νίκος Αλεξίου",avatarUrl:"https://picsum.photos/seed/nikos/40",roles:[et.EXTERNAL_VENDOR,et.PARTNER]},{id:"user-007",username:"sofia.d",displayName:"Σοφία Δημητρίου",roles:[et.LAND_OWNER]},{id:"admin_system",username:"admin_system",displayName:"System Admin (Workflow)",avatarUrl:"https://picsum.photos/seed/sysadmin/40",roles:[et.ADMIN,et.OBSERVER]},{id:"user-008-viewer",username:"viewer.only",displayName:"Read Only User",roles:[et.OBSERVER]},{id:"user-009-basic",username:"basic.employee",displayName:"Basic Employee",avatarUrl:"https://picsum.photos/seed/basic_emp/40",roles:[et.EMPLOYEE]}],gS=new Date().toISOString(),yS=new Date(Date.now()-5*60*1e3).toISOString(),qc=new Date(Date.now()-30*60*1e3).toISOString(),Nh=new Date(Date.now()-1*60*60*1e3).toISOString(),Ih=new Date(Date.now()-2*60*60*1e3).toISOString(),js=new Date(Date.now()-1*24*60*60*1e3).toISOString(),U1=new Date(Date.now()-2*24*60*60*1e3).toISOString(),j1=new Date(Date.now()-3*24*60*60*1e3).toISOString(),_D=new Date(Date.now()-4*24*60*60*1e3).toISOString(),z1=new Date(Date.now()-5*24*60*60*1e3).toISOString(),V1=new Date(Date.now()-7*24*60*60*1e3).toISOString(),Sl=(t,e,n)=>{const i=Jt.find(r=>r.username===t);return i?{userId:i.id,displayName:i.displayName,avatarUrl:i.avatarUrl}:{userId:`fallback-${n}-${Ce().slice(0,5)}`,displayName:e,avatarUrl:void 0}},F1=Sl("system_bot","System Bot","system"),B1=Sl("yannis.p","Γιάννης Π.","yannis"),Op=Sl("admin_user","Admin User","admin"),$1=Sl("maria.k","Μαρία Κ.","maria"),H1=Sl("nikos.a","Νίκος Α.","nikos"),ND=Sl("sofia.d","Σοφία Δ.","sofia"),ID=[{id:"1",contactType:"naturalPerson",basicIdentity:{firstName:"Μαρία",lastName:"Παπαδοπούλου",nickname:"Μαίρη"},email:"maria.papadopoulou@example.gr",contactPhoneNumbers:[{id:Ce(),number:"2101234567",type:"landline",isPrimary:!0,protocols:["voice"],label:"Σταθερό Οικίας"}],avatarUrl:"https://picsum.photos/seed/maria/200",roles:["buyer","consultant"],createdAt:j1,updatedAt:qc},{id:"2",contactType:"legalEntity",name:"ΤΕΧΝΙΚΗ ΚΑΤΑΣΚΕΥΑΣΤΙΚΗ Α.Ε.",brandName:"TEXNIKH A.E.",email:"info@texnikh-ae.gr",contactPhoneNumbers:[{id:Ce(),number:"2109876543",type:"workLandline",isPrimary:!0,protocols:["voice"],label:"Κεντρικά Γραφεία"}],avatarUrl:"https://picsum.photos/seed/texnikh/200",roles:["supplier","landOwner"],taxInfo:{afm:"098765432",doy:"ΦΑΕ ΑΘΗΝΩΝ"},createdAt:z1,updatedAt:js},{id:"3",contactType:"naturalPerson",basicIdentity:{firstName:"Γιώργος",lastName:"Ιωάννου"},email:"g.ioannou@example.com",contactPhoneNumbers:[{id:Ce(),number:"6971234567",type:"mobile",isPrimary:!0,protocols:["voice","sms","whatsapp"],label:"Κινητό"},{id:Ce(),number:"2105551234",type:"workLandline",protocols:["voice"],label:"Γραφείο"}],roles:["employee"],professionalInfo:{companyName:"Μεγάλη Εταιρεία Συμβούλων",jobTitle:"Πωλήσεις",profession:"Σύμβουλος Πωλήσεων"},addresses:[{id:Ce(),street:"Λεωφόρος Κηφισίας",number:"120",city:"Αθήνα",postalCode:"11526",country:"ΕΛΛΑΔΑ",addressType:"work",isPrimary:!0}],createdAt:js,updatedAt:Nh},{id:"4",contactType:"publicService",name:"Πολεοδομία Αθηνών",serviceType:"Πολεοδομικός Σχεδιασμός",directorate:"Διεύθυνση Πολεοδομίας",email:"poleodomia@cityofathens.gr",contactPhoneNumbers:[{id:Ce(),number:"2105277000",type:"workLandline",isPrimary:!0,protocols:["voice"]}],avatarUrl:"https://picsum.photos/seed/poleodomia/200",roles:["other"],addresses:[{id:Ce(),street:"Αθηνάς",number:"63",city:"Αθήνα",postalCode:"10552",country:"ΕΛΛΑΔΑ",addressType:"work",isPrimary:!0}],createdAt:gS,updatedAt:yS},{id:"5",contactType:"legalEntity",name:"ΕΛΤΑ Courier Κεντρικά",companyType:"Ταχυμεταφορές",email:"support@elta-courier.gr",contactPhoneNumbers:[{id:Ce(),number:"11120",type:"workLandline",isPrimary:!0,protocols:["voice"],label:"Εξυπηρέτηση Πελατών"}],roles:["supplier"],createdAt:_D,updatedAt:Ih},{id:"6",contactType:"naturalPerson",basicIdentity:{firstName:"Ελένη",lastName:"Νικολάου"},email:"eleni.nik@example.net",contactPhoneNumbers:[{id:Ce(),number:"6988765432",type:"mobile",isPrimary:!0,protocols:["voice","viber"],label:"Προσωπικό Κινητό"}],roles:["customer","consultant"],createdAt:V1,updatedAt:V1},{id:"7",contactType:"legalEntity",name:'Νομική Υπηρεσία "ΔΙΚΑΙΟΝ"',companyType:"Δικηγορικό Γραφείο",email:"info@dikaion.law",roles:["consultant"],createdAt:U1,updatedAt:U1,avatarUrl:"https://picsum.photos/seed/dikaion/200"},{id:"8",contactType:"naturalPerson",basicIdentity:{firstName:"Δημήτρης",lastName:"Αντωνίου"},email:"dimitris.a@webmail.com",roles:["admin","employee"],professionalInfo:{jobTitle:"System Administrator"},createdAt:z1,updatedAt:j1}],DD=[{id:Ce(),entityType:"contact",entityId:"1",author:F1,content:"Ενδιαφέρεται για νέα ακίνητα στην Αττική. Έγινε επικοινωνία 10/10. Αναμένεται follow-up. Πολύ σημαντική επαφή, πιθανόν για μεγάλη επένδυση. Χρειάζεται προσοχή και άμεση εξυπηρέτηση. Urgent: Να ελεγχθεί η διαθεσιμότητα των ακινήτων που συζητήθηκαν.",createdAt:new Date(Date.now()-2*864e5).toISOString(),updatedAt:new Date(Date.now()-2*864e5).toISOString(),visibility:"team",pinned:!0,type:"general",tags:["ενδιαφέρον","ακίνητα_αττική","επένδυση"]},{id:Ce(),entityType:"contact",entityId:"1",author:B1,content:"Προγραμματίστηκε συνάντηση για την επόμενη εβδομάδα. Συζητήθηκαν οι προτιμήσεις της για διαμερίσματα 2 υπνοδωματίων. @maria.k μπορείς να ετοιμάσεις τις σχετικές παρουσιάσεις;",createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:qc,visibility:"private",pinned:!1,type:"meeting",tags:["follow-up","συνάντηση"],mentionedUserIds:[$1.userId]},{id:Ce(),entityType:"contact",entityId:"2",author:Op,content:"Κύριος προμηθευτής δομικών υλικών και εξοπλισμού. Πολύ καλή συνεργασία. Επίκειται ανανέωση συμβολαίου. Critical: Να μην ξεχαστεί η ημερομηνία λήξης!",createdAt:new Date(Date.now()-5*864e5).toISOString(),updatedAt:js,visibility:"team",pinned:!0,type:"general",tags:["προμηθευτής","υλικά","συμβόλαιο"]},{id:Ce(),entityType:"contact",entityId:"4",author:F1,content:"Κατατέθηκε αίτηση για άδεια ΧΧΧΧΧ. Αναμονή απάντησης. Ο @admin_user παρακολουθεί την εξέλιξη.",createdAt:gS,updatedAt:yS,visibility:"team",pinned:!1,type:"internal_comment",tags:["πολεοδομία","άδεια"],mentionedUserIds:[Op.userId]},{id:Ce(),entityType:"contact",entityId:"3",author:$1,content:'Τηλεφωνική επικοινωνία με τον Γιώργο. Συζητήσαμε τις λεπτομέρειες του project "Alpha". Φάνηκε θετικός και πρόθυμος να βοηθήσει. Είπε ότι θα στείλει τα σχετικά έγγραφα μέχρι αύριο. Θα κάνω follow-up το απόγευμα της Παρασκευής αν δεν έχω νέα.',createdAt:Ih,updatedAt:Ih,visibility:"team",pinned:!1,type:"call_log",tags:["project_alpha","follow_up_needed"]},{id:Ce(),entityType:"contact",entityId:"5",author:H1,content:'Επικοινωνία με ΕΛΤΑ για καθυστέρηση αποστολής. Critical: Το δέμα για την επαφή "ΤΕΧΝΙΚΗ ΚΑΤΑΣΚΕΥΑΣΤΙΚΗ Α.Ε." έπρεπε να έχει παραδοθεί χθες. Είπαν θα το ελέγξουν. @yannis.p ενημέρωσε τον πελάτη.',createdAt:Nh,updatedAt:Nh,visibility:"team",pinned:!0,type:"general",tags:["καθυστέρηση","ΕΛΤΑ","urgent"],mentionedUserIds:[B1.userId]},{id:Ce(),entityType:"contact",entityId:"6",author:ND,content:"Συνάντηση με την κα. Νικολάου για τις επενδυτικές της προτάσεις. Έδειξε ενδιαφέρον για ακίνητα στην Κρήτη. Θα της στείλω περισσότερες πληροφορίες. Η συζήτηση ήταν πολύ εποικοδομητική και φάνηκε να κατανοεί πλήρως τις ευκαιρίες που παρουσιάζονται. Ζήτησε επίσης πληροφορίες για τις νομικές διαδικασίες, οπότε θα πρέπει να συντονιστώ με το νομικό τμήμα. Αυτό το κείμενο είναι αρκετά μεγάλο για να δοκιμάσει τη λειτουργία σύνοψης AI.",createdAt:js,updatedAt:js,visibility:"team",pinned:!1,type:"meeting",tags:["επένδυση","Κρήτη","follow_up"]},{id:Ce(),entityType:"contact",entityId:"7",author:Op,content:'Τηλεφωνική κλήση με Νομική Υπηρεσία "ΔΙΚΑΙΟΝ". Συζητήθηκαν τα νομικά ζητήματα για το έργο "Omega". Όλα φαίνονται να προχωρούν ομαλά. Παραμένει η εκκρεμότητα της υπογραφής του συμφωνητικού Χ. @nikos.a έχεις εικόνα πότε θα γίνει αυτό;',createdAt:qc,updatedAt:qc,visibility:"team",pinned:!1,type:"call_log",tags:["νομικά","project_omega"],mentionedUserIds:[H1.userId]}],kt=no()(io(t=>({contacts:ID.map(e=>{const{notes:n,...i}=e;return{...i,notes:[]}}),setContacts:e=>t(n=>{n.contacts=e.map(i=>{const{notes:r,...o}=i;return{...o,notes:[]}})}),addContact:e=>t(n=>{const{notes:i,...r}=e;n.contacts.push({...r,notes:[]})}),updateContact:e=>t(n=>{const i=n.contacts.findIndex(r=>r.id===e.id);if(i!==-1){const{notes:r,...o}=e;n.contacts[i]={...o,notes:[]}}else console.warn(`[contactsStore] Contact with id ${e.id} not found for update.`)}),deleteContact:e=>t(n=>{n.contacts=n.contacts.filter(i=>i.id!==e)}),addRoleToContact:(e,n)=>t(i=>{const r=i.contacts.findIndex(o=>o.id===e);if(r!==-1){const o=i.contacts[r];o.roles.includes(n)||(o.roles=[...o.roles,n])}else console.warn(`[contactsStore] Contact with id ${e} not found for adding role.`)})}))),kD={activeView:"crmOverview",isSidebarCollapsed:!1,selectedContactId:null,currentFormMode:null,isDeleteConfirmationModalOpen:!1,contactIdToDelete:null,globalSearchTerm:"",isGlobalSearchFocused:!1,globalSearchResults:null,isModalAlertOpen:!1,modalAlertConfig:null,elementToFocusOnModalClose:null,isAiDraftEmailModalOpen:!1,aiDraftEmailContent:null,aiDraftEmailContactName:"",aiDraftEmailContactEmail:void 0,aiDraftEmailIsLoading:!1,aiDraftEmailError:null,isActivityModalOpen:!1,activityModalContext:null,isDocumentUploadModalOpen:!1,documentUploadModalContext:null},Te=no()(io((t,e)=>({...kD,setActiveView:n=>t(i=>{i.activeView=n}),toggleSidebar:()=>t(n=>{n.isSidebarCollapsed=!n.isSidebarCollapsed}),setSelectedContactId:n=>t(i=>{i.selectedContactId=n,n===null&&(i.currentFormMode=null)}),setCurrentFormMode:n=>t(i=>{i.currentFormMode=n}),openDeleteConfirmationModal:n=>t(i=>{i.elementToFocusOnModalClose=document.activeElement,i.isDeleteConfirmationModalOpen=!0,i.contactIdToDelete=n}),closeDeleteConfirmationModal:()=>t(n=>{var i,r;n.isDeleteConfirmationModalOpen=!1,n.contactIdToDelete=null,(r=(i=n.elementToFocusOnModalClose)==null?void 0:i.focus)==null||r.call(i),n.elementToFocusOnModalClose=null}),setGlobalSearchTerm:n=>t(i=>{i.globalSearchTerm=n}),setIsGlobalSearchFocused:n=>t(i=>{i.isGlobalSearchFocused=n,!n&&!e().globalSearchTerm.trim()&&(i.globalSearchResults=null)}),setGlobalSearchResults:n=>t(i=>{i.globalSearchResults=n}),clearGlobalSearch:()=>t(n=>{n.globalSearchTerm="",n.globalSearchResults=null}),openModalAlert:n=>t(i=>{i.elementToFocusOnModalClose=document.activeElement,i.isModalAlertOpen=!0,i.modalAlertConfig=n}),closeModalAlert:()=>t(n=>{var i,r;n.isModalAlertOpen=!1,(r=(i=n.elementToFocusOnModalClose)==null?void 0:i.focus)==null||r.call(i),n.elementToFocusOnModalClose=null}),resetUIStateForViewChange:n=>t(i=>{if(i.selectedContactId=null,i.currentFormMode=null,i.isDeleteConfirmationModalOpen=!1,i.contactIdToDelete=null,n==="contacts"){const r=kt.getState().contacts;r.length>0&&(i.selectedContactId=r[0].id)}}),openAiDraftEmailModal:n=>t(i=>{i.elementToFocusOnModalClose=document.activeElement,i.isAiDraftEmailModalOpen=!0,i.aiDraftEmailContactName=n.contactName,i.aiDraftEmailContactEmail=n.contactEmail,n.isLoading?(i.aiDraftEmailIsLoading=!0,i.aiDraftEmailContent=null,i.aiDraftEmailError=null):n.error?(i.aiDraftEmailError=n.error,i.aiDraftEmailIsLoading=!1,i.aiDraftEmailContent=null):n.content!==void 0?(i.aiDraftEmailContent=n.content,i.aiDraftEmailIsLoading=!1,i.aiDraftEmailError=null):(i.aiDraftEmailIsLoading=!1,i.aiDraftEmailContent=null,i.aiDraftEmailError=null)}),closeAiDraftEmailModal:()=>t(n=>{var i,r;n.isAiDraftEmailModalOpen=!1,n.aiDraftEmailContent=null,n.aiDraftEmailContactName="",n.aiDraftEmailContactEmail=void 0,n.aiDraftEmailIsLoading=!1,n.aiDraftEmailError=null,(r=(i=n.elementToFocusOnModalClose)==null?void 0:i.focus)==null||r.call(i),n.elementToFocusOnModalClose=null}),openActivityModal:n=>t(i=>{i.elementToFocusOnModalClose=document.activeElement,i.isActivityModalOpen=!0,i.activityModalContext=n||null}),closeActivityModal:()=>t(n=>{var i,r;n.isActivityModalOpen=!1,n.activityModalContext=null,(r=(i=n.elementToFocusOnModalClose)==null?void 0:i.focus)==null||r.call(i),n.elementToFocusOnModalClose=null}),openDocumentUploadModal:n=>t(i=>{i.elementToFocusOnModalClose=document.activeElement,i.isDocumentUploadModalOpen=!0,i.documentUploadModalContext=n}),closeDocumentUploadModal:()=>t(n=>{var i,r;n.isDocumentUploadModalOpen=!1,n.documentUploadModalContext=null,(r=(i=n.elementToFocusOnModalClose)==null?void 0:i.focus)==null||r.call(i),n.elementToFocusOnModalClose=null})}))),MD=({id:t,icon:e,label:n,isActive:i,isCollapsed:r,onClick:o})=>{const s=d=>{d.stopPropagation(),o(t)},u=y.jsxs("button",{onClick:s,className:`w-full flex items-center space-x-3 p-2.5 rounded-md transition-colors duration-150 text-left
                  ${i?"bg-purple-600 text-white shadow-md":"text-gray-300 hover:bg-slate-700 hover:text-white"}
                  ${r?"justify-start":""}`,"aria-current":i?"page":void 0,children:[De.cloneElement(e,{className:"w-5 h-5 flex-shrink-0"}),y.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-[1500ms] ease-[cubic-bezier(0.55,0,0.67,1.25)] ${r?"opacity-0 max-w-0":"opacity-100 max-w-xs"}`,children:n})]});return y.jsx("li",{children:r?y.jsx(ht,{content:n,position:"right-start",offsetValue:15,animation:"fade",animationDuration:150,children:u}):u})},RD=()=>{const t=Te(h=>h.activeView),e=Te(h=>h.isSidebarCollapsed),n=Te(h=>h.setActiveView),i=Te(h=>h.resetUIStateForViewChange),r=Te(h=>h.toggleSidebar),o=h=>{n(h),i(h)},s=()=>{e||r()},u=h=>{h.stopPropagation(),r()},d=[{id:"dashboard",label:U.dashboardTitle,icon:y.jsx(me,{name:"dashboard",size:"md"})},{id:"contacts",label:U.contactsListTitle,icon:y.jsx(me,{name:"user",size:"md"})},{id:"crmOverview",label:U.crmTitle,icon:y.jsx(me,{name:"cog",size:"md"})},{id:"phone",label:U.phonePageTitle,icon:y.jsx(me,{name:"phone",size:"md"})},{id:"users",label:U.usersTitle,icon:y.jsx(me,{name:"usersGroup",size:"md"})},{id:"settings",label:U.settingsTitle,icon:y.jsx(me,{name:"settings",size:"md"})}],f=e?"Επέκταση Sidebar":"Σύμπτυξη Sidebar";return y.jsxs("div",{onClick:s,className:`bg-slate-800 text-gray-300 h-screen p-4 flex flex-col shadow-lg flex-shrink-0 
                  transition-all duration-[1500ms] ease-[cubic-bezier(0.55,0,0.67,1.25)]
                  ${e?"w-20":"w-64 rounded-tr-lg"} 
                  ${e?"":"cursor-pointer"}`,children:[y.jsxs("div",{className:"flex items-center justify-start h-14 flex-shrink-0 mb-2",children:[y.jsx("div",{className:"bg-blue-500 text-white text-2xl font-bold w-10 h-10 flex items-center justify-center rounded-lg shadow-md flex-shrink-0",children:"N"}),y.jsx("span",{className:`ml-3 whitespace-nowrap text-2xl font-semibold text-blue-400 overflow-hidden transition-all duration-[1500ms] ease-[cubic-bezier(0.55,0,0.67,1.25)] ${e?"opacity-0 max-w-0":"opacity-100 max-w-[100px]"}`,children:"NESTOR"})]}),y.jsx("nav",{className:"flex-grow overflow-hidden",onClick:h=>h.stopPropagation(),children:y.jsx("ul",{className:"space-y-2",children:d.map(h=>y.jsx(MD,{id:h.id,icon:h.icon,label:h.label,isActive:t===h.id,isCollapsed:e,onClick:o},h.id))})}),y.jsx("div",{className:`mt-auto pt-4 border-t border-slate-700 flex ${e?"justify-center":"justify-end"}`,onClick:h=>h.stopPropagation(),children:y.jsx(ht,{content:f,position:e?"right-start":"top",offsetValue:e?15:10,animation:"fade",animationDuration:150,children:y.jsx("button",{onClick:u,className:"p-2 text-gray-400 hover:text-purple-400 hover:bg-slate-700 rounded-md transition-colors duration-150","aria-label":f,children:e?y.jsx(me,{name:"chevronDoubleRight",size:"lg"}):y.jsx(me,{name:"chevronDoubleLeft",size:"lg"})})})})]})},Oe=De.forwardRef(({className:t="",type:e="text",hasError:n,hasWarning:i,hasSuccess:r,startIcon:o,endIcon:s,clearable:u,onClear:d,value:f,onFocus:h,onBlur:v,...T},C)=>{const[S,E]=N.useState(!1),[_,I]=N.useState(!1),D=u&&f&&(S||_);let M=s,P="pr-3";D&&s?P="pr-16":(D||s)&&(P="pr-10");let L=`py-3 ${o?"pl-10":"pl-3"} ${P}`;const R="font-[var(--font-sans)] text-[var(--font-size-sm)] w-full bg-gray-800 text-gray-200 border rounded-md placeholder-gray-500 transition-colors duration-150 ease-in-out";let B="border-gray-600 focus:ring-1 focus:ring-purple-500 focus:border-purple-500";n?B="border-red-500 focus:ring-1 focus:ring-red-500 focus:border-red-500":i?B="border-amber-500 focus:ring-1 focus:ring-amber-500 focus:border-amber-500":r&&(B="border-green-500 focus:ring-1 focus:ring-green-500 focus:border-green-500");const q=`${R} ${L} ${B} ${t}`,$=ne=>{E(!0),h&&h(ne)},j=ne=>{E(!1),v&&v(ne)},Z=ne=>{ne.preventDefault(),d&&d(),typeof C=="object"&&(C!=null&&C.current)&&C.current.focus()};return y.jsxs("div",{className:"relative w-full",onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),children:[o&&y.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-gray-400",children:o}),y.jsx("input",{type:e,className:q,ref:C,value:f,onFocus:$,onBlur:j,"data-testid":T["data-testid"]||T.id||T.name,...T}),y.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center",children:[D&&y.jsx("button",{type:"button",onClick:Z,className:"p-1 mr-2 text-gray-400 hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 rounded-full","aria-label":"Clear input",tabIndex:-1,children:y.jsx(me,{name:"close",size:"sm"})}),M&&y.jsx("div",{className:"flex items-center pr-3 text-gray-400",children:M})]})]})});Oe.displayName="Input";const we=De.forwardRef(({children:t,variant:e="primary",size:n="md",isLoading:i=!1,leftIcon:r,rightIcon:o,className:s="",disabled:u,type:d,...f},h)=>{const v="font-[var(--font-sans)] font-[var(--font-weight-semibold)] rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-opacity-75 transition-all duration-200 ease-in-out flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",T={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-600 hover:bg-gray-500 text-gray-200 focus:ring-gray-400",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",ghost:"bg-transparent hover:bg-slate-700 text-gray-300 focus:ring-slate-500 border border-slate-600 hover:border-slate-500",link:"bg-transparent hover:text-purple-400 text-purple-300 underline p-0 focus:ring-purple-500",icon:"bg-transparent hover:bg-slate-700 text-gray-400 hover:text-purple-400 focus:ring-purple-500 p-1.5"},_=!t&&(r||o)&&e==="icon"?{sm:"p-1.5",md:"p-2",lg:"p-2.5"}[n]:{sm:"px-3 py-1.5 text-[var(--font-size-xs)]",md:"px-4 py-2 text-[var(--font-size-sm)]",lg:"px-6 py-3 text-[var(--font-size-base)]"}[n],I=d||"button";return y.jsxs("button",{ref:h,type:I,className:`${v} ${T[e]} ${_} ${s}`,disabled:u||i,...f,children:[i&&y.jsx(mS,{className:`w-5 h-5 ${t||r||o?"mr-2":""}`}),r&&!i&&y.jsx("span",{className:t?"mr-2":"",children:r}),t,o&&!i&&y.jsx("span",{className:t?"ml-2":"",children:o})]})});we.displayName="Button";const vS=({isOpen:t,setIsOpen:e,triggerRef:n,children:i,placement:r="bottom-start",offsetValue:o=8,className:s="bg-slate-700 border border-slate-600 rounded-md shadow-xl",arrow:u=!1,arrowPadding:d=4,matchTriggerWidth:f=!1,closeOnClickOutside:h=!0,animationType:v="fade",animationDuration:T=150,portalId:C="popover-portal-root",flipOptions:S,shiftOptions:E,minWidth:_,maxWidth:I="max-content",id:D,ariaLabel:M})=>{var ye,nt,pe;const P=N.useRef(null),L=N.useRef(null),R=qd(C),B=N.useRef(null),q=N.useId(),$=D||q,j=[$d(o),q2(),Gd(S),Hd({padding:8,...E})];u&&j.push(oS({element:L,padding:d})),(f||typeof I=="number"||_)&&j.push(Eg({apply({rects:Ne,elements:Re}){let st;f&&Ne.reference.width>0?st=`${Ne.reference.width}px`:typeof I=="number"&&(st=`${I}px`),Object.assign(Re.floating.style,{width:st,minWidth:_,maxWidth:typeof I=="string"?I:void 0})},padding:8})),j.push(G2({strategy:"referenceHidden"}));const{x:Z,y:ne,strategy:ae,refs:ee,middlewareData:Q,placement:z}=Bd({elements:{reference:n.current},placement:r,strategy:"fixed",middleware:j,whileElementsMounted:Fd});N.useEffect(()=>{P.current&&ee.setFloating(P.current)},[ee,P,t]);const G=N.useCallback(()=>{e(!1)},[e]);N.useEffect(()=>{var Ne;t?(B.current=document.activeElement,setTimeout(()=>{var Re;return(Re=P.current)==null?void 0:Re.focus()},0)):B.current&&B.current!==n.current&&((Ne=B.current)==null||Ne.focus())},[t]),N.useEffect(()=>{if(!t||!h)return;const Ne=Re=>{P.current&&!P.current.contains(Re.target)&&n.current&&!n.current.contains(Re.target)&&G()};return document.addEventListener("mousedown",Ne),()=>document.removeEventListener("mousedown",Ne)},[t,h,G,n]),N.useEffect(()=>{if(!t)return;const Ne=Re=>{Re.key==="Escape"&&G()};return document.addEventListener("keydown",Ne),()=>document.removeEventListener("keydown",Ne)},[t,G]);const re=(ye=Q.arrow)==null?void 0:ye.x,de=(nt=Q.arrow)==null?void 0:nt.y,w=dS(z),H=u?fS("slate-700",w,""):"",ie=(pe=Q.hide)==null?void 0:pe.referenceHidden,O={position:ae,top:ne??"",left:Z??"",visibility:ie?"hidden":"visible",minWidth:_,maxWidth:typeof I=="string"&&I!=="max-content"?I:void 0},ve=v==="none"?"no-animation":v,ke=y.jsx(Tl,{in:t&&!ie,nodeRef:P,timeout:T,classNames:ve,unmountOnExit:!0,children:y.jsxs("div",{ref:P,id:$,className:`focus:outline-none ${s}`,style:O,role:"dialog","aria-modal":"true","aria-label":M,tabIndex:-1,children:[i," ",u&&y.jsx("div",{ref:L,className:H,style:{left:re!=null?`${re}px`:"",top:de!=null?`${de}px`:"",right:"",bottom:"",[w]:"-5px"},"aria-hidden":"true"})]})});return!R||!t?null:Ei.createPortal(ke,R)},LD=t=>{if(!t)return"?";const e=t.trim().split(/\s+/).filter(Boolean);if(e.length===0)return"?";if(e.length===1){const n=e[0];return n.length===1?n.charAt(0).toUpperCase():n.substring(0,Math.min(n.length,2)).toUpperCase()}return(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()},da=({name:t,avatarUrl:e,sizeClasses:n="w-16 h-16 rounded-full",textClasses:i="text-xl sm:text-2xl",borderClasses:r="border-2 border-gray-600",initialsBgClasses:o="bg-gray-700",className:s=""})=>{const u=LD(t),d=`${n} object-cover ${r} ${s}`,f=`${n} ${o} flex items-center justify-center text-white font-semibold ${r} ${i} ${s}`;return e?y.jsx("img",{src:e,alt:t||"Avatar",className:d,onError:h=>{h.target.style.display="none"}}):y.jsx("div",{className:f,"aria-label":t?`Avatar for ${t}`:"User initials",title:t,children:u})},la=no()(io(t=>({currentUser:null,availableUsers:[],userRoles:[],initializeUsers:()=>{const e=Jt.length>0?Jt[0]:null;t(n=>{n.availableUsers=Jt,n.currentUser=e,n.userRoles=(e==null?void 0:e.roles)||[]}),e?console.log(`[UserStore] Initialized with user: ${e.displayName}`):console.warn("[UserStore] Initialized with no users.")},setCurrentUser:e=>{t(n=>{const i=n.availableUsers.find(r=>r.id===e);i?(n.currentUser=i,n.userRoles=i.roles||[],console.log(`[UserStore] Current user set to: ${i.displayName} with roles: ${i.roles.join(", ")}`)):console.warn(`[UserStore] User with ID ${e} not found.`)})}}))),hn=({children:t,className:e="",axis:n="y"})=>{let i="";switch(n){case"x":i="overflow-x-auto overflow-y-hidden";break;case"y":i="overflow-y-auto overflow-x-hidden";break;case"both":i="overflow-auto";break;default:i="overflow-y-auto overflow-x-hidden"}return y.jsx("div",{className:`custom-scrollbar-themed min-h-0 ${i} ${e}`,children:t})},Wd=({logoUrl:t,altText:e,maxWidthClass:n="max-w-20",maxHeightClass:i="max-h-16",containerClasses:r="w-20 h-16 flex items-center justify-center overflow-hidden",className:o=""})=>{const[s,u]=N.useState(!1);if(!t)return null;const d=`${r} ${o}`;return s?y.jsxs("div",{className:`${d} flex items-center justify-center`,children:[" ",y.jsxs("p",{className:"text-xs text-red-400 text-center","aria-live":"polite",children:["Δεν φορτώθηκε: ",e?e.substring(0,15):"Λογότυπο","..."]})]}):y.jsxs("div",{className:d,children:[" ",y.jsx("img",{src:t,alt:e,className:`${n} ${i} object-contain`,onError:()=>{u(!0)}})]})},OD=({anchorRef:t})=>{const e=Te(P=>P.globalSearchTerm),n=Te(P=>P.globalSearchResults),i=Te(P=>P.isGlobalSearchFocused),r=Te(P=>P.setActiveView),o=Te(P=>P.setSelectedContactId),s=Te(P=>P.setCurrentFormMode),u=Te(P=>P.clearGlobalSearch),d=Te(P=>P.setIsGlobalSearchFocused),f=N.useRef(null),h=qd(),{x:v,y:T,strategy:C,refs:S,middlewareData:E}=Bd({elements:{reference:t.current},placement:"bottom-start",strategy:"fixed",middleware:[$d(4),Gd(),Hd({padding:8}),Eg({apply({rects:P,elements:L}){Object.assign(L.floating.style,{width:`${P.reference.width}px`,maxHeight:`calc(100vh - ${P.reference.bottom}px - 30px)`})},padding:8})],whileElementsMounted:Fd});N.useEffect(()=>{f.current&&S.setFloating(f.current)},[S,f,i,e]);const _=i&&e.trim().length>0;N.useEffect(()=>{if(!_)return;const P=L=>{L.key==="Escape"&&d(!1)};return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[_,d,t]);const I=P=>{r("contacts"),o(P.id),s(null),u(),d(!1)},D=()=>n?n.length===0?y.jsx("div",{className:"p-4 text-sm text-gray-400 text-center",children:U.contactSearchPlaceholder&&U.contactSearchPlaceholder.includes("επαφής")?"Δεν βρέθηκαν επαφές.":"Δεν βρέθηκαν αποτελέσματα."}):y.jsx(hn,{axis:"y",className:"max-h-[calc(100vh-200px)] md:max-h-80",children:y.jsxs("ul",{role:"listbox","aria-label":"Search results",className:"divide-y divide-slate-600",children:[" ",n.map((P,L)=>{const R=P.contactType==="naturalPerson"?`${P.basicIdentity.firstName} ${P.basicIdentity.lastName}`.trim():P.name,B=(P.contactType==="legalEntity"||P.contactType==="publicService")&&P.avatarUrl,q=`search-result-${P.id}-${L}`;return y.jsxs("li",{id:q,children:[" ",y.jsxs("button",{role:"option","aria-selected":"false",onClick:()=>I(P),className:"w-full text-left p-3 flex items-center space-x-3 hover:bg-slate-600 transition-colors duration-150 focus:outline-none focus:bg-slate-600",children:[B?y.jsx(Wd,{logoUrl:P.avatarUrl,altText:R,containerClasses:"w-8 h-8 flex items-center justify-center overflow-hidden rounded-md flex-shrink-0",maxWidthClass:"max-w-8",maxHeightClass:"max-h-8"}):y.jsx(da,{name:R,avatarUrl:P.avatarUrl,sizeClasses:"w-8 h-8 rounded-full flex-shrink-0",textClasses:"text-xs"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-sm font-medium text-gray-100 truncate",children:R}),y.jsx("p",{className:"text-xs text-gray-400 truncate",children:P.email||Bi[P.contactType]})]}),y.jsx(me,{name:"chevronDoubleRight",size:"sm",className:"text-gray-500 flex-shrink-0"})]})]},P.id)})]})}):null,M=y.jsx(Tl,{in:_,nodeRef:f,timeout:200,classNames:{enter:"opacity-0 translate-y-2",enterActive:"opacity-100 translate-y-0 transition-all duration-200 ease-out",exit:"opacity-100 translate-y-0",exitActive:"opacity-0 translate-y-2 transition-all duration-150 ease-in"},unmountOnExit:!0,children:y.jsx("div",{ref:f,style:{position:C,top:T??"",left:v??"",zIndex:100},className:"bg-slate-700 rounded-md shadow-lg border border-slate-600 overflow-hidden",onMouseDown:P=>P.preventDefault(),children:D()})});return h?Ei.createPortal(M,h):null},Mg=["mention","system_update","task_reminder","new_message","deadline_approaching","entity_created","entity_updated","general_info"];var MC,RC,LC,OC;const PD=[{id:Ce(),type:"mention",title:"Νέα Αναφορά",message:`Ο χρήστης @${((MC=Jt[0])==null?void 0:MC.username)||"user1"} σας ανέφερε σε μια σημείωση για την επαφή "ΤΕΧΝΙΚΗ ΚΑΤΑΣΚΕΥΑΣΤΙΚΗ Α.Ε.".`,timestamp:new Date(Date.now()-5*60*1e3).toISOString(),isRead:!1,link:"/contacts/2",relatedEntityId:"2",relatedEntityType:"contact",icon:"user"},{id:Ce(),type:"task_reminder",title:"Υπενθύμιση Εργασίας",message:'Η εργασία "Προετοιμασία παρουσίασης Q3" λήγει αύριο.',timestamp:new Date(Date.now()-2*60*60*1e3).toISOString(),isRead:!0,icon:"bell",relatedEntityId:"project-alpha",relatedEntityType:"task"},{id:Ce(),type:"system_update",title:"Ενημέρωση Συστήματος",message:"Το σύστημα θα είναι εκτός λειτουργίας για συντήρηση την Κυριακή 03:00-05:00.",timestamp:new Date().toISOString(),isRead:!1,icon:"settings"},{id:Ce(),type:"deadline_approaching",title:"Λήξη Προθεσμίας",message:'Η προθεσμία για την υποβολή της προσφοράς στο έργο "Νέα Γραφεία" είναι σε 2 ημέρες.',timestamp:new Date(Date.now()-24*60*60*1e3).toISOString(),isRead:!1,icon:"alertTriangle",relatedEntityId:"project-beta",relatedEntityType:"task"},{id:Ce(),type:"entity_created",title:"Νέα Επαφή Δημιουργήθηκε",message:`Η επαφή "Ελένη Νικολάου" δημιουργήθηκε από τον @${((RC=Jt.find(t=>t.username==="admin_user"))==null?void 0:RC.username)||"admin_user"}.`,timestamp:new Date(Date.now()-30*60*1e3).toISOString(),isRead:!1,icon:"plus",relatedEntityId:"6",relatedEntityType:"contact",link:"/contacts/6"},{id:Ce(),type:"new_message",title:"Νέο Μήνυμα (Mock)",message:'Έχετε νέο μήνυμα από τον πελάτη "Δημήτρης Αντωνίου" σχετικά με την υπόθεση #123.',timestamp:new Date(Date.now()-10*60*1e3).toISOString(),isRead:!1,icon:"email",relatedEntityId:"8",relatedEntityType:"contact"},{id:Ce(),type:"general_info",title:"Ενημέρωση Πολιτικής Απορρήτου",message:"Η πολιτική απορρήτου μας έχει ενημερωθεί. Παρακαλούμε διαβάστε τους νέους όρους.",timestamp:new Date(Date.now()-2*24*60*60*1e3).toISOString(),isRead:!0,icon:"info"},{id:Ce(),type:"mention",title:"Αναφορά σε Σχόλιο",message:`Ο χρήστης @${((LC=Jt[1])==null?void 0:LC.username)||"user2"} απάντησε στο σχόλιό σας για την εργασία "Ανάλυση Αγοράς".`,timestamp:new Date(Date.now()-15*60*1e3).toISOString(),isRead:!1,icon:"user",relatedEntityId:"task-market-analysis",relatedEntityType:"task"},{id:Ce(),type:"entity_updated",title:"Ενημέρωση Στοιχείων Επαφής",message:`Τα στοιχεία της επαφής "ΤΕΧΝΙΚΗ ΚΑΤΑΣΚΕΥΑΣΤΙΚΗ Α.Ε." ενημερώθηκαν από @${((OC=Jt[3])==null?void 0:OC.username)||"user4"}.`,timestamp:new Date(Date.now()-45*60*1e3).toISOString(),isRead:!0,icon:"edit",relatedEntityId:"2",relatedEntityType:"contact",link:"/contacts/2"},{id:Ce(),type:"task_reminder",title:"Follow-up Κλήσης",message:'Υπενθύμιση για follow-up της κλήσης με την "Μαρία Παπαδοπούλου".',timestamp:new Date(Date.now()-3*60*60*1e3).toISOString(),isRead:!1,icon:"phone",relatedEntityId:"1",relatedEntityType:"contact"}],UD=Mg.reduce((t,e)=>(t[e]=!0,t),{}),On=no()(io((t,e)=>({notifications:PD,isPanelOpen:!1,notificationTypeSettings:UD,unreadCount:()=>{const{notifications:n,notificationTypeSettings:i}=e();return n.filter(r=>!r.isRead&&i[r.type]!==!1).length},sortedNotifications:()=>{const{notifications:n,notificationTypeSettings:i}=e();return[...n.filter(o=>i[o.type]!==!1)].sort((o,s)=>new Date(s.timestamp).getTime()-new Date(o.timestamp).getTime())},addNotification:n=>t(i=>{const r={id:Ce(),timestamp:new Date().toISOString(),isRead:!1,...n};i.notifications.unshift(r)}),markAsRead:n=>t(i=>{const r=i.notifications.find(o=>o.id===n);r&&(r.isRead=!0)}),markAllAsRead:()=>t(n=>{const{notificationTypeSettings:i}=e();n.notifications.forEach(r=>{i[r.type]!==!1&&(r.isRead=!0)})}),clearNotification:n=>t(i=>{i.notifications=i.notifications.filter(r=>r.id!==n)}),clearAllNotifications:()=>t(n=>{const{notificationTypeSettings:i}=e();n.notifications=n.notifications.filter(r=>i[r.type]===!1)}),togglePanel:()=>t(n=>{n.isPanelOpen=!n.isPanelOpen}),setPanelOpen:n=>t(i=>{i.isPanelOpen=n}),toggleNotificationTypeSetting:n=>t(i=>{i.notificationTypeSettings[n]=!i.notificationTypeSettings[n]})}))),xS=De.forwardRef((t,e)=>{const n=On(s=>s.unreadCount)(),i=On(s=>s.togglePanel),r=On(s=>s.isPanelOpen),o=r?"Κλείσιμο Ειδοποιήσεων":"Άνοιγμα Ειδοποιήσεων";return y.jsx(ht,{content:o,position:"bottom",offsetValue:8,children:y.jsxs("button",{ref:e,onClick:i,className:"relative p-2 text-gray-400 hover:text-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-slate-800 rounded-full transition-colors duration-150","aria-label":o,"aria-expanded":r,...t,children:[y.jsx(me,{name:"bell",size:"lg"}),n>0&&y.jsx("span",{className:"absolute top-0 right-0 block h-5 w-5 transform -translate-y-1 translate-x-1 rounded-full bg-red-600 text-white text-xs flex items-center justify-center shadow-md ring-2 ring-slate-800","aria-label":`${n} αδιάβαστες ειδοποιήσεις`,children:n>9?"9+":n})]})})});xS.displayName="NotificationBell";const G1=t=>{const e=new Date(t),i=new Date().getTime()-e.getTime(),r=Math.round(i/1e3),o=Math.round(r/60),s=Math.round(o/60),u=Math.round(s/24);return r<5?"Τώρα":r<60?`${r}δ πριν`:o<60?`${o}λ πριν`:s<24?`${s}ω πριν`:u===1?`Χθες στις ${e.toLocaleTimeString("el-GR",{hour:"2-digit",minute:"2-digit"})}`:u<7?`${u}ημ πριν`:e.toLocaleDateString("el-GR",{day:"2-digit",month:"2-digit",year:"numeric"})},jD=t=>{switch(t){case"mention":return"user";case"system_update":return"settings";case"task_reminder":return"bell";case"new_message":return"email";case"deadline_approaching":return"alertTriangle";case"entity_created":return"plus";case"entity_updated":return"edit";default:return"info"}},zD=({notification:t,onMarkAsRead:e,onClear:n,onItemClick:i})=>{const r="p-3 flex items-start space-x-3 border-b border-slate-700 dark:border-slate-600 last:border-b-0 transition-colors duration-150",o=t.isRead?"bg-slate-800 dark:bg-slate-800 hover:bg-slate-700 dark:hover:bg-slate-750":"bg-slate-700 dark:bg-slate-750 hover:bg-slate-650 dark:hover:bg-slate-700",s=!!(i&&t.link),u=s?"cursor-pointer":"cursor-default",d=()=>{s&&i(t)},f=v=>{s&&(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),d())},h=typeof t.icon=="string"?y.jsx(me,{name:t.icon,size:"md",className:`mt-0.5 flex-shrink-0 ${t.isRead?"text-gray-400 dark:text-gray-500":"text-purple-400 dark:text-purple-300"}`}):t.icon||y.jsx(me,{name:jD(t.type),size:"md",className:`mt-0.5 flex-shrink-0 ${t.isRead?"text-gray-400 dark:text-gray-500":"text-purple-400 dark:text-purple-300"}`});return y.jsxs("li",{className:`${r} ${o} ${u}`,onClick:d,onKeyDown:s?f:void 0,tabIndex:s?0:void 0,role:"listitem","aria-live":"polite","aria-atomic":"true","aria-label":`Notification: ${t.title}. ${t.message}. Status: ${t.isRead?"Read":"Unread"}. Time: ${G1(t.timestamp)}.`,children:[y.jsx("div",{className:"flex-shrink-0 pt-0.5",children:h}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h4",{className:`text-sm font-semibold ${t.isRead?"text-gray-300 dark:text-gray-400":"text-gray-100 dark:text-gray-200"}`,children:t.title}),y.jsx("span",{className:`text-xs ${t.isRead?"text-gray-500 dark:text-gray-400":"text-gray-400 dark:text-gray-300"} whitespace-nowrap ml-2`,children:G1(t.timestamp)})]}),y.jsx("p",{className:`text-xs mt-0.5 ${t.isRead?"text-gray-400 dark:text-gray-500":"text-gray-300 dark:text-gray-400"} break-words`,children:t.message})]}),y.jsxs("div",{className:"flex-shrink-0 flex flex-col sm:flex-row items-center sm:space-x-1.5 space-y-1.5 sm:space-y-0 ml-2",children:[!t.isRead&&y.jsx(ht,{content:U.markAsReadButton,position:"top",children:y.jsx(we,{variant:"icon",size:"sm",onClick:v=>{v.stopPropagation(),e(t.id)},className:"!p-1 text-gray-400 hover:text-green-400","aria-label":`${U.markAsReadButton}: ${t.title}`,children:y.jsx(me,{name:"checkCircle",size:"sm"})})}),y.jsx(ht,{content:U.clearNotificationButton,position:"top",children:y.jsx(we,{variant:"icon",size:"sm",onClick:v=>{v.stopPropagation(),n(t.id)},className:"!p-1 text-gray-400 hover:text-red-400","aria-label":`${U.clearNotificationButton}: ${t.title}`,children:y.jsx(me,{name:"close",size:"sm"})})})]})]})},Yd=({id:t,checked:e,onChange:n,disabled:i=!1,label:r,labelPosition:o="right",size:s="md",onColor:u="bg-purple-600",offColor:d="bg-gray-600 dark:bg-gray-500",knobColor:f="bg-white",className:h="",labelClassName:v="text-sm text-gray-300 select-none",switchClassName:T="",knobClassName:C="","data-testid":S,"aria-label":E,"aria-labelledby":_})=>{const I=N.useId(),D=t||I,M=()=>{i||n(!e)};let P,L,R,B;switch(s){case"sm":P="w-9",L="h-5",R="h-4 w-4",B=e?"translate-x-4":"translate-x-0.5";break;case"lg":P="w-14",L="h-8",R="h-6 w-6",B=e?"translate-x-6":"translate-x-1";break;case"md":default:P="w-11",L="h-6",R="h-5 w-5",B=e?"translate-x-5":"translate-x-0.5";break}const q=`relative inline-flex flex-shrink-0 ${L} ${P} border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 focus:ring-offset-gray-800 shadow-inner`,$=e?u:d,j=`pointer-events-none inline-block ${R} ${f} rounded-full shadow-lg transform ring-0 transition ease-in-out duration-200`,Z=`${v} ${i?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,ne=y.jsx("button",{type:"button",role:"switch","aria-checked":e,"aria-disabled":i,"aria-label":E&&!r?E:void 0,"aria-labelledby":_||(r?`${D}-label`:void 0),id:D,"data-testid":S,onClick:M,disabled:i,className:`
        ${q}
        ${$}
        ${i?"opacity-50 cursor-not-allowed":""}
        ${T}
      `,children:y.jsx("span",{"aria-hidden":"true",className:`
          ${j}
          ${B}
          ${C}
        `})});return y.jsxs("div",{className:`flex items-center ${h}`,children:[r&&o==="left"&&y.jsx("span",{id:`${D}-label`,onClick:M,className:`mr-3 ${Z}`,children:r}),ne,r&&o==="right"&&y.jsx("span",{id:`${D}-label`,onClick:M,className:`ml-3 ${Z}`,children:r})]})};Yd.displayName="Toggle";const VD=({isOpen:t,onClose:e})=>{const n=N.useRef(null),{notificationTypeSettings:i,toggleNotificationTypeSetting:r}=On(o=>({notificationTypeSettings:o.notificationTypeSettings,toggleNotificationTypeSetting:o.toggleNotificationTypeSetting}));return N.useEffect(()=>{t&&setTimeout(()=>{var o;return(o=n.current)==null?void 0:o.focus()},0)},[t]),N.useEffect(()=>{const o=s=>{s.key==="Escape"&&t&&e()};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[t,e]),t?y.jsx("div",{className:"modal-overlay",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"notification-settings-modal-title",children:y.jsxs("div",{ref:n,tabIndex:-1,className:"modal-content custom-scrollbar-themed relative max-w-lg w-full",onClick:o=>o.stopPropagation(),children:[y.jsx(we,{variant:"icon",size:"sm",onClick:e,className:"absolute top-3 right-3 !p-1 text-gray-400 hover:text-gray-200","aria-label":U.modalAlertCloseButtonAriaLabel||"Κλείσιμο",children:y.jsx(me,{name:"close",size:"md"})}),y.jsx("h2",{id:"notification-settings-modal-title",className:"text-lg font-semibold text-purple-300 mb-4",children:U.notificationSettingsModalTitle}),y.jsx(hn,{axis:"y",className:"max-h-[60vh] mb-6 pr-2",children:y.jsx("div",{className:"space-y-3",children:Mg.map(o=>y.jsx(Yd,{id:`toggle-notification-${o}`,checked:i[o]??!0,onChange:()=>r(o),label:gh[o]||o,labelPosition:"left",className:"w-full justify-between",labelClassName:"text-sm text-gray-200"},o))})}),y.jsx("div",{className:"flex justify-end",children:y.jsx(we,{variant:"primary",onClick:e,autoFocus:!0,children:U.aiSummaryCloseButton||"Κλείσιμο"})})]})}):null},FD=({anchorRef:t})=>{const e=On(R=>R.isPanelOpen),n=On(R=>R.setPanelOpen),i=On(R=>R.sortedNotifications)(),r=On(R=>R.markAsRead),o=On(R=>R.markAllAsRead),s=On(R=>R.clearNotification),u=On(R=>R.clearAllNotifications),d=Te(R=>R.setActiveView),f=Te(R=>R.setSelectedContactId),h=Te(R=>R.setCurrentFormMode),v=Te(R=>R.clearGlobalSearch),[T,C]=N.useState(!1),S=N.useRef(null),E=qd("notification-panel-portal-root"),{x:_,y:I,strategy:D,refs:M}=Bd({elements:{reference:t.current},placement:"bottom-end",strategy:"fixed",middleware:[$d(8),Gd({padding:8,fallbackPlacements:["bottom-start","top-end","top-start"]}),Hd({padding:8}),Eg({apply({rects:R,elements:B,availableHeight:q}){Object.assign(B.floating.style,{width:"360px",maxHeight:`${Math.min(q-20,600)}px`})},padding:8})],whileElementsMounted:Fd});N.useEffect(()=>{S.current&&M.setFloating(S.current)},[M,S,e]),N.useEffect(()=>{if(!e)return;const R=B=>{B.key==="Escape"&&n(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[e,n]),N.useEffect(()=>{if(!e)return;const R=B=>{S.current&&!S.current.contains(B.target)&&t.current&&!t.current.contains(B.target)&&n(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[e,n,t]);const P=R=>{R.relatedEntityType==="contact"&&R.relatedEntityId?(d("contacts"),f(R.relatedEntityId),h(null),v()):R.link&&console.log(`Generic link clicked (not implemented for direct navigation): ${R.link}`),R.isRead||r(R.id),n(!1)},L=y.jsx(Tl,{in:e,nodeRef:S,timeout:200,classNames:{enter:"opacity-0 translate-y-2 scale-95",enterActive:"opacity-100 translate-y-0 scale-100 transition-all duration-200 ease-out",exit:"opacity-100 translate-y-0 scale-100",exitActive:"opacity-0 translate-y-2 scale-95 transition-all duration-150 ease-in"},unmountOnExit:!0,children:y.jsxs("div",{ref:S,style:{position:D,top:I??"",left:_??"",zIndex:110},className:"bg-slate-800 dark:bg-gray-800 rounded-lg shadow-2xl border border-slate-700 dark:border-gray-700 flex flex-col overflow-hidden",role:"dialog","aria-modal":"true","aria-labelledby":"notifications-panel-title",onMouseDown:R=>R.preventDefault(),children:[y.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-slate-700 dark:border-gray-600 flex-shrink-0",children:[y.jsx("h3",{id:"notifications-panel-title",className:"text-md font-semibold text-gray-100 dark:text-gray-200",children:U.notificationsTitle}),y.jsx(we,{variant:"icon",size:"sm",onClick:()=>n(!1),"aria-label":U.closeNotificationsPanelButton,className:"!p-1 text-gray-400 hover:text-gray-200",children:y.jsx(me,{name:"close",size:"md"})})]}),y.jsx(hn,{axis:"y",className:"flex-grow min-h-[100px]",children:i.length>0?y.jsx("ul",{role:"list",children:i.map(R=>y.jsx(zD,{notification:R,onMarkAsRead:r,onClear:s,onItemClick:P},R.id))}):y.jsxs("div",{className:"p-6 text-center text-sm text-gray-400 dark:text-gray-500",children:[U.noNotificationsMatchingFilters," "]})}),y.jsxs("div",{className:"p-2 border-t border-slate-700 dark:border-gray-600 flex-shrink-0 flex justify-between items-center",children:[y.jsx(ht,{content:U.notificationSettingsButton,position:"top-start",offsetValue:6,children:y.jsx(we,{variant:"icon",size:"sm",onClick:()=>C(!0),"aria-label":U.notificationSettingsButton,className:"!p-1.5 text-gray-400 hover:text-purple-300",children:y.jsx(me,{name:"cog",size:"sm"})})}),y.jsxs("div",{className:"flex items-center space-x-2",children:[i.length>0&&y.jsx(we,{variant:"link",size:"sm",onClick:o,className:"!text-xs",children:U.markAllAsReadButton}),i.length>0&&y.jsx(we,{variant:"link",size:"sm",onClick:u,className:"!text-xs !text-red-400 hover:!text-red-300",children:U.clearAllNotificationsButton})]})]})]})});return E?y.jsxs(y.Fragment,{children:[Ei.createPortal(L,E),T&&y.jsx(VD,{isOpen:T,onClose:()=>C(!1)})]}):null},BD=({title:t,onToggleMockCall:e})=>{const n=Te(L=>L.globalSearchTerm),i=Te(L=>L.setGlobalSearchTerm),r=Te(L=>L.setIsGlobalSearchFocused),o=Te(L=>L.clearGlobalSearch),s=la(L=>L.currentUser),u=la(L=>L.availableUsers),d=la(L=>L.setCurrentUser),f=N.useRef(null),h=N.useRef(null),v=N.useRef(null),T=N.useRef(null),[C,S]=N.useState(!1),E=N.useRef(null),_=L=>{i(L.target.value)},I=()=>{E.current&&(clearTimeout(E.current),E.current=null),r(!0)},D=()=>{E.current=setTimeout(()=>{r(!1)},150)},M=()=>{var L;o(),(L=h.current)==null||L.focus()},P=L=>{d(L),S(!1)};return y.jsxs("div",{className:"bg-slate-800 p-4 border-b border-slate-700 flex items-center justify-between shadow-md h-14 flex-shrink-0 relative rounded-bl-lg",children:[y.jsx("h1",{className:"font-[var(--font-heading)] text-[var(--font-size-xl)] font-[var(--font-weight-bold)] text-gray-200",children:t}),y.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[e&&y.jsx(we,{variant:"secondary",size:"sm",onClick:e,className:"!py-1 !px-2 text-xs !bg-amber-600 hover:!bg-amber-500",title:U.devToggleMockCallButton,children:U.devToggleMockCallButton}),y.jsxs("div",{className:"relative w-48 sm:w-64 md:w-80",ref:f,children:[y.jsx(Oe,{ref:h,type:"search",placeholder:U.globalSearchPlaceholder,className:"py-2 pr-4 w-full !bg-slate-700 text-sm","aria-label":U.globalSearchPlaceholder,startIcon:y.jsx(me,{name:"search",size:"sm",className:"text-gray-400"}),value:n,onChange:_,onFocus:I,onBlur:D,clearable:!0,onClear:M,"data-testid":"global-search-input"}),y.jsx(OD,{anchorRef:f})]}),y.jsx(xS,{ref:v}),y.jsx(FD,{anchorRef:v}),y.jsxs("div",{className:"relative",children:[y.jsx(we,{ref:T,variant:"icon",onClick:()=>S(!C),"aria-label":"Μενού Χρήστη","aria-haspopup":"true","aria-expanded":C,className:"!p-0 rounded-full focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-slate-800",children:y.jsx(da,{name:(s==null?void 0:s.displayName)||"User",avatarUrl:s==null?void 0:s.avatarUrl,sizeClasses:"w-8 h-8 rounded-full",textClasses:"text-xs",borderClasses:"border-slate-600"})}),T.current&&y.jsx(vS,{isOpen:C,setIsOpen:S,triggerRef:T,placement:"bottom-end",offsetValue:8,className:"bg-slate-700 border border-slate-600 rounded-md shadow-xl z-[120] w-64",id:"user-profile-popover",ariaLabel:"User actions and account switching",children:y.jsxs("div",{className:"p-3",children:[s&&y.jsxs("div",{className:"mb-3 pb-3 border-b border-slate-600",children:[y.jsx("p",{className:"text-sm font-medium text-gray-100 truncate",children:s.displayName}),y.jsxs("p",{className:"text-xs text-gray-400 truncate",children:["@",s.username]})]}),y.jsx("p",{className:"text-xs text-gray-300 mb-1 font-semibold",children:"Εναλλαγή Λογαριασμού:"}),y.jsx(hn,{axis:"y",className:"max-h-48",children:y.jsx("ul",{className:"space-y-1",children:u.map(L=>y.jsx("li",{children:y.jsxs("button",{onClick:()=>P(L.id),className:`w-full text-left px-2 py-1.5 rounded-md text-xs flex items-center space-x-2
                                      ${(s==null?void 0:s.id)===L.id?"bg-purple-600 text-white":"text-gray-300 hover:bg-slate-600"}`,children:[y.jsx(da,{name:L.displayName,avatarUrl:L.avatarUrl,sizeClasses:"w-5 h-5",textClasses:"text-[10px]"}),y.jsx("span",{children:L.displayName})]})},L.id))})})]})})]})]})]})};let $D={data:""},HD=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||$D,GD=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qD=/\/\*[^]*?\*\/|  +/g,q1=/\n+/g,aa=(t,e)=>{let n="",i="",r="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":i+=o[1]=="f"?aa(s,o):o+"{"+aa(s,o[1]=="k"?"":e)+"}":typeof s=="object"?i+=aa(s,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=aa.p?aa.p(o,s):o+":"+s+";")}return n+(e&&r?e+"{"+r+"}":r)+i},br={},bS=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+bS(t[n]);return e}return t},WD=(t,e,n,i,r)=>{let o=bS(t),s=br[o]||(br[o]=(d=>{let f=0,h=11;for(;f<d.length;)h=101*h+d.charCodeAt(f++)>>>0;return"go"+h})(o));if(!br[s]){let d=o!==t?t:(f=>{let h,v,T=[{}];for(;h=GD.exec(f.replace(qD,""));)h[4]?T.shift():h[3]?(v=h[3].replace(q1," ").trim(),T.unshift(T[0][v]=T[0][v]||{})):T[0][h[1]]=h[2].replace(q1," ").trim();return T[0]})(t);br[s]=aa(r?{["@keyframes "+s]:d}:d,n?"":"."+s)}let u=n&&br.g?br.g:null;return n&&(br.g=br[s]),((d,f,h,v)=>{v?f.data=f.data.replace(v,d):f.data.indexOf(d)===-1&&(f.data=h?d+f.data:f.data+d)})(br[s],e,i,u),s},YD=(t,e,n)=>t.reduce((i,r,o)=>{let s=e[o];if(s&&s.call){let u=s(n),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;s=d?"."+d:u&&typeof u=="object"?u.props?"":aa(u,""):u===!1?"":u}return i+r+(s??"")},"");function Zd(t){let e=this||{},n=t.call?t(e.p):t;return WD(n.unshift?n.raw?YD(n,[].slice.call(arguments,1),e.p):n.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):n,HD(e.target),e.g,e.o,e.k)}let TS,Dh,kh;Zd.bind({g:1});let wr=Zd.bind({k:1});function ZD(t,e,n,i){aa.p=e,TS=t,Dh=n,kh=i}function ya(t,e){let n=this||{};return function(){let i=arguments;function r(o,s){let u=Object.assign({},o),d=u.className||r.className;n.p=Object.assign({theme:Dh&&Dh()},u),n.o=/ *go\d+/.test(d),u.className=Zd.apply(n,i)+(d?" "+d:"");let f=t;return t[0]&&(f=u.as||t,delete u.as),kh&&f[0]&&kh(u),TS(f,u)}return r}}var KD=t=>typeof t=="function",pd=(t,e)=>KD(t)?t(e):t,XD=(()=>{let t=0;return()=>(++t).toString()})(),CS=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),JD=20,SS=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,JD)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return SS(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let r=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+r}))}}},Wc=[],$a={toasts:[],pausedAt:void 0},ro=t=>{$a=SS($a,t),Wc.forEach(e=>{e($a)})},QD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ek=(t={})=>{let[e,n]=N.useState($a),i=N.useRef($a);N.useEffect(()=>(i.current!==$a&&n($a),Wc.push(n),()=>{let o=Wc.indexOf(n);o>-1&&Wc.splice(o,1)}),[]);let r=e.toasts.map(o=>{var s,u,d;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((s=t[o.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((u=t[o.type])==null?void 0:u.duration)||(t==null?void 0:t.duration)||QD[o.type],style:{...t.style,...(d=t[o.type])==null?void 0:d.style,...o.style}}});return{...e,toasts:r}},tk=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||XD()}),cu=t=>(e,n)=>{let i=tk(e,t,n);return ro({type:2,toast:i}),i.id},Cn=(t,e)=>cu("blank")(t,e);Cn.error=cu("error");Cn.success=cu("success");Cn.loading=cu("loading");Cn.custom=cu("custom");Cn.dismiss=t=>{ro({type:3,toastId:t})};Cn.remove=t=>ro({type:4,toastId:t});Cn.promise=(t,e,n)=>{let i=Cn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let o=e.success?pd(e.success,r):void 0;return o?Cn.success(o,{id:i,...n,...n==null?void 0:n.success}):Cn.dismiss(i),r}).catch(r=>{let o=e.error?pd(e.error,r):void 0;o?Cn.error(o,{id:i,...n,...n==null?void 0:n.error}):Cn.dismiss(i)}),t};var nk=(t,e)=>{ro({type:1,toast:{id:t,height:e}})},ik=()=>{ro({type:5,time:Date.now()})},zs=new Map,rk=1e3,ak=(t,e=rk)=>{if(zs.has(t))return;let n=setTimeout(()=>{zs.delete(t),ro({type:4,toastId:t})},e);zs.set(t,n)},ok=t=>{let{toasts:e,pausedAt:n}=ek(t);N.useEffect(()=>{if(n)return;let o=Date.now(),s=e.map(u=>{if(u.duration===1/0)return;let d=(u.duration||0)+u.pauseDuration-(o-u.createdAt);if(d<0){u.visible&&Cn.dismiss(u.id);return}return setTimeout(()=>Cn.dismiss(u.id),d)});return()=>{s.forEach(u=>u&&clearTimeout(u))}},[e,n]);let i=N.useCallback(()=>{n&&ro({type:6,time:Date.now()})},[n]),r=N.useCallback((o,s)=>{let{reverseOrder:u=!1,gutter:d=8,defaultPosition:f}=s||{},h=e.filter(C=>(C.position||f)===(o.position||f)&&C.height),v=h.findIndex(C=>C.id===o.id),T=h.filter((C,S)=>S<v&&C.visible).length;return h.filter(C=>C.visible).slice(...u?[T+1]:[0,T]).reduce((C,S)=>C+(S.height||0)+d,0)},[e]);return N.useEffect(()=>{e.forEach(o=>{if(o.dismissed)ak(o.id,o.removeDelay);else{let s=zs.get(o.id);s&&(clearTimeout(s),zs.delete(o.id))}})},[e]),{toasts:e,handlers:{updateHeight:nk,startPause:ik,endPause:i,calculateOffset:r}}},lk=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,sk=wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uk=wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ck=ya("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${sk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${uk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,dk=wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,fk=ya("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${dk} 1s linear infinite;
`,mk=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pk=wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hk=ya("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,gk=ya("div")`
  position: absolute;
`,yk=ya("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,vk=wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xk=ya("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${vk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,bk=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?N.createElement(xk,null,e):e:n==="blank"?null:N.createElement(yk,null,N.createElement(fk,{...i}),n!=="loading"&&N.createElement(gk,null,n==="error"?N.createElement(ck,{...i}):N.createElement(hk,{...i})))},Tk=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ck=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Sk="0%{opacity:0;} 100%{opacity:1;}",Ek="0%{opacity:1;} 100%{opacity:0;}",wk=ya("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ak=ya("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,_k=(t,e)=>{let n=t.includes("top")?1:-1,[i,r]=CS()?[Sk,Ek]:[Tk(n),Ck(n)];return{animation:e?`${wr(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wr(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Nk=N.memo(({toast:t,position:e,style:n,children:i})=>{let r=t.height?_k(t.position||e||"top-center",t.visible):{opacity:0},o=N.createElement(bk,{toast:t}),s=N.createElement(Ak,{...t.ariaProps},pd(t.message,t));return N.createElement(wk,{className:t.className,style:{...r,...n,...t.style}},typeof i=="function"?i({icon:o,message:s}):N.createElement(N.Fragment,null,o,s))});ZD(N.createElement);var Ik=({id:t,className:e,style:n,onHeightUpdate:i,children:r})=>{let o=N.useCallback(s=>{if(s){let u=()=>{let d=s.getBoundingClientRect().height;i(t,d)};u(),new MutationObserver(u).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return N.createElement("div",{ref:o,className:e,style:n},r)},Dk=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:CS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...r}},kk=Zd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Oc=16,Mk=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:r,containerStyle:o,containerClassName:s})=>{let{toasts:u,handlers:d}=ok(n);return N.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Oc,left:Oc,right:Oc,bottom:Oc,pointerEvents:"none",...o},className:s,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(f=>{let h=f.position||e,v=d.calculateOffset(f,{reverseOrder:t,gutter:i,defaultPosition:e}),T=Dk(h,v);return N.createElement(Ik,{id:f.id,key:f.id,onHeightUpdate:d.updateHeight,className:f.visible?kk:"",style:T},f.type==="custom"?pd(f.message,f):r?r(f):N.createElement(Nk,{toast:f,position:h}))}))},fe=Cn;const Rk=()=>{const t=Te(f=>f.isModalAlertOpen),e=Te(f=>f.modalAlertConfig),n=Te(f=>f.closeModalAlert),i=N.useRef(null);if(N.useEffect(()=>{t&&setTimeout(()=>{var f;return(f=i.current)==null?void 0:f.focus()},0)},[t]),!t||!e)return null;const{title:r,message:o,type:s,actions:u}=e,d=f=>{switch(f){case"info":return y.jsx(me,{name:"info",size:"lg",className:"text-sky-400 mr-3 flex-shrink-0"});case"success":return y.jsx(me,{name:"successCircle",size:"lg",className:"text-emerald-400 mr-3 flex-shrink-0"});case"warning":return y.jsx(me,{name:"alertTriangle",size:"lg",className:"text-amber-400 mr-3 flex-shrink-0"});case"error":return y.jsx(me,{name:"errorCircle",size:"lg",className:"text-red-400 mr-3 flex-shrink-0"});default:return null}};return y.jsx("div",{className:"modal-overlay",onClick:n,role:"alertdialog","aria-modal":"true","aria-labelledby":"modal-alert-title","aria-describedby":"modal-alert-message",children:y.jsxs("div",{ref:i,tabIndex:-1,className:"modal-content custom-scrollbar-themed relative max-w-md w-full",onClick:f=>f.stopPropagation(),"aria-labelledby":"modal-alert-title","aria-describedby":"modal-alert-message",children:[y.jsx(we,{variant:"icon",size:"sm",onClick:n,className:"absolute top-3 right-3 !p-1 text-gray-400 hover:text-gray-200","aria-label":U.modalAlertCloseButtonAriaLabel,children:y.jsx(me,{name:"close",size:"md"})}),y.jsxs("div",{className:"flex items-start",children:[d(s),y.jsxs("div",{className:"flex-grow",children:[y.jsx("h2",{id:"modal-alert-title",className:"text-xl font-semibold text-purple-300 mb-2",children:r}),y.jsx("p",{id:"modal-alert-message",className:"text-gray-300 mb-6 whitespace-pre-wrap",children:o})]})]}),y.jsx("div",{className:"flex justify-end space-x-3",children:u&&u.length>0?u.map((f,h)=>y.jsx(we,{variant:f.variant||"secondary",onClick:()=>{f.onClick()},autoFocus:h===0,children:f.text},h)):y.jsx(we,{variant:"primary",onClick:n,autoFocus:!0,children:U.modalAlertDefaultOkButton})})]})})};class Mh extends N.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null},this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),this.props.onError?this.props.onError(e,n):console.error("ErrorBoundary caught an error:",e,n)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:y.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4 sm:p-6 text-center bg-gray-800 rounded-lg text-gray-300",role:"alert",children:[y.jsx(me,{name:"errorCircle",size:"w-16 h-16",className:"mb-4 text-red-500"}),y.jsx("h2",{className:"text-xl font-semibold text-red-400 mb-2",children:U.genericErrorNotification||"Παρουσιάστηκε ένα σφάλμα"}),y.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Κάτι πήγε στραβά κατά την προσπάθεια εμφάνισης αυτού του τμήματος. Παρακαλώ δοκιμάστε ξανά."}),this.state.error&&y.jsxs("details",{className:"mb-4 text-xs text-gray-500 text-left bg-gray-700 p-2 rounded w-full max-w-lg overflow-auto",children:[y.jsx("summary",{children:"Λεπτομέρειες Σφάλματος (για προγραμματιστές)"}),y.jsxs("pre",{className:"mt-2 whitespace-pre-wrap",children:[this.state.error.message,((e=this.state.errorInfo)==null?void 0:e.componentStack)&&`

Component Stack:
${this.state.errorInfo.componentStack}`]})]}),y.jsx(we,{variant:"secondary",onClick:this.handleRetry,children:"Δοκιμάστε Ξανά"})]}):this.props.children}}const ao=De.forwardRef(({className:t="",hasError:e,hasWarning:n,hasSuccess:i,...r},o)=>{const s="font-[var(--font-sans)] text-[var(--font-size-sm)] w-full p-3 bg-gray-800 text-gray-200 border rounded-md focus:ring-2 placeholder-gray-500 resize-y transition-colors duration-150 ease-in-out";let u="border-gray-600 focus:ring-purple-500 focus:border-purple-500";return e?u="border-red-500 focus:ring-red-500 focus:border-red-500":n?u="border-amber-500 focus:ring-amber-500 focus:border-amber-500":i&&(u="border-green-500 focus:ring-green-500 focus:border-green-500"),y.jsx("textarea",{className:`${s} ${u} ${t}`,ref:o,"data-testid":r["data-testid"]||r.id||r.name,...r})});ao.displayName="Textarea";const Lk=({isOpen:t,onClose:e,draftContent:n,error:i,isLoading:r,contactName:o,onSendEmail:s,onCopyToClipboard:u})=>{const[d,f]=N.useState(n||""),h=N.useRef(null),v=N.useRef(null);if(N.useEffect(()=>{n!==null&&f(n)},[n]),N.useEffect(()=>{t&&setTimeout(!r&&!i&&n?()=>{var E;return(E=v.current)==null?void 0:E.focus()}:()=>{var E;return(E=h.current)==null?void 0:E.focus()},100)},[t,r,i,n]),!t)return null;const T=()=>{d&&navigator.clipboard.writeText(d).then(()=>{fe.success(U.aiDraftEmailCopiedSuccess),u&&u(d)}).catch(E=>{console.error("Failed to copy email draft: ",E),fe.error("Αποτυχία αντιγραφής.")})},C=()=>{d.trim()?s(d.trim()):fe.error("Το περιεχόμενο του email δεν μπορεί να είναι κενό.")},S=U.aiDraftEmailModalTitle(o);return y.jsx("div",{className:"modal-overlay",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"ai-draft-email-modal-title","aria-describedby":r||i?"ai-draft-email-status-message":"ai-draft-email-content",children:y.jsxs("div",{ref:h,tabIndex:-1,className:"modal-content custom-scrollbar-themed relative max-w-2xl w-full flex flex-col",onClick:E=>E.stopPropagation(),children:[y.jsx(we,{variant:"icon",size:"sm",onClick:e,className:"absolute top-3 right-3 !p-1 text-gray-400 hover:text-gray-200","aria-label":U.aiDraftEmailCloseButton,children:y.jsx(me,{name:"close",size:"md"})}),y.jsx("h2",{id:"ai-draft-email-modal-title",className:"text-xl font-semibold text-purple-300 mb-4",children:S}),y.jsxs("div",{className:"flex-grow overflow-hidden mb-6",children:[" ",r&&y.jsxs("div",{id:"ai-draft-email-status-message",className:"flex items-center justify-center p-6 h-full",children:[y.jsx(me,{name:"spinner",size:"lg",className:"text-purple-400 mr-3"}),y.jsx("p",{className:"text-gray-300",children:U.aiDraftEmailLoadingMessage})]}),i&&!r&&y.jsxs("div",{id:"ai-draft-email-status-message",className:"p-3 bg-red-900/30 rounded-md text-red-300 h-full",children:[y.jsxs("p",{className:"font-semibold",children:[U.aiDraftEmailErrorPreamble,":"]}),y.jsx(hn,{axis:"y",className:"max-h-[40vh]",children:y.jsx("p",{className:"whitespace-pre-wrap",children:i})})]}),!r&&!i&&n!==null&&y.jsx(hn,{axis:"y",className:"h-full",children:y.jsx(ao,{ref:v,id:"ai-draft-email-content",value:d,onChange:E=>f(E.target.value),placeholder:"AI Generated Email Draft",className:"w-full h-full text-sm !bg-slate-800 !border-slate-600 min-h-[200px] sm:min-h-[250px] resize-none",rows:10})}),!r&&!i&&n===null&&y.jsx("p",{id:"ai-draft-email-status-message",className:"text-gray-400 italic p-6 text-center h-full flex items-center justify-center",children:"Δεν υπάρχει διαθέσιμο προσχέδιο."})]}),y.jsxs("div",{className:"flex justify-end space-x-3 border-t border-slate-700 pt-4",children:[y.jsx(we,{variant:"secondary",onClick:e,children:U.aiDraftEmailCloseButton}),y.jsx(we,{variant:"ghost",onClick:T,leftIcon:y.jsx(me,{name:"clipboardDocument",size:"sm"}),disabled:r||!!i||!d.trim(),children:U.aiDraftEmailCopyButton}),y.jsx(we,{variant:"primary",onClick:C,leftIcon:y.jsx(me,{name:"paperAirplane",size:"sm"}),disabled:r||!!i||!d.trim(),children:U.aiDraftEmailSendButton})]})]})})},Ok=[{id:Ce(),from:"6971234567",to:"my_mock_line",status:"disconnected",direction:"inbound",startTime:new Date(Date.now()-2*60*60*1e3).toISOString(),endTime:new Date(Date.now()-2*60*60*1e3+5*60*1e3).toISOString(),durationSeconds:300,contactId:"3",contactDisplayName:"Γιώργος Ιωάννου",voipSystem:"mock",subject:"Συζήτηση για Project Alpha",hangupReason:"remote_hangup"},{id:Ce(),from:"my_mock_line",to:"2109876543",status:"disconnected",direction:"outbound",startTime:new Date(Date.now()-1*60*60*1e3).toISOString(),endTime:new Date(Date.now()-1*60*60*1e3+10*60*1e3).toISOString(),durationSeconds:600,contactId:"2",contactDisplayName:"ΤΕΧΝΙΚΗ ΚΑΤΑΣΚΕΥΑΣΤΙΚΗ Α.Ε.",voipSystem:"mock",hangupReason:"local_hangup"},{id:Ce(),from:"6900000001",to:"my_mock_line",status:"missed",direction:"inbound",startTime:new Date(Date.now()-30*60*1e3).toISOString(),endTime:new Date(Date.now()-30*60*1e3+30*1e3).toISOString(),durationSeconds:0,voipSystem:"mock",hangupReason:"missed"},{id:Ce(),from:"my_mock_line",to:"6911223344",status:"failed",direction:"outbound",startTime:new Date(Date.now()-15*60*1e3).toISOString(),endTime:new Date(Date.now()-15*60*1e3+10*1e3).toISOString(),durationSeconds:0,voipSystem:"mock",errorMessage:"Ο αριθμός δεν απαντά",hangupReason:"call_failed"},{id:Ce(),from:"my_mock_line",to:"2101234567",status:"disconnected",direction:"outbound",startTime:new Date(Date.now()-3*24*60*60*1e3).toISOString(),endTime:new Date(Date.now()-3*24*60*60*1e3+120*1e3).toISOString(),durationSeconds:120,contactId:"1",contactDisplayName:"Μαρία Παπαδοπούλου",voipSystem:"mock",subject:"Ερώτηση για ακίνητο",hangupReason:"local_hangup"}],Pk={activeCalls:[],callLog:Ok,isDialPadOpen:!1,currentCallError:null,selectedCallIdForUI:null},Tn=no()(io((t,e)=>({...Pk,addOrUpdateActiveCall:n=>t(i=>{const r=i.activeCalls.findIndex(u=>u.id===n.id);let o={...n};if(o.endTime&&o.startTime&&o.durationSeconds===void 0&&(o.durationSeconds=Math.max(0,Math.round((new Date(o.endTime).getTime()-new Date(o.startTime).getTime())/1e3))),r!==-1?i.activeCalls[r]={...i.activeCalls[r],...o}:i.activeCalls.push(o),["disconnected","failed","missed","busy","voicemail"].includes(o.status)){const u=i.callLog.findIndex(d=>d.id===o.id);u!==-1?i.callLog[u]={...i.callLog[u],...o}:i.callLog.unshift(o),i.activeCalls=i.activeCalls.filter(d=>d.id!==o.id),i.selectedCallIdForUI===o.id&&(i.selectedCallIdForUI=null,i.isDialPadOpen=!1)}else i.activeCalls.length===1&&!i.selectedCallIdForUI&&(i.selectedCallIdForUI=o.id)}),removeActiveCall:(n,i,r)=>t(o=>{const s=o.activeCalls.findIndex(u=>u.id===n);if(s!==-1){const u={...o.activeCalls[s]};i&&(u.status=i),r&&(u.hangupReason=r),u.endTime||(u.endTime=new Date().toISOString()),u.startTime&&u.endTime&&u.durationSeconds===void 0&&(u.durationSeconds=Math.max(0,Math.round((new Date(u.endTime).getTime()-new Date(u.startTime).getTime())/1e3))),o.activeCalls.splice(s,1);const d=o.callLog.findIndex(f=>f.id===u.id);d!==-1?o.callLog[d]={...o.callLog[d],...u}:o.callLog.unshift(u),o.selectedCallIdForUI===n&&(o.selectedCallIdForUI=o.activeCalls.length>0?o.activeCalls[0].id:null,o.isDialPadOpen=!1)}}),clearActiveCalls:()=>t(n=>{n.activeCalls=[],n.selectedCallIdForUI=null,n.isDialPadOpen=!1}),addEndedCallToLog:n=>t(i=>{let r={...n};r.endTime&&r.startTime&&r.durationSeconds===void 0&&(r.durationSeconds=Math.max(0,Math.round((new Date(r.endTime).getTime()-new Date(r.startTime).getTime())/1e3)));const o=i.callLog.findIndex(s=>s.id===r.id);o!==-1?i.callLog[o]={...i.callLog[o],...r}:i.callLog.unshift(r),i.activeCalls=i.activeCalls.filter(s=>s.id!==r.id)}),updateCallInLog:(n,i)=>t(r=>{const o=r.callLog.findIndex(s=>s.id===n);o!==-1&&(r.callLog[o]={...r.callLog[o],...i},i.endTime&&r.callLog[o].startTime&&i.durationSeconds===void 0&&(r.callLog[o].durationSeconds=Math.max(0,Math.round((new Date(i.endTime).getTime()-new Date(r.callLog[o].startTime).getTime())/1e3))))}),clearCallLogError:n=>t(i=>{const r=i.callLog.findIndex(o=>o.id===n);r!==-1&&i.callLog[r].errorMessage&&(i.callLog[r].errorMessage=void 0)}),clearAllCallLogs:()=>t(n=>{n.callLog=[]}),setDialPadOpen:n=>t(i=>{i.isDialPadOpen=n}),setCurrentCallError:n=>t(i=>{i.currentCallError=n}),setSelectedCallIdForUI:n=>t(i=>{i.selectedCallIdForUI=n,n||(i.isDialPadOpen=!1)})}))),sa=no()(io((t,e)=>({notes:DD,isLoading:!1,error:null,setNotes:n=>t(i=>{i.notes=n,i.isLoading=!1,i.error=null}),addNote:n=>{t(i=>{i.notes.unshift(n)})},updateNote:n=>{t(i=>{const r=i.notes.findIndex(o=>o.id===n.id);r!==-1?i.notes[r]=n:console.warn(`[notesStore] Note with id ${n.id} not found for update.`)})},deleteNote:n=>t(i=>{i.notes=i.notes.filter(r=>r.id!==n)}),getNotesByEntity:(n,i)=>e().notes.filter(o=>o.entityId===n&&o.entityType===i)})));var tt;(function(t){t.assertEqual=r=>{};function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const o={};for(const s of r)o[s]=s;return o},t.getValidEnumValues=r=>{const o=t.objectKeys(r).filter(u=>typeof r[r[u]]!="number"),s={};for(const u of o)s[u]=r[u];return t.objectValues(s)},t.objectValues=r=>t.objectKeys(r).map(function(o){return r[o]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const o=[];for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&o.push(s);return o},t.find=(r,o)=>{for(const s of r)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function i(r,o=" | "){return r.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=i,t.jsonStringifyReplacer=(r,o)=>typeof o=="bigint"?o.toString():o})(tt||(tt={}));var W1;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(W1||(W1={}));const Se=tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ia=t=>{switch(typeof t){case"undefined":return Se.undefined;case"string":return Se.string;case"number":return Number.isNaN(t)?Se.nan:Se.number;case"boolean":return Se.boolean;case"function":return Se.function;case"bigint":return Se.bigint;case"symbol":return Se.symbol;case"object":return Array.isArray(t)?Se.array:t===null?Se.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Se.promise:typeof Map<"u"&&t instanceof Map?Se.map:typeof Set<"u"&&t instanceof Set?Se.set:typeof Date<"u"&&t instanceof Date?Se.date:Se.object;default:return Se.unknown}},ge=tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},i={_errors:[]},r=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(r);else if(s.code==="invalid_return_type")r(s.returnTypeError);else if(s.code==="invalid_arguments")r(s.argumentsError);else if(s.path.length===0)i._errors.push(n(s));else{let u=i,d=0;for(;d<s.path.length;){const f=s.path[d];d===s.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(s))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return r(this),i}static assert(e){if(!(e instanceof Qn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const r of this.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Qn.create=t=>new Qn(t);const Rh=(t,e)=>{let n;switch(t.code){case ge.invalid_type:t.received===Se.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ge.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,tt.jsonStringifyReplacer)}`;break;case ge.unrecognized_keys:n=`Unrecognized key(s) in object: ${tt.joinValues(t.keys,", ")}`;break;case ge.invalid_union:n="Invalid input";break;case ge.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${tt.joinValues(t.options)}`;break;case ge.invalid_enum_value:n=`Invalid enum value. Expected ${tt.joinValues(t.options)}, received '${t.received}'`;break;case ge.invalid_arguments:n="Invalid function arguments";break;case ge.invalid_return_type:n="Invalid function return type";break;case ge.invalid_date:n="Invalid date";break;case ge.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:tt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ge.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ge.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ge.custom:n="Invalid input";break;case ge.invalid_intersection_types:n="Intersection results could not be merged";break;case ge.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ge.not_finite:n="Number must be finite";break;default:n=e.defaultError,tt.assertNever(t)}return{message:n}};let Uk=Rh;function jk(){return Uk}const zk=t=>{const{data:e,path:n,errorMaps:i,issueData:r}=t,o=[...n,...r.path||[]],s={...r,path:o};if(r.message!==void 0)return{...r,path:o,message:r.message};let u="";const d=i.filter(f=>!!f).slice().reverse();for(const f of d)u=f(s,{data:e,defaultError:u}).message;return{...r,path:o,message:u}};function be(t,e){const n=jk(),i=zk({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Rh?void 0:Rh].filter(r=>!!r)});t.common.issues.push(i)}class wn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const r of n){if(r.status==="aborted")return Fe;r.status==="dirty"&&e.dirty(),i.push(r.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const r of n){const o=await r.key,s=await r.value;i.push({key:o,value:s})}return wn.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const r of n){const{key:o,value:s}=r;if(o.status==="aborted"||s.status==="aborted")return Fe;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||r.alwaysSet)&&(i[o.value]=s.value)}return{status:e.value,value:i}}}const Fe=Object.freeze({status:"aborted"}),Ps=t=>({status:"dirty",value:t}),hi=t=>({status:"valid",value:t}),Y1=t=>t.status==="aborted",Z1=t=>t.status==="dirty",pl=t=>t.status==="valid",hd=t=>typeof Promise<"u"&&t instanceof Promise;var _e;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_e||(_e={}));class Ji{constructor(e,n,i,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const K1=(t,e)=>{if(pl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Qn(t.common.issues);return this._error=n,this._error}}};function Ge(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:r}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(s,u)=>{const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:d??i??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:d??n??u.defaultError}},description:r}}class Xe{get description(){return this._def.description}_getType(e){return ia(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ia(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new wn,ctx:{common:e.parent.common,data:e.data,parsedType:ia(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(hd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ia(e)},r=this._parseSync({data:e,path:i.path,parent:i});return K1(i,r)}"~validate"(e){var i,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ia(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return pl(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(r=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>pl(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ia(e)},r=this._parse({data:e,path:i.path,parent:i}),o=await(hd(r)?r:Promise.resolve(r));return K1(i,o)}refine(e,n){const i=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,o)=>{const s=e(r),u=()=>o.addIssue({code:ge.custom,...i(r)});return typeof Promise<"u"&&s instanceof Promise?s.then(d=>d?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,n){return this._refinement((i,r)=>e(i)?!0:(r.addIssue(typeof n=="function"?n(i,r):n),!1))}_refinement(e){return new Ja({schema:this,typeName:Be.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Sr.create(this,this._def)}nullable(){return Qa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yi.create(this)}promise(){return Cd.create(this,this._def)}or(e){return yd.create([this,e],this._def)}and(e){return vd.create(this,e,this._def)}transform(e){return new Ja({...Ge(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Sd({...Ge(this._def),innerType:this,defaultValue:n,typeName:Be.ZodDefault})}brand(){return new _S({typeName:Be.ZodBranded,type:this,...Ge(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ed({...Ge(this._def),innerType:this,catchValue:n,typeName:Be.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Lg.create(this,e)}readonly(){return wd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Vk=/^c[^\s-]{8,}$/i,Fk=/^[0-9a-z]+$/,Bk=/^[0-9A-HJKMNP-TV-Z]{26}$/i,$k=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Hk=/^[a-z0-9_-]{21}$/i,Gk=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,qk=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Wk=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Yk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pp;const Zk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Kk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Xk=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Jk=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Qk=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,eM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ES="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",tM=new RegExp(`^${ES}$`);function wS(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function nM(t){return new RegExp(`^${wS(t)}$`)}function iM(t){let e=`${ES}T${wS(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function rM(t,e){return!!((e==="v4"||!e)&&Zk.test(t)||(e==="v6"||!e)&&Xk.test(t))}function aM(t,e){if(!Gk.test(t))return!1;try{const[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(i));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function oM(t,e){return!!((e==="v4"||!e)&&Kk.test(t)||(e==="v6"||!e)&&Jk.test(t))}class Hi extends Xe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Se.string){const o=this._getOrReturnCtx(e);return be(o,{code:ge.invalid_type,expected:Se.string,received:o.parsedType}),Fe}const i=new wn;let r;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(r=this._getOrReturnCtx(e,r),be(r,{code:ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(r=this._getOrReturnCtx(e,r),be(r,{code:ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,u=e.data.length<o.value;(s||u)&&(r=this._getOrReturnCtx(e,r),s?be(r,{code:ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&be(r,{code:ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")Wk.test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"email",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")Pp||(Pp=new RegExp(Yk,"u")),Pp.test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"emoji",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")$k.test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"uuid",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")Hk.test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"nanoid",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")Vk.test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"cuid",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")Fk.test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"cuid2",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")Bk.test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"ulid",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),be(r,{validation:"url",code:ge.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"regex",code:ge.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(r=this._getOrReturnCtx(e,r),be(r,{code:ge.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(r=this._getOrReturnCtx(e,r),be(r,{code:ge.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(r=this._getOrReturnCtx(e,r),be(r,{code:ge.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?iM(o).test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{code:ge.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?tM.test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{code:ge.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?nM(o).test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{code:ge.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?qk.test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"duration",code:ge.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?rM(e.data,o.version)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"ip",code:ge.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?aM(e.data,o.alg)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"jwt",code:ge.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?oM(e.data,o.version)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"cidr",code:ge.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?Qk.test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"base64",code:ge.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?eM.test(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{validation:"base64url",code:ge.invalid_string,message:o.message}),i.dirty()):tt.assertNever(o);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(r=>e.test(r),{validation:n,code:ge.invalid_string,..._e.errToObj(i)})}_addCheck(e){return new Hi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._e.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._e.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._e.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._e.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._e.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._e.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._e.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._e.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._e.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._e.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._e.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._e.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._e.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,..._e.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._e.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._e.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,..._e.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,..._e.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,..._e.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,..._e.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,..._e.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,..._e.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,..._e.errToObj(n)})}nonempty(e){return this.min(1,_e.errToObj(e))}trim(){return new Hi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hi.create=t=>new Hi({checks:[],typeName:Be.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ge(t)});function lM(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=n>i?n:i,o=Number.parseInt(t.toFixed(r).replace(".","")),s=Number.parseInt(e.toFixed(r).replace(".",""));return o%s/10**r}class Ya extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Se.number){const o=this._getOrReturnCtx(e);return be(o,{code:ge.invalid_type,expected:Se.number,received:o.parsedType}),Fe}let i;const r=new wn;for(const o of this._def.checks)o.kind==="int"?tt.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:ge.invalid_type,expected:"integer",received:"float",message:o.message}),r.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),be(i,{code:ge.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),r.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),be(i,{code:ge.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),r.dirty()):o.kind==="multipleOf"?lM(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),be(i,{code:ge.not_multiple_of,multipleOf:o.value,message:o.message}),r.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:ge.not_finite,message:o.message}),r.dirty()):tt.assertNever(o);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_e.toString(n))}setLimit(e,n,i,r){return new Ya({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:_e.toString(r)}]})}_addCheck(e){return new Ya({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_e.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:_e.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_e.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_e.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&tt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ya.create=t=>new Ya({checks:[],typeName:Be.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ge(t)});class Za extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Se.bigint)return this._getInvalidInput(e);let i;const r=new wn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),be(i,{code:ge.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),r.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),be(i,{code:ge.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),r.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),be(i,{code:ge.not_multiple_of,multipleOf:o.value,message:o.message}),r.dirty()):tt.assertNever(o);return{status:r.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return be(n,{code:ge.invalid_type,expected:Se.bigint,received:n.parsedType}),Fe}gte(e,n){return this.setLimit("min",e,!0,_e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_e.toString(n))}setLimit(e,n,i,r){return new Za({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:_e.toString(r)}]})}_addCheck(e){return new Za({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Za.create=t=>new Za({checks:[],typeName:Be.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ge(t)});class gd extends Xe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Se.boolean){const i=this._getOrReturnCtx(e);return be(i,{code:ge.invalid_type,expected:Se.boolean,received:i.parsedType}),Fe}return hi(e.data)}}gd.create=t=>new gd({typeName:Be.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ge(t)});class hl extends Xe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Se.date){const o=this._getOrReturnCtx(e);return be(o,{code:ge.invalid_type,expected:Se.date,received:o.parsedType}),Fe}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return be(o,{code:ge.invalid_date}),Fe}const i=new wn;let r;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(r=this._getOrReturnCtx(e,r),be(r,{code:ge.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(r=this._getOrReturnCtx(e,r),be(r,{code:ge.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):tt.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new hl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:_e.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:_e.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}hl.create=t=>new hl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Be.ZodDate,...Ge(t)});class X1 extends Xe{_parse(e){if(this._getType(e)!==Se.symbol){const i=this._getOrReturnCtx(e);return be(i,{code:ge.invalid_type,expected:Se.symbol,received:i.parsedType}),Fe}return hi(e.data)}}X1.create=t=>new X1({typeName:Be.ZodSymbol,...Ge(t)});class Lh extends Xe{_parse(e){if(this._getType(e)!==Se.undefined){const i=this._getOrReturnCtx(e);return be(i,{code:ge.invalid_type,expected:Se.undefined,received:i.parsedType}),Fe}return hi(e.data)}}Lh.create=t=>new Lh({typeName:Be.ZodUndefined,...Ge(t)});class Oh extends Xe{_parse(e){if(this._getType(e)!==Se.null){const i=this._getOrReturnCtx(e);return be(i,{code:ge.invalid_type,expected:Se.null,received:i.parsedType}),Fe}return hi(e.data)}}Oh.create=t=>new Oh({typeName:Be.ZodNull,...Ge(t)});class J1 extends Xe{constructor(){super(...arguments),this._any=!0}_parse(e){return hi(e.data)}}J1.create=t=>new J1({typeName:Be.ZodAny,...Ge(t)});class Ph extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return hi(e.data)}}Ph.create=t=>new Ph({typeName:Be.ZodUnknown,...Ge(t)});class fa extends Xe{_parse(e){const n=this._getOrReturnCtx(e);return be(n,{code:ge.invalid_type,expected:Se.never,received:n.parsedType}),Fe}}fa.create=t=>new fa({typeName:Be.ZodNever,...Ge(t)});class Q1 extends Xe{_parse(e){if(this._getType(e)!==Se.undefined){const i=this._getOrReturnCtx(e);return be(i,{code:ge.invalid_type,expected:Se.void,received:i.parsedType}),Fe}return hi(e.data)}}Q1.create=t=>new Q1({typeName:Be.ZodVoid,...Ge(t)});class Yi extends Xe{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),r=this._def;if(n.parsedType!==Se.array)return be(n,{code:ge.invalid_type,expected:Se.array,received:n.parsedType}),Fe;if(r.exactLength!==null){const s=n.data.length>r.exactLength.value,u=n.data.length<r.exactLength.value;(s||u)&&(be(n,{code:s?ge.too_big:ge.too_small,minimum:u?r.exactLength.value:void 0,maximum:s?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(be(n,{code:ge.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(be(n,{code:ge.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((s,u)=>r.type._parseAsync(new Ji(n,s,n.path,u)))).then(s=>wn.mergeArray(i,s));const o=[...n.data].map((s,u)=>r.type._parseSync(new Ji(n,s,n.path,u)));return wn.mergeArray(i,o)}get element(){return this._def.type}min(e,n){return new Yi({...this._def,minLength:{value:e,message:_e.toString(n)}})}max(e,n){return new Yi({...this._def,maxLength:{value:e,message:_e.toString(n)}})}length(e,n){return new Yi({...this._def,exactLength:{value:e,message:_e.toString(n)}})}nonempty(e){return this.min(1,e)}}Yi.create=(t,e)=>new Yi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...Ge(e)});function Jo(t){if(t instanceof Vt){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=Sr.create(Jo(i))}return new Vt({...t._def,shape:()=>e})}else return t instanceof Yi?new Yi({...t._def,type:Jo(t.element)}):t instanceof Sr?Sr.create(Jo(t.unwrap())):t instanceof Qa?Qa.create(Jo(t.unwrap())):t instanceof Ka?Ka.create(t.items.map(e=>Jo(e))):t}class Vt extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=tt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Se.object){const f=this._getOrReturnCtx(e);return be(f,{code:ge.invalid_type,expected:Se.object,received:f.parsedType}),Fe}const{status:i,ctx:r}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof fa&&this._def.unknownKeys==="strip"))for(const f in r.data)s.includes(f)||u.push(f);const d=[];for(const f of s){const h=o[f],v=r.data[f];d.push({key:{status:"valid",value:f},value:h._parse(new Ji(r,v,r.path,f)),alwaysSet:f in r.data})}if(this._def.catchall instanceof fa){const f=this._def.unknownKeys;if(f==="passthrough")for(const h of u)d.push({key:{status:"valid",value:h},value:{status:"valid",value:r.data[h]}});else if(f==="strict")u.length>0&&(be(r,{code:ge.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const h of u){const v=r.data[h];d.push({key:{status:"valid",value:h},value:f._parse(new Ji(r,v,r.path,h)),alwaysSet:h in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const f=[];for(const h of d){const v=await h.key,T=await h.value;f.push({key:v,value:T,alwaysSet:h.alwaysSet})}return f}).then(f=>wn.mergeObjectSync(i,f)):wn.mergeObjectSync(i,d)}get shape(){return this._def.shape()}strict(e){return _e.errToObj,new Vt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var o,s;const r=((s=(o=this._def).errorMap)==null?void 0:s.call(o,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:_e.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new Vt({...this._def,unknownKeys:"strip"})}passthrough(){return new Vt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Vt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Vt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Be.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Vt({...this._def,catchall:e})}pick(e){const n={};for(const i of tt.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new Vt({...this._def,shape:()=>n})}omit(e){const n={};for(const i of tt.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new Vt({...this._def,shape:()=>n})}deepPartial(){return Jo(this)}partial(e){const n={};for(const i of tt.objectKeys(this.shape)){const r=this.shape[i];e&&!e[i]?n[i]=r:n[i]=r.optional()}return new Vt({...this._def,shape:()=>n})}required(e){const n={};for(const i of tt.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof Sr;)o=o._def.innerType;n[i]=o}return new Vt({...this._def,shape:()=>n})}keyof(){return AS(tt.objectKeys(this.shape))}}Vt.create=(t,e)=>new Vt({shape:()=>t,unknownKeys:"strip",catchall:fa.create(),typeName:Be.ZodObject,...Ge(e)});Vt.strictCreate=(t,e)=>new Vt({shape:()=>t,unknownKeys:"strict",catchall:fa.create(),typeName:Be.ZodObject,...Ge(e)});Vt.lazycreate=(t,e)=>new Vt({shape:t,unknownKeys:"strip",catchall:fa.create(),typeName:Be.ZodObject,...Ge(e)});class yd extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function r(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const s=o.map(u=>new Qn(u.ctx.common.issues));return be(n,{code:ge.invalid_union,unionErrors:s}),Fe}if(n.common.async)return Promise.all(i.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(r);{let o;const s=[];for(const d of i){const f={...n,common:{...n.common,issues:[]},parent:null},h=d._parseSync({data:n.data,path:n.path,parent:f});if(h.status==="valid")return h;h.status==="dirty"&&!o&&(o={result:h,ctx:f}),f.common.issues.length&&s.push(f.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const u=s.map(d=>new Qn(d));return be(n,{code:ge.invalid_union,unionErrors:u}),Fe}}get options(){return this._def.options}}yd.create=(t,e)=>new yd({options:t,typeName:Be.ZodUnion,...Ge(e)});const Tr=t=>t instanceof bd?Tr(t.schema):t instanceof Ja?Tr(t.innerType()):t instanceof Td?[t.value]:t instanceof Xa?t.options:t instanceof jh?tt.objectValues(t.enum):t instanceof Sd?Tr(t._def.innerType):t instanceof Lh?[void 0]:t instanceof Oh?[null]:t instanceof Sr?[void 0,...Tr(t.unwrap())]:t instanceof Qa?[null,...Tr(t.unwrap())]:t instanceof _S||t instanceof wd?Tr(t.unwrap()):t instanceof Ed?Tr(t._def.innerType):[];class Rg extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.object)return be(n,{code:ge.invalid_type,expected:Se.object,received:n.parsedType}),Fe;const i=this.discriminator,r=n.data[i],o=this.optionsMap.get(r);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(be(n,{code:ge.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),Fe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,i){const r=new Map;for(const o of n){const s=Tr(o.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of s){if(r.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);r.set(u,o)}}return new Rg({typeName:Be.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:r,...Ge(i)})}}function Uh(t,e){const n=ia(t),i=ia(e);if(t===e)return{valid:!0,data:t};if(n===Se.object&&i===Se.object){const r=tt.objectKeys(e),o=tt.objectKeys(t).filter(u=>r.indexOf(u)!==-1),s={...t,...e};for(const u of o){const d=Uh(t[u],e[u]);if(!d.valid)return{valid:!1};s[u]=d.data}return{valid:!0,data:s}}else if(n===Se.array&&i===Se.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let o=0;o<t.length;o++){const s=t[o],u=e[o],d=Uh(s,u);if(!d.valid)return{valid:!1};r.push(d.data)}return{valid:!0,data:r}}else return n===Se.date&&i===Se.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class vd extends Xe{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),r=(o,s)=>{if(Y1(o)||Y1(s))return Fe;const u=Uh(o.value,s.value);return u.valid?((Z1(o)||Z1(s))&&n.dirty(),{status:n.value,value:u.data}):(be(i,{code:ge.invalid_intersection_types}),Fe)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,s])=>r(o,s)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}vd.create=(t,e,n)=>new vd({left:t,right:e,typeName:Be.ZodIntersection,...Ge(n)});class Ka extends Xe{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==Se.array)return be(i,{code:ge.invalid_type,expected:Se.array,received:i.parsedType}),Fe;if(i.data.length<this._def.items.length)return be(i,{code:ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Fe;!this._def.rest&&i.data.length>this._def.items.length&&(be(i,{code:ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...i.data].map((s,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Ji(i,s,i.path,u)):null}).filter(s=>!!s);return i.common.async?Promise.all(o).then(s=>wn.mergeArray(n,s)):wn.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Ka({...this._def,rest:e})}}Ka.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ka({items:t,typeName:Be.ZodTuple,rest:null,...Ge(e)})};class xd extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==Se.object)return be(i,{code:ge.invalid_type,expected:Se.object,received:i.parsedType}),Fe;const r=[],o=this._def.keyType,s=this._def.valueType;for(const u in i.data)r.push({key:o._parse(new Ji(i,u,i.path,u)),value:s._parse(new Ji(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?wn.mergeObjectAsync(n,r):wn.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof Xe?new xd({keyType:e,valueType:n,typeName:Be.ZodRecord,...Ge(i)}):new xd({keyType:Hi.create(),valueType:e,typeName:Be.ZodRecord,...Ge(n)})}}class eb extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==Se.map)return be(i,{code:ge.invalid_type,expected:Se.map,received:i.parsedType}),Fe;const r=this._def.keyType,o=this._def.valueType,s=[...i.data.entries()].map(([u,d],f)=>({key:r._parse(new Ji(i,u,i.path,[f,"key"])),value:o._parse(new Ji(i,d,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of s){const f=await d.key,h=await d.value;if(f.status==="aborted"||h.status==="aborted")return Fe;(f.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(f.value,h.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of s){const f=d.key,h=d.value;if(f.status==="aborted"||h.status==="aborted")return Fe;(f.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(f.value,h.value)}return{status:n.value,value:u}}}}eb.create=(t,e,n)=>new eb({valueType:e,keyType:t,typeName:Be.ZodMap,...Ge(n)});class Qs extends Xe{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==Se.set)return be(i,{code:ge.invalid_type,expected:Se.set,received:i.parsedType}),Fe;const r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(be(i,{code:ge.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(be(i,{code:ge.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const o=this._def.valueType;function s(d){const f=new Set;for(const h of d){if(h.status==="aborted")return Fe;h.status==="dirty"&&n.dirty(),f.add(h.value)}return{status:n.value,value:f}}const u=[...i.data.values()].map((d,f)=>o._parse(new Ji(i,d,i.path,f)));return i.common.async?Promise.all(u).then(d=>s(d)):s(u)}min(e,n){return new Qs({...this._def,minSize:{value:e,message:_e.toString(n)}})}max(e,n){return new Qs({...this._def,maxSize:{value:e,message:_e.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Qs.create=(t,e)=>new Qs({valueType:t,minSize:null,maxSize:null,typeName:Be.ZodSet,...Ge(e)});class bd extends Xe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}bd.create=(t,e)=>new bd({getter:t,typeName:Be.ZodLazy,...Ge(e)});class Td extends Xe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return be(n,{received:n.data,code:ge.invalid_literal,expected:this._def.value}),Fe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Td.create=(t,e)=>new Td({value:t,typeName:Be.ZodLiteral,...Ge(e)});function AS(t,e){return new Xa({values:t,typeName:Be.ZodEnum,...Ge(e)})}class Xa extends Xe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return be(n,{expected:tt.joinValues(i),received:n.parsedType,code:ge.invalid_type}),Fe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return be(n,{received:n.data,code:ge.invalid_enum_value,options:i}),Fe}return hi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Xa.create(e,{...this._def,...n})}exclude(e,n=this._def){return Xa.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}Xa.create=AS;class jh extends Xe{_parse(e){const n=tt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==Se.string&&i.parsedType!==Se.number){const r=tt.objectValues(n);return be(i,{expected:tt.joinValues(r),received:i.parsedType,code:ge.invalid_type}),Fe}if(this._cache||(this._cache=new Set(tt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=tt.objectValues(n);return be(i,{received:i.data,code:ge.invalid_enum_value,options:r}),Fe}return hi(e.data)}get enum(){return this._def.values}}jh.create=(t,e)=>new jh({values:t,typeName:Be.ZodNativeEnum,...Ge(e)});class Cd extends Xe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.promise&&n.common.async===!1)return be(n,{code:ge.invalid_type,expected:Se.promise,received:n.parsedType}),Fe;const i=n.parsedType===Se.promise?n.data:Promise.resolve(n.data);return hi(i.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Cd.create=(t,e)=>new Cd({type:t,typeName:Be.ZodPromise,...Ge(e)});class Ja extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),r=this._def.effect||null,o={addIssue:s=>{be(i,s),s.fatal?n.abort():n.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),r.type==="preprocess"){const s=r.transform(i.data,o);if(i.common.async)return Promise.resolve(s).then(async u=>{if(n.value==="aborted")return Fe;const d=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return d.status==="aborted"?Fe:d.status==="dirty"||n.value==="dirty"?Ps(d.value):d});{if(n.value==="aborted")return Fe;const u=this._def.schema._parseSync({data:s,path:i.path,parent:i});return u.status==="aborted"?Fe:u.status==="dirty"||n.value==="dirty"?Ps(u.value):u}}if(r.type==="refinement"){const s=u=>{const d=r.refinement(u,o);if(i.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?Fe:(u.status==="dirty"&&n.dirty(),s(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?Fe:(u.status==="dirty"&&n.dirty(),s(u.value).then(()=>({status:n.value,value:u.value}))))}if(r.type==="transform")if(i.common.async===!1){const s=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!pl(s))return Fe;const u=r.transform(s.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(s=>pl(s)?Promise.resolve(r.transform(s.value,o)).then(u=>({status:n.value,value:u})):Fe);tt.assertNever(r)}}Ja.create=(t,e,n)=>new Ja({schema:t,typeName:Be.ZodEffects,effect:e,...Ge(n)});Ja.createWithPreprocess=(t,e,n)=>new Ja({schema:e,effect:{type:"preprocess",transform:t},typeName:Be.ZodEffects,...Ge(n)});class Sr extends Xe{_parse(e){return this._getType(e)===Se.undefined?hi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sr.create=(t,e)=>new Sr({innerType:t,typeName:Be.ZodOptional,...Ge(e)});class Qa extends Xe{_parse(e){return this._getType(e)===Se.null?hi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qa.create=(t,e)=>new Qa({innerType:t,typeName:Be.ZodNullable,...Ge(e)});class Sd extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===Se.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Sd.create=(t,e)=>new Sd({innerType:t,typeName:Be.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ge(e)});class Ed extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return hd(r)?r.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Qn(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Qn(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Ed.create=(t,e)=>new Ed({innerType:t,typeName:Be.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ge(e)});class tb extends Xe{_parse(e){if(this._getType(e)!==Se.nan){const i=this._getOrReturnCtx(e);return be(i,{code:ge.invalid_type,expected:Se.nan,received:i.parsedType}),Fe}return{status:"valid",value:e.data}}}tb.create=t=>new tb({typeName:Be.ZodNaN,...Ge(t)});class _S extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class Lg extends Xe{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Fe:o.status==="dirty"?(n.dirty(),Ps(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?Fe:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(e,n){return new Lg({in:e,out:n,typeName:Be.ZodPipeline})}}class wd extends Xe{_parse(e){const n=this._def.innerType._parse(e),i=r=>(pl(r)&&(r.value=Object.freeze(r.value)),r);return hd(n)?n.then(r=>i(r)):i(n)}unwrap(){return this._def.innerType}}wd.create=(t,e)=>new wd({innerType:t,typeName:Be.ZodReadonly,...Ge(e)});var Be;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Be||(Be={}));const xe=Hi.create,gl=Ya.create;Za.create;const Fi=gd.create;hl.create;const nb=Ph.create;fa.create;const qt=Yi.create,Mt=Vt.create,sM=yd.create,uM=Rg.create;vd.create;Ka.create;const cM=xd.create,dM=bd.create,du=Td.create,pn=Xa.create;Cd.create;Sr.create;Qa.create;const Wo={string:t=>Hi.create({...t,coerce:!0}),number:t=>Ya.create({...t,coerce:!0}),boolean:t=>gd.create({...t,coerce:!0}),bigint:t=>Za.create({...t,coerce:!0}),date:t=>hl.create({...t,coerce:!0})},fM=["contact","transaction","task","general"],NS=["private","team","public"],IS=["general","meeting","call_log","reminder","internal_comment","system_event"],mM=["group","company","project","building","floor","property","propertyAccessory","pipelineStage","pipelineEntry","activity","document"],pM=fM.filter(t=>t!=="contact"),DS=Array.from(new Set([...pM,"contact",...mM])),hM=Mt({userId:xe().min(1,{message:U.noteAuthorUserIdRequiredError}),displayName:xe().min(1,{message:U.noteAuthorDisplayNameRequiredError}),avatarUrl:xe().url({message:U.mustBeAValidUrl}).optional()}),gM=Mt({id:xe().min(1),fileName:xe().min(1,{message:U.attachmentFileNameRequiredError}),fileType:xe().min(1,{message:U.attachmentFileTypeRequiredError}),fileSize:gl().positive({message:U.attachmentFileSizePositiveError}),url:xe().min(1,{message:U.attachmentFileUrlRequiredError}),uploadedAt:xe().datetime({message:U.attachmentInvalidUploadDateError})}),Og=Mt({id:xe().min(1),entityType:pn(DS,{errorMap:()=>({message:U.invalidEntityTypeError})}),entityId:xe().min(1,{message:U.noteEntityIdRequiredError}),author:hM,content:xe().min(1,{message:U.noteContentRequiredError}),createdAt:xe().datetime({message:U.noteInvalidCreationDateError}),updatedAt:xe().datetime({message:U.noteInvalidUpdateDateError}),visibility:pn(NS,{errorMap:()=>({message:U.invalidNoteVisibilityError})}),pinned:Fi(),tags:qt(xe().min(1,{message:U.noteEmptyTagError})).optional(),type:pn(IS,{errorMap:()=>({message:U.invalidNoteTypeError})}),mentionedUserIds:qt(xe()).optional(),attachments:qt(gM).optional()}),Pg=150,Ug=async t=>{const e={userId:`user-${t.authorDisplayName.toLowerCase().replace(/\s+/g,"-")}-${Ce().substring(0,5)}`,displayName:t.authorDisplayName},n={id:Ce(),entityId:t.entityId,entityType:t.entityType,author:e,content:t.content,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),visibility:t.visibility||"team",pinned:t.pinned||!1,type:t.type||"general",tags:t.tags||[],mentionedUserIds:t.mentionedUserIds||[],attachments:t.attachments||[]};try{Og.parse(n)}catch(i){if(i instanceof Qn){console.error("Validation failed in note.service.ts (createNote):",i.flatten().fieldErrors);const r=new Error("Validation failed for new note in service.");throw r.fieldErrors=i.flatten().fieldErrors,r}throw i}return await new Promise(i=>setTimeout(i,Pg)),n},yM=async(t,e)=>{const n=sa.getState().notes.find(r=>r.id===t);if(!n)return console.warn(`[note.service] Note with ID ${t} not found for update.`),null;const i={...n,...e,updatedAt:new Date().toISOString()};try{Og.parse(i)}catch(r){if(r instanceof Qn){console.error(`Validation failed in note.service.ts (updateNote for id: ${t}):`,r.flatten().fieldErrors);const o=new Error(`Validation failed for note update in service (id: ${t}).`);throw o.fieldErrors=r.flatten().fieldErrors,o}throw r}return await new Promise(r=>setTimeout(r,Pg)),i},vM=async t=>(sa.getState().notes.find(n=>n.id===t)||console.warn(`[note.service] deleteNote called for non-existent ID: ${t}. Simulating success.`),await new Promise(n=>setTimeout(n,Pg)),Promise.resolve());class xM{constructor(){this.adapters=[],this.activeAdapterForSession=new Map}async registerAdapter(e){if(this.adapters.find(n=>n.systemName===e.systemName)){console.warn(`[VoipManager] Adapter "${e.systemName}" is already registered.`);return}await e.isConfigured()?(this.adapters.push(e),e.on("adapterDisconnected",n=>this.handleAdapterGlobalEvent(e.systemName,"adapterDisconnected",n)),e.on("error",n=>this.handleAdapterGlobalEvent(e.systemName,"error",n)),e.on("incomingCall",n=>this.handleIncomingCall(n,e)),console.log(`[VoipManager] Adapter "${e.systemName}" registered.`)):console.warn(`[VoipManager] Adapter "${e.systemName}" is not configured.`)}handleAdapterGlobalEvent(e,n,i){console.warn(`[VoipManager] Global event "${n}" from adapter "${e}":`,i),n==="error"&&i.errorCode&&Tn.getState().setCurrentCallError(i)}bindSessionEvents(e,n){const i=s=>{s.sessionId===e.sessionId&&this.handleSessionStatusChange(s,n)},r=s=>{s.sessionId===e.sessionId&&(this.handleSessionDisconnected(s,n),n.off("statusChange",i),n.off("disconnected",r),n.off("error",o))},o=s=>{s.sessionId===e.sessionId&&this.handleSessionError(s,n)};n.on("statusChange",i),n.on("disconnected",r),n.on("error",o)}handleIncomingCall(e,n){console.log(`[VoipManager] Incoming call event from ${n.systemName}:`,e);const{sessionId:i,from:r,to:o,callDetails:s}=e,u={id:i,from:r,to:o,status:"ringing_inbound",direction:"inbound",startTime:new Date().toISOString(),voipSystem:n.systemName,voipCallSid:i,contactDisplayName:(s==null?void 0:s.contactDisplayName)||r,contactId:s==null?void 0:s.contactId,subject:s==null?void 0:s.subject,...s};Tn.getState().addOrUpdateActiveCall(u),Tn.getState().setSelectedCallIdForUI(i),this.activeAdapterForSession.set(i,n);const d={sessionId:i,callId:u.id,status:u.status,startTime:u.startTime,voipSystem:n.systemName,lastStatusUpdate:new Date().toISOString(),targetNumber:r,direction:"inbound",from:u.from,to:u.to,subject:u.subject};this.bindSessionEvents(d,n)}selectAdapter(e,n){var i;if(n){const r=this.adapters.find(o=>o.systemName===n&&o.isConfigured());if(r)return r}if((i=e==null?void 0:e.voipIntegrationDetails)!=null&&i.systemName){const r=e.voipIntegrationDetails;if(r.canDialViaSystem===!1)return null;const o=this.adapters.find(s=>s.systemName===r.systemName&&s.isConfigured());if(o)return o}return this.adapters.find(r=>r.isConfigured())||null}async startCall(e,n,i){var o,s;const r=this.selectAdapter(n==null?void 0:n.contactPhoneNumber,i);if(!r)return{errorCode:"NO_ADAPTER_AVAILABLE",message:U.genericErrorNotification||"No VoIP adapter.",timestamp:new Date().toISOString()};try{const u=await r.initiateCall(e,{contact:n==null?void 0:n.contact,subject:n==null?void 0:n.subject});if("sessionId"in u){this.activeAdapterForSession.set(u.sessionId,r),this.bindSessionEvents(u,r);const d={id:u.sessionId,from:u.from||"my_mock_line",to:u.to,status:u.status,direction:"outbound",startTime:u.startTime,contactId:(o=n==null?void 0:n.contact)==null?void 0:o.id,contactDisplayName:((s=n==null?void 0:n.contact)==null?void 0:s.displayName)||e,subject:n==null?void 0:n.subject,voipSystem:r.systemName,voipCallSid:u.sessionId};return Tn.getState().addOrUpdateActiveCall(d),Tn.getState().setSelectedCallIdForUI(d.id),u}return u}catch(u){return{errorCode:"ADAPTER_EXCEPTION",message:u.message||"Adapter call initiation failed.",details:u,timestamp:new Date().toISOString()}}}async answerCall(e){const n=this.activeAdapterForSession.get(e);return n?n.answerCall(e):{errorCode:"SESSION_ADAPTER_NOT_FOUND",message:`Adapter for session ${e} not found.`,timestamp:new Date().toISOString()}}async rejectCall(e){const n=this.activeAdapterForSession.get(e);return n?n.rejectCall(e):{errorCode:"SESSION_ADAPTER_NOT_FOUND",message:`Adapter for session ${e} not found.`,timestamp:new Date().toISOString()}}async endCall(e){const n=this.activeAdapterForSession.get(e);if(!n){if(Tn.getState().callLog.find(r=>r.id===e)){console.warn(`[VoipManager] endCall for session ${e} - call already in log.`);return}return{errorCode:"SESSION_ADAPTER_NOT_FOUND",message:`Adapter for session ${e} not found.`,timestamp:new Date().toISOString()}}return n.endCall(e)}async muteCall(e,n){const i=this.activeAdapterForSession.get(e);if(!i)return{errorCode:"SESSION_ADAPTER_NOT_FOUND",message:`Adapter for session ${e} not found.`,timestamp:new Date().toISOString()};const r=await i.muteCall(e,n);return(!r||!("errorCode"in r))&&Tn.getState().addOrUpdateActiveCall({id:e,isMuted:n}),r}async holdCall(e,n){const i=this.activeAdapterForSession.get(e);return i?i.holdCall(e,n):{errorCode:"SESSION_ADAPTER_NOT_FOUND",message:`Adapter for session ${e} not found.`,timestamp:new Date().toISOString()}}async sendDTMF(e,n){const i=this.activeAdapterForSession.get(e);return i?i.sendDTMF(e,n):{errorCode:"SESSION_ADAPTER_NOT_FOUND",message:`Adapter for session ${e} not found.`,timestamp:new Date().toISOString()}}handleSessionStatusChange(e,n){console.log(`[VoipManager] Status change for session ${e.sessionId} via ${n.systemName}:`,e);const i=Tn.getState(),r=i.activeCalls.find(s=>s.id===e.sessionId)||i.callLog.find(s=>s.id===e.sessionId);let o=e.call;!o&&r?o={...r,status:e.status,voipSystem:n.systemName,voipCallSid:e.sessionId}:!o&&!r&&(console.warn(`[VoipManager] Received statusChange for unknown session ${e.sessionId}. Creating minimal call object.`),o={id:e.sessionId,status:e.status,direction:"outbound",from:"unknown",to:"unknown",startTime:new Date().toISOString(),voipSystem:n.systemName,voipCallSid:e.sessionId}),o&&(e.status==="answered"&&!o.connectedTime&&(o.connectedTime=new Date().toISOString()),o.isOnHold=e.status==="on_hold",i.addOrUpdateActiveCall(o))}handleSessionDisconnected(e,n){console.log(`[VoipManager] Disconnected event for session ${e.sessionId} via ${n.systemName}:`,e);const i=Tn.getState(),r=i.activeCalls.find(s=>s.id===e.sessionId)||i.callLog.find(s=>s.id===e.sessionId);let o=e.call;!o&&r?o={...r,status:"disconnected",hangupReason:e.reason,endTime:new Date().toISOString()}:!o&&!r&&(console.warn(`[VoipManager] Received disconnected for unknown session ${e.sessionId}. Logging minimal call.`),o={id:e.sessionId,status:"disconnected",hangupReason:e.reason,direction:"outbound",from:"unknown",to:"unknown",startTime:new Date(Date.now()-1e4).toISOString(),endTime:new Date().toISOString(),voipSystem:n.systemName,voipCallSid:e.sessionId}),o&&(o.endTime||(o.endTime=new Date().toISOString()),o.startTime&&o.endTime&&o.durationSeconds===void 0&&(o.durationSeconds=Math.max(0,Math.round((new Date(o.endTime).getTime()-new Date(o.startTime).getTime())/1e3))),i.addEndedCallToLog(o),this.logCallAsNote(o).catch(s=>{console.error("[VoipManager] Error logging call as note:",s)})),this.activeAdapterForSession.delete(e.sessionId)}handleSessionError(e,n){console.error(`[VoipManager] Error event for session ${e.sessionId} via ${n.systemName}: Code: ${e.errorCode}, Message: ${e.message}, Details: ${JSON.stringify(e.details)}`);const i=Tn.getState();if(e.sessionId){const r=i.activeCalls.find(o=>o.id===e.sessionId);if(r){const o={...r,status:"failed",errorMessage:e.message,hangupReason:"call_failed",endTime:new Date().toISOString()};o.startTime&&o.endTime&&o.durationSeconds===void 0&&(o.durationSeconds=Math.max(0,Math.round((new Date(o.endTime).getTime()-new Date(o.startTime).getTime())/1e3))),i.addEndedCallToLog(o),this.logCallAsNote(o).catch(s=>{console.error("[VoipManager] Error logging call as note after session error:",s)})}else{const o={id:e.sessionId,status:"failed",errorMessage:e.message,hangupReason:"call_failed",direction:"outbound",from:"unknown",to:"unknown",startTime:e.timestamp||new Date().toISOString(),endTime:new Date().toISOString(),voipSystem:n.systemName,voipCallSid:e.sessionId};o.startTime&&o.endTime&&o.durationSeconds===void 0&&(o.durationSeconds=Math.max(0,Math.round((new Date(o.endTime).getTime()-new Date(o.startTime).getTime())/1e3))),i.addEndedCallToLog(o),this.logCallAsNote(o).catch(s=>{console.error("[VoipManager] Error logging error call as note:",s)})}this.activeAdapterForSession.delete(e.sessionId)}else i.setCurrentCallError(e)}async logCallAsNote(e){if(!e.contactId){console.warn(`[VoipManager] Cannot log call note for call ${e.id} without a contactId.`);return}const{addNote:n}=sa.getState(),i=e.durationSeconds!==void 0?`${Math.floor(e.durationSeconds/60)}λ ${e.durationSeconds%60}δ`:"N/A";let r=`Καταγραφή Κλήσης (${e.direction==="inbound"?"Εισερχόμενη":"Εξερχόμενη"}):
`;r+=`Προς/Από: ${e.direction==="inbound"?e.from:e.to} (${e.contactDisplayName||"Άγνωστος"})
`,e.subject&&(r+=`Θέμα: ${e.subject}
`),r+=`Κατάσταση: ${e.status}
`,e.hangupReason&&(r+=`Λόγος Τερματισμού: ${e.hangupReason}
`),r+=`Διάρκεια: ${i}
`,r+=`Σύστημα: ${e.voipSystem}
`,r+=`ID Κλήσης Συστήματος: ${e.voipCallSid||e.id}
`,e.errorMessage&&(r+=`Σφάλμα: ${e.errorMessage}
`),r+=`Timestamp: ${new Date(e.endTime||e.startTime||Date.now()).toLocaleString("el-GR")}`;const s={entityId:e.contactId,entityType:"contact",content:r,authorDisplayName:"System User",type:"call_log",visibility:"team"};try{const u=await Ug(s);console.log(`[VoipManager] Call ${e.id} logged as note for contact ${e.contactId}. Note ID: ${u.id}`)}catch(u){console.error(`[VoipManager] Failed to create or log note for call ${e.id}:`,u)}}getAdapters(){return this.adapters.filter(e=>e.isConfigured())}}const Ha=new xM,ib=t=>{const e=Math.floor(t/3600),n=Math.floor(t%3600/60),i=Math.floor(t%60),r=o=>o.toString().padStart(2,"0");return e>0?`${r(e)}:${r(n)}:${r(i)}`:`${r(n)}:${r(i)}`},bM=()=>{const t=Tn(M=>M.selectedCallIdForUI),e=Tn(M=>M.activeCalls);Tn(M=>M.callLog);const[n,i]=N.useState(Date.now()),r=N.useMemo(()=>t?e.find(M=>M.id===t):null,[t,e]);N.useEffect(()=>{if(r&&r.status==="answered"){const M=setInterval(()=>{i(Date.now())},1e3);return()=>clearInterval(M)}},[r]);const o=N.useMemo(()=>r&&r.status==="answered"&&r.connectedTime?Math.floor((n-new Date(r.connectedTime).getTime())/1e3):(r==null?void 0:r.durationSeconds)??0,[r,n]);if(!r)return null;const{id:s,contactDisplayName:u,status:d,isMuted:f,isOnHold:h,from:v,to:T,direction:C}=r,S=u||(C==="inbound"?v:T)||"Άγνωστη Κλήση",E=async()=>{await Ha.muteCall(s,!f)},_=async()=>{await Ha.holdCall(s,!h)},I=async()=>{await Ha.endCall(s)},D=M=>{switch(M){case"ringing_outbound":return"Κλήση...";case"ringing_inbound":return"Εισερχόμενη Κλήση...";case"answered":return`Σε κλήση ${ib(o)}`;case"on_hold":return`Σε αναμονή ${ib(o)}`;case"connecting":return"Σύνδεση...";case"initiating":return"Έναρξη κλήσης...";default:return M}};return y.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 w-full max-w-xl bg-slate-800 text-white p-3 rounded-lg shadow-2xl border border-slate-700 flex items-center justify-between z-[200]",role:"toolbar","aria-label":"Γραμμή ελέγχου ενεργής κλήσης",children:[y.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[y.jsx(me,{name:"phone",size:"md",className:"text-green-400 flex-shrink-0"}),y.jsxs("div",{className:"overflow-hidden",children:[y.jsx("p",{className:"text-sm font-semibold truncate",title:S,children:S}),y.jsx("p",{className:"text-xs text-slate-400","aria-live":"polite",children:D(d)})]})]}),y.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[y.jsx(ht,{content:f?"Κατάργηση σίγασης":"Σίγαση",position:"top",children:y.jsx(we,{variant:f?"danger":"ghost",size:"sm",onClick:E,"aria-pressed":f,children:y.jsx(me,{name:f?"microphoneSlash":"microphone",size:"sm"})})}),y.jsx(ht,{content:h?"Επαναφορά κλήσης":"Αναμονή",position:"top",children:y.jsx(we,{variant:h?"primary":"ghost",size:"sm",onClick:_,"aria-pressed":h,children:y.jsx(me,{name:"pauseCircle",size:"sm"})})}),y.jsx(ht,{content:"Τερματισμός Κλήσης",position:"top",children:y.jsx(we,{variant:"danger",size:"sm",onClick:I,children:y.jsx(me,{name:"phoneHangup",size:"sm"})})})]})]})},kS={communication:"Επικοινωνία",meeting:"Συνάντηση",task_internal:"Εσωτερική Εργασία",site_visit:"Επίσκεψη στο Έργο/Ακίνητο",documentation:"Τεκμηρίωση",transaction_related:"Σχετικό με Συναλλαγή",other:"Άλλο"},Qo=Object.keys(kS),MS={call_outgoing:"Εξερχόμενη Κλήση",call_incoming:"Εισερχόμενη Κλήση",email_sent:"Απεσταλμένο Email",email_received:"Εισερχόμενο Email",message_sent:"Απεσταλμένο Μήνυμα",message_received:"Εισερχόμενο Μήνυμα",online_meeting:"Online Συνάντηση",in_person_meeting:"Δια Ζώσης Συνάντηση",internal_task_creation:"Δημιουργία Εσωτερικής Εργασίας",internal_task_update:"Ενημέρωση Εσωτερικής Εργασίας",internal_note_added:"Προσθήκη Εσωτερικής Σημείωσης",site_inspection:"Επιθεώρηση Έργου/Ακινήτου",client_site_meeting:"Συνάντηση στο Έργο/Ακίνητο με Πελάτη",document_creation:"Δημιουργία Εγγράφου",document_review:"Επισκόπηση Εγγράφου",document_signing:"Υπογραφή Εγγράφου",payment_received:"Λήψη Πληρωμής",payment_made:"Πραγματοποίηση Πληρωμής",invoice_sent:"Αποστολή Τιμολογίου",generic_other_activity:"Άλλη Ενέργεια"},RS=Object.keys(MS),LS={successful:"Επιτυχής",unsuccessful:"Ανεπιτυχής",pending:"Σε Εκκρεμότητα",cancelled:"Ακυρώθηκε",completed:"Ολοκληρώθηκε",needs_follow_up:"Χρειάζεται Follow-up",information_gathered:"Συλλογή Πληροφοριών",decision_made:"Ελήφθη Απόφαση",rescheduled:"Επαναπρογραμματίστηκε",no_answer:"Δεν Απάντησε",left_message:"Αφέθηκε Μήνυμα",other:"Άλλο"},OS=Object.keys(LS),Up={communication:["call_outgoing","call_incoming","email_sent","email_received","message_sent","message_received"],meeting:["online_meeting","in_person_meeting"],task_internal:["internal_task_creation","internal_task_update","internal_note_added"],site_visit:["site_inspection","client_site_meeting"],documentation:["document_creation","document_review","document_signing"],transaction_related:["payment_received","payment_made","invoice_sent"],other:["generic_other_activity"]},zi=xe().uuid({message:"Το ID πρέπει να είναι έγκυρο UUID."}),TM=xe().min(1,{message:"Το όνομα είναι υποχρεωτικό."}).max(255,{message:"Το όνομα δεν μπορεί να υπερβαίνει τους 255 χαρακτήρες."}),PS=xe().max(1e3,{message:"Η περιγραφή δεν μπορεί να υπερβαίνει τους 1000 χαρακτήρες."}).optional(),oa=xe().datetime({message:"Μη έγκυρη ημερομηνία/ώρα."});Mt({id:zi,name:TM,description:PS,createdAt:oa,updatedAt:oa});const CM=pn(Qo),SM=pn(RS),EM=pn(OS),jg=Mt({id:zi,category:CM,specificType:SM,title:xe().min(1,"Ο τίτλος της ενέργειας είναι υποχρεωτικός.").max(255,"Ο τίτλος δεν μπορεί να υπερβαίνει τους 255 χαρακτήρες."),description:xe().max(2e3,"Η περιγραφή δεν μπορεί να υπερβαίνει τους 2000 χαρακτήρες.").optional(),startTime:oa,endTime:oa.optional(),durationSeconds:gl().int().positive({message:"Η διάρκεια πρέπει να είναι θετικός ακέραιος."}).optional(),outcome:EM.optional(),userId:zi,contactId:zi.optional(),projectId:zi.optional(),propertyId:zi.optional(),dealId:zi.optional(),createdAt:oa,updatedAt:oa}),US=jg.refine(t=>t.endTime&&t.startTime?new Date(t.endTime)>=new Date(t.startTime):!0,{message:"Η ώρα λήξης πρέπει να είναι μετά την ώρα έναρξης.",path:["endTime"]}).refine(t=>{if(t.startTime&&t.endTime&&t.durationSeconds!==void 0){const e=Math.round((new Date(t.endTime).getTime()-new Date(t.startTime).getTime())/1e3);return Math.abs(e-t.durationSeconds)<=1}return!0},{message:"Η διάρκεια δεν συμφωνεί με την ώρα έναρξης και λήξης.",path:["durationSeconds"]}),Zi=new Date().toISOString(),Yc=new Date(Date.now()-365*24*60*60*1e3).toISOString(),ma=new Date(Date.now()-180*24*60*60*1e3).toISOString(),jS=new Date(Date.now()+180*24*60*60*1e3).toISOString(),Er=new Date(Date.now()-90*24*60*60*1e3).toISOString(),il=new Date(Date.now()-30*24*60*60*1e3).toISOString(),Vs=new Date(Date.now()-7*24*60*60*1e3).toISOString(),wM=new Date(Date.now()+7*24*60*60*1e3).toISOString(),AM=new Date(Date.now()+14*24*60*60*1e3).toISOString(),jp=new Date(Date.now()-1*60*60*1e3).toISOString(),zp=new Date(Date.now()-2*60*60*1e3).toISOString();var PC;const eu=((PC=Jt.find(t=>t.username==="yannis.p"))==null?void 0:PC.id)||"user-001";var UC;const eo=((UC=Jt.find(t=>t.username==="maria.k"))==null?void 0:UC.id)||"user-002";var jC;const tu=((jC=Jt.find(t=>t.username==="admin_user"))==null?void 0:jC.id)||"admin-001",_M=[{id:"comp-001",name:"Ορίζοντες Κατασκευαστική Α.Ε.",groupId:"group-realestate-dev",vatNumber:"123456789",taxOffice:"ΦΑΕ Αθηνών",gemhNumber:"1234567890123",primaryAddress:{id:Ce(),street:"Λεωφόρος Μεσογείων",number:"250",city:"Αθήνα",postalCode:"15561",country:"Ελλάδα",addressType:"work",isPrimary:!0},website:"https://orizontes-dev.gr",description:'Η κύρια κατασκευαστική εταιρεία του ομίλου "Ορίζοντες".',createdAt:Yc,updatedAt:Zi},{id:"comp-002",name:'Aρχιτεκτονικό Γραφείο "Δημιουργία"',description:"Συνεργαζόμενο αρχιτεκτονικό γραφείο.",vatNumber:"987654321",taxOffice:"Α' Αθηνών",createdAt:ma,updatedAt:Er},{id:"comp-003",name:"Mykonos Luxury Developments Ltd.",description:"Εταιρεία ανάπτυξης πολυτελών ακινήτων στις Κυκλάδες.",vatNumber:"112233445",taxOffice:"ΔΟΥ Μυκόνου",createdAt:ma,updatedAt:Zi}],Kd=[{id:"proj-alpha-001",name:'Κατοικίες "Ηλιαχτίδα Πάρνηθας"',projectCode:"HLX01-PAR",description:"Ανάπτυξη συγκροτήματος 10 σύγχρονων κατοικιών στους πρόποδες της Πάρνηθας, με έμφαση στην ενεργειακή απόδοση και την ποιότητα κατασκευής.",location:"Πάρνηθα, Αττική",phase:"construction",budget:5e6,startDate:Yc,expectedEndDate:jS,companyId:"comp-001",managerUserId:eu,createdAt:Yc,updatedAt:Zi},{id:"proj-beta-002",name:'Luxury Villas Mykonos "Aegean Blue"',projectCode:"MYK-LUX-AB",description:"Κατασκευή 5 πολυτελών βιλών στη Μύκονο με ιδιωτικές πισίνες και απεριόριστη θέα στο Αιγαίο.",location:"Ελιά, Μύκονος",phase:"design",budget:15e6,companyId:"comp-003",createdAt:Zi,updatedAt:Zi,managerUserId:eo},{id:"proj-gamma-003",name:'Ανακαίνιση Γραφείων "City Hub"',projectCode:"CITY-HUB-REN",description:"Πλήρης ανακαίνιση και διαμόρφωση κτιρίου γραφείων στο κέντρο της πόλης.",location:"Κέντρο Αθήνας",phase:"completed",actualEndDate:Er,companyId:"comp-001",createdAt:Yc,updatedAt:Er,managerUserId:tu}],zS=[{id:"prop-parnitha-a-g1",floorId:"floor-parnitha-a-0",projectId:"proj-alpha-001",name:"Διαμέρισμα Α-Γ1",propertyCode:"Α-Γ1",kind:"apartment",areaNet:85,areaGross:100,bedrooms:2,bathrooms:1,price:25e4,status:"available",description:"Ευρύχωρο διαμέρισμα ισογείου με κήπο.",createdAt:ma,updatedAt:Zi},{id:"prop-parnitha-a-a1",floorId:"floor-parnitha-a-1",projectId:"proj-alpha-001",name:"Μεζονέτα Α-Α1",propertyCode:"Α-Α1",kind:"maisonette",areaNet:120,areaGross:140,bedrooms:3,bathrooms:2,price:38e4,status:"sold",description:"Πολυτελής μεζονέτα 1ου ορόφου με θέα.",createdAt:ma,updatedAt:Er}],NM=Kd,IM=[{id:"deal-001",dealName:"Deal για Ηλιαχτίδα Α-Γ1 με Μ. Παπαδοπούλου",contactId:"1",propertyId:"prop-parnitha-a-g1",projectId:"proj-alpha-001",stageId:"stage-proposal",salespersonUserId:eo,amount:25e4,probability:70,expectedCloseDate:wM,createdAt:il,updatedAt:Vs,notes:"Έδειξε έντονο ενδιαφέρον. Αναμένει απάντηση στην προσφορά."},{id:"deal-002",dealName:"TEXNIKH A.E. - Ανακαίνιση City Hub",contactId:"2",projectId:"proj-gamma-003",stageId:"stage-won",salespersonUserId:eu,amount:12e5,probability:100,expectedCloseDate:Er,actualCloseDate:Er,createdAt:ma,updatedAt:Er,notes:"Ολοκληρώθηκε επιτυχώς."},{id:"deal-003",dealName:"Ενδιαφέρον Γ. Ιωάννου για Mykonos Villa",contactId:"3",projectId:"proj-beta-002",stageId:"stage-contacted",salespersonUserId:eo,amount:3e6,probability:20,expectedCloseDate:jS,createdAt:Vs,updatedAt:Zi,notes:"Πρώτη διερευνητική επαφή."},{id:"deal-004",dealName:"Deal για Ηλιαχτίδα Α-Α1 (πριν πωληθεί) με Ε. Νικολάου",contactId:"6",propertyId:"prop-parnitha-a-a1",projectId:"proj-alpha-001",stageId:"stage-lost",salespersonUserId:eu,amount:37e4,probability:0,expectedCloseDate:il,actualCloseDate:il,createdAt:ma,updatedAt:il,notes:"Δεν προχώρησε, το ακίνητο πουλήθηκε σε άλλον."},{id:"deal-005",dealName:"Προσφορά για γραφείο στο City Hub (TEXNIKH A.E.)",contactId:"2",projectId:"proj-gamma-003",stageId:"stage-negotiation",salespersonUserId:tu,amount:55e3,probability:60,expectedCloseDate:AM,createdAt:Vs,updatedAt:Zi,notes:"Διαπραγμάτευση για τους όρους ενοικίασης γραφείου στο City Hub. Φαίνονται θετικοί."}],Zc=[{id:Ce(),category:"communication",specificType:"call_outgoing",title:"Κλήση προς Μαρία Π. για Ηλιαχτίδα Πάρνηθας",description:"Συζητήθηκαν οι λεπτομέρειες του διαμερίσματος Α-Γ1 και οι όροι της προσφοράς. Έδειξε ενδιαφέρον.",startTime:jp,endTime:new Date(Date.now()-1*60*60*1e3+15*60*1e3).toISOString(),durationSeconds:15*60,outcome:"needs_follow_up",userId:eu,contactId:"1",projectId:"proj-alpha-001",propertyId:"prop-parnitha-a-g1",dealId:"deal-001",createdAt:jp,updatedAt:jp},{id:Ce(),category:"communication",specificType:"email_sent",title:"Email προς TEXNIKH A.E. - Προσφορά Ανακαίνισης City Hub",description:"Απεστάλη η τελική προσφορά για την ανακαίνιση των γραφείων του City Hub.",startTime:zp,outcome:"successful",userId:eo,contactId:"2",projectId:"proj-gamma-003",dealId:"deal-002",createdAt:zp,updatedAt:zp},{id:Ce(),category:"site_visit",specificType:"site_inspection",title:'Επίσκεψη στο έργο "Luxury Villas Mykonos"',description:"Επιθεώρηση προόδου εργασιών και συντονισμός με την ομάδα κατασκευής.",startTime:new Date(Date.now()-2*24*60*60*1e3).toISOString(),endTime:new Date(Date.now()-2*24*60*60*1e3+3*60*60*1e3).toISOString(),durationSeconds:3*60*60,outcome:"information_gathered",userId:eo,projectId:"proj-beta-002",createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),updatedAt:new Date(Date.now()-2*24*60*60*1e3).toISOString()},{id:Ce(),category:"meeting",specificType:"in_person_meeting",title:"Συνάντηση με Γ. Ιωάννου για Mykonos Villas",description:"Παρουσίαση των σχεδίων και των τιμών για τις βίλες. Έδειξε αρχικό ενδιαφέρον.",startTime:new Date(Date.now()-24*60*60*1e3).toISOString(),endTime:new Date(Date.now()-24*60*60*1e3+1.5*60*60*1e3).toISOString(),durationSeconds:1.5*60*60,outcome:"pending",userId:tu,contactId:"3",projectId:"proj-beta-002",dealId:"deal-003",createdAt:new Date(Date.now()-24*60*60*1e3).toISOString(),updatedAt:new Date(Date.now()-24*60*60*1e3).toISOString()}],Fs=[{id:Ce(),fileName:"Συμβόλαιο_Πώλησης_Α-Γ1.pdf",fileType:"application/pdf",fileSize:1024*512,storagePath:"/projects/proj-alpha-001/properties/prop-parnitha-a-g1/contracts/Συμβόλαιο_Πώλησης_Α-Γ1.pdf",uploadedByUserId:eu,uploadedAt:il,relatedEntityType:"property",relatedEntityId:"prop-parnitha-a-g1",documentCategory:"contract",description:"Υπογεγραμμένο συμβόλαιο πώλησης για το διαμέρισμα Α-Γ1.",updatedAt:il,version:1,tags:["συμβόλαιο","πώληση","Ηλιαχτίδα Πάρνηθας"]},{id:Ce(),fileName:"Οικοδομική_Άδεια_HLX01-PAR.pdf",fileType:"application/pdf",fileSize:1024*1200,storagePath:"/projects/proj-alpha-001/licenses/Οικοδομική_Άδεια_HLX01-PAR.pdf",uploadedByUserId:tu,uploadedAt:ma,relatedEntityType:"project",relatedEntityId:"proj-alpha-001",documentCategory:"license",description:'Η κύρια οικοδομική άδεια για το έργο "Ηλιαχτίδα Πάρνηθas".',updatedAt:ma},{id:Ce(),fileName:"Κάτοψη_Κτιρίου_Α_Ηλιαχτίδα.dwg",fileType:"image/vnd.dwg",fileSize:1024*2500,storagePath:"/projects/proj-alpha-001/buildings/build-parnitha-a/blueprints/Κάτοψη_Κτιρίου_Α.dwg",uploadedByUserId:eo,uploadedAt:Er,relatedEntityType:"building",relatedEntityId:"build-parnitha-a",documentCategory:"blueprint",updatedAt:Er},{id:Ce(),fileName:"Φωτογραφίες_Προόδου_Mykonos_Villas.zip",fileType:"application/zip",fileSize:1024*15e3,storagePath:"/projects/proj-beta-002/images/Φωτογραφίες_Προόδου_Mykonos_Villas.zip",uploadedByUserId:eo,uploadedAt:Vs,relatedEntityType:"project",relatedEntityId:"proj-beta-002",documentCategory:"archive",description:"Συλλογή φωτογραφιών από την πρόοδο των εργασιών στις βίλες Μυκόνου.",updatedAt:Vs,tags:["φωτογραφίες","Μύκονος","πρόοδος"]},{id:Ce(),fileName:"Τιμολόγιο_Προς_TEXNIKH_AE_00123.pdf",fileType:"application/pdf",fileSize:1024*80,storagePath:"/companies/comp-001/invoices/Τιμολόγιο_00123.pdf",uploadedByUserId:tu,uploadedAt:Zi,relatedEntityType:"company",relatedEntityId:"comp-001",documentCategory:"invoice",description:"Τιμολόγιο παροχής υπηρεσιών για την ανακαίνιση City Hub.",updatedAt:Zi}],X={VIEW_ALL_CONTACTS:"view_all_contacts",VIEW_ASSIGNED_CONTACTS:"view_assigned_contacts",CREATE_CONTACT:"create_contact",EDIT_CONTACT:"edit_contact",DELETE_CONTACT:"delete_contact",VIEW_USERS:"view_users",MANAGE_USERS:"manage_users",VIEW_DASHBOARD_GLOBAL:"view_dashboard_global",VIEW_DASHBOARD_PERSONAL:"view_dashboard_personal",VIEW_REPORTS:"view_reports",ADD_NOTES_TO_ANY_ENTITY:"add_notes_to_any_entity",ADD_NOTES_TO_OWN_OR_ASSIGNED_ENTITIES:"add_notes_to_own_or_assigned_entities",VIEW_ALL_NOTES:"view_all_notes",VIEW_TEAM_NOTES:"view_team_notes",EDIT_OWN_NOTES:"edit_own_notes",DELETE_OWN_NOTES:"delete_own_notes",MANAGE_ALL_NOTES:"manage_all_notes",ACCESS_SETTINGS:"access_settings",MANAGE_APP_SETTINGS:"manage_app_settings",MANAGE_NOTIFICATION_SETTINGS:"manage_notification_settings",USE_VOIP:"use_voip",VIEW_CALL_LOGS_ALL:"view_call_logs_all",VIEW_CALL_LOGS_OWN:"view_call_logs_own",VIEW_PEOPLE_TAB:"view_people_tab",VIEW_TEAM_ACTIVITY:"view_team_activity",VIEW_ALL_USER_ACTIVITY:"view_all_user_activity",MANAGE_WORKFLOWS:"manage_workflows",VIEW_WIDGET_TOTAL_CONTACTS:"view_widget_total_contacts",VIEW_WIDGET_RECENT_CONTACTS:"view_widget_recent_contacts",VIEW_WIDGET_NOTIFICATIONS:"view_widget_notifications",VIEW_ALL_PROJECTS:"view_all_projects",VIEW_TEAM_PROJECTS:"view_team_projects",VIEW_OWN_PROJECTS:"view_own_projects",CREATE_PROJECTS:"create_projects",EDIT_ANY_PROJECT:"edit_any_project",EDIT_OWN_PROJECT:"edit_own_project",DELETE_ANY_PROJECT:"delete_any_project",MANAGE_PIPELINE_STAGES:"manage_pipeline_stages",VIEW_ALL_PIPELINE_ENTRIES:"view_all_pipeline_entries",VIEW_TEAM_PIPELINE_ENTRIES:"view_team_pipeline_entries",VIEW_OWN_PIPELINE_ENTRIES:"view_own_pipeline_entries",CREATE_PIPELINE_ENTRIES:"create_pipeline_entries",EDIT_ANY_PIPELINE_ENTRY:"edit_any_pipeline_entry",EDIT_OWN_PIPELINE_ENTRY:"edit_own_pipeline_entry",DELETE_ANY_PIPELINE_ENTRY:"delete_any_pipeline_entry",ASSIGN_PIPELINE_ENTRY_TO_USER:"assign_pipeline_entry_to_user",VIEW_ALL_ACTIVITIES:"view_all_activities",VIEW_TEAM_ACTIVITIES:"view_team_activities",VIEW_OWN_ACTIVITIES:"view_own_activities",CREATE_ACTIVITIES:"create_activities",EDIT_ANY_ACTIVITY:"edit_any_activity",EDIT_OWN_ACTIVITY:"edit_own_activity",DELETE_ANY_ACTIVITY:"delete_any_activity",DELETE_OWN_ACTIVITY:"delete_own_activity",VIEW_ALL_DOCUMENTS:"view_all_documents",VIEW_TEAM_DOCUMENTS:"view_team_documents",VIEW_OWN_DOCUMENTS:"view_own_documents",UPLOAD_DOCUMENTS:"upload_documents",MANAGE_ANY_DOCUMENT_METADATA:"manage_any_document_metadata",MANAGE_OWN_DOCUMENT_METADATA:"manage_own_document_metadata",DELETE_ANY_DOCUMENT_FILE:"delete_any_document_file"},DM={[et.ADMIN]:[X.VIEW_ALL_CONTACTS,X.CREATE_CONTACT,X.EDIT_CONTACT,X.DELETE_CONTACT,X.VIEW_USERS,X.MANAGE_USERS,X.VIEW_DASHBOARD_GLOBAL,X.VIEW_DASHBOARD_PERSONAL,X.VIEW_REPORTS,X.MANAGE_ALL_NOTES,X.ACCESS_SETTINGS,X.MANAGE_APP_SETTINGS,X.MANAGE_NOTIFICATION_SETTINGS,X.USE_VOIP,X.VIEW_CALL_LOGS_ALL,X.VIEW_PEOPLE_TAB,X.VIEW_ALL_USER_ACTIVITY,X.MANAGE_WORKFLOWS,X.VIEW_WIDGET_TOTAL_CONTACTS,X.VIEW_WIDGET_RECENT_CONTACTS,X.VIEW_WIDGET_NOTIFICATIONS,X.VIEW_ALL_PROJECTS,X.CREATE_PROJECTS,X.EDIT_ANY_PROJECT,X.DELETE_ANY_PROJECT,X.MANAGE_PIPELINE_STAGES,X.VIEW_ALL_PIPELINE_ENTRIES,X.CREATE_PIPELINE_ENTRIES,X.EDIT_ANY_PIPELINE_ENTRY,X.DELETE_ANY_PIPELINE_ENTRY,X.ASSIGN_PIPELINE_ENTRY_TO_USER,X.VIEW_ALL_ACTIVITIES,X.CREATE_ACTIVITIES,X.EDIT_ANY_ACTIVITY,X.DELETE_ANY_ACTIVITY,X.VIEW_ALL_DOCUMENTS,X.UPLOAD_DOCUMENTS,X.MANAGE_ANY_DOCUMENT_METADATA,X.DELETE_ANY_DOCUMENT_FILE],[et.MANAGER]:[X.VIEW_ALL_CONTACTS,X.CREATE_CONTACT,X.EDIT_CONTACT,X.VIEW_USERS,X.VIEW_DASHBOARD_GLOBAL,X.VIEW_DASHBOARD_PERSONAL,X.VIEW_REPORTS,X.ADD_NOTES_TO_ANY_ENTITY,X.VIEW_TEAM_NOTES,X.EDIT_OWN_NOTES,X.DELETE_OWN_NOTES,X.ACCESS_SETTINGS,X.MANAGE_NOTIFICATION_SETTINGS,X.USE_VOIP,X.VIEW_CALL_LOGS_ALL,X.VIEW_PEOPLE_TAB,X.VIEW_TEAM_ACTIVITY,X.VIEW_WIDGET_TOTAL_CONTACTS,X.VIEW_WIDGET_RECENT_CONTACTS,X.VIEW_WIDGET_NOTIFICATIONS,X.VIEW_TEAM_PROJECTS,X.CREATE_PROJECTS,X.EDIT_ANY_PROJECT,X.DELETE_ANY_PROJECT,X.MANAGE_PIPELINE_STAGES,X.VIEW_TEAM_PIPELINE_ENTRIES,X.CREATE_PIPELINE_ENTRIES,X.EDIT_ANY_PIPELINE_ENTRY,X.ASSIGN_PIPELINE_ENTRY_TO_USER,X.VIEW_TEAM_ACTIVITIES,X.CREATE_ACTIVITIES,X.EDIT_ANY_ACTIVITY,X.VIEW_TEAM_DOCUMENTS,X.UPLOAD_DOCUMENTS,X.MANAGE_ANY_DOCUMENT_METADATA],[et.EMPLOYEE]:[X.VIEW_ASSIGNED_CONTACTS,X.CREATE_CONTACT,X.EDIT_CONTACT,X.VIEW_DASHBOARD_PERSONAL,X.ADD_NOTES_TO_OWN_OR_ASSIGNED_ENTITIES,X.VIEW_TEAM_NOTES,X.EDIT_OWN_NOTES,X.DELETE_OWN_NOTES,X.ACCESS_SETTINGS,X.MANAGE_NOTIFICATION_SETTINGS,X.USE_VOIP,X.VIEW_CALL_LOGS_OWN,X.VIEW_PEOPLE_TAB,X.VIEW_WIDGET_NOTIFICATIONS,X.VIEW_OWN_PROJECTS,X.EDIT_OWN_PROJECT,X.VIEW_OWN_PIPELINE_ENTRIES,X.CREATE_PIPELINE_ENTRIES,X.EDIT_OWN_PIPELINE_ENTRY,X.VIEW_OWN_ACTIVITIES,X.CREATE_ACTIVITIES,X.EDIT_OWN_ACTIVITY,X.DELETE_OWN_ACTIVITY,X.VIEW_OWN_DOCUMENTS,X.UPLOAD_DOCUMENTS,X.MANAGE_OWN_DOCUMENT_METADATA],[et.CONSULTANT]:[X.VIEW_ASSIGNED_CONTACTS,X.VIEW_DASHBOARD_PERSONAL,X.ADD_NOTES_TO_OWN_OR_ASSIGNED_ENTITIES,X.VIEW_TEAM_NOTES,X.EDIT_OWN_NOTES,X.ACCESS_SETTINGS,X.MANAGE_NOTIFICATION_SETTINGS,X.VIEW_OWN_PROJECTS,X.VIEW_OWN_DOCUMENTS,X.UPLOAD_DOCUMENTS],[et.OBSERVER]:[X.VIEW_ALL_CONTACTS,X.VIEW_DASHBOARD_GLOBAL,X.VIEW_REPORTS,X.VIEW_ALL_NOTES,X.VIEW_CALL_LOGS_ALL,X.VIEW_PEOPLE_TAB,X.VIEW_WIDGET_TOTAL_CONTACTS,X.VIEW_WIDGET_RECENT_CONTACTS,X.VIEW_WIDGET_NOTIFICATIONS,X.VIEW_ALL_PROJECTS,X.VIEW_ALL_PIPELINE_ENTRIES,X.VIEW_ALL_ACTIVITIES,X.VIEW_ALL_DOCUMENTS],[et.LAND_OWNER]:[],[et.BUYER]:[],[et.SUPPLIER]:[],[et.CUSTOMER]:[],[et.PARTNER]:[],[et.EXTERNAL_VENDOR]:[],[et.NEW_CUSTOMER_TAG]:[]};function Ft(t,e){if(!t||t.length===0)return!1;for(const n of t){const i=DM[n];if(i&&i.includes(e))return!0}return!1}const kM=130,zh=t=>new Promise(e=>setTimeout(()=>e(t),kM)),MM=jg.omit({id:!0,createdAt:!0,updatedAt:!0}),RM=jg.partial().omit({id:!0,createdAt:!0,updatedAt:!0}),LM=async(t,e)=>{if(console.log("[ActivityService-Mock] Creating new activity by user:",e.id,"with data:",t),!Ft(e.roles,X.CREATE_ACTIVITIES))throw{message:"Permission denied",fieldErrors:{_form:["Δεν έχετε δικαίωμα δημιουργίας ενέργειας."]}};if(t.projectId&&!Kd.find(d=>d.id===t.projectId))throw{message:"Validation failed",fieldErrors:{projectId:["Invalid Project ID."]}};if(t.propertyId&&!zS.find(d=>d.id===t.propertyId))throw{message:"Validation failed",fieldErrors:{propertyId:["Invalid Property ID."]}};if(t.dealId&&!IM.find(d=>d.id===t.dealId))throw{message:"Validation failed",fieldErrors:{dealId:["Invalid Deal ID."]}};const n=MM.safeParse(t);if(!n.success)throw{message:"Validation failed",fieldErrors:n.error.flatten().fieldErrors};const i=new Date().toISOString(),r=n.data,o={id:Ce(),createdAt:i,updatedAt:i,category:r.category,specificType:r.specificType,title:r.title,startTime:r.startTime,userId:r.userId,description:r.description,endTime:r.endTime,durationSeconds:r.durationSeconds,outcome:r.outcome,contactId:r.contactId,projectId:r.projectId,propertyId:r.propertyId,dealId:r.dealId},s=US.safeParse(o);if(!s.success)throw{message:"Validation failed on refinement",fieldErrors:s.error.flatten().fieldErrors};const u=s.data;return Zc.push(u),zh(u)},OM=async(t,e,n)=>{console.log(`[ActivityService-Mock] Updating activity ID: ${t} by user ${n.id} with data:`,e);const i=Zc.findIndex(h=>h.id===t);if(i===-1)return zh(null);const r=Zc[i];if(!Ft(n.roles,X.EDIT_ANY_ACTIVITY)&&!(Ft(n.roles,X.EDIT_OWN_ACTIVITY)&&r.userId===n.id))throw{message:"Permission denied",fieldErrors:{_form:["Δεν έχετε δικαίωμα επεξεργασίας αυτής της ενέργειας."]}};const o=RM.safeParse(e);if(!o.success)throw{message:"Validation failed",fieldErrors:o.error.flatten().fieldErrors};const s=o.data,u={...r,...s,updatedAt:new Date().toISOString()},d=US.safeParse(u);if(!d.success)throw{message:"Validation failed on refinement for update",fieldErrors:d.error.flatten().fieldErrors};const f=d.data;return Zc[i]=f,zh(f)},Xd=({children:t,className:e="",required:n,as:i,...r})=>{const o=i||"label";return y.jsxs(o,{className:`font-[var(--font-sans)] block text-[var(--font-size-sm)] font-[var(--font-weight-medium)] text-gray-300 mb-1 ${e}`,...r,children:[t,n&&y.jsx("span",{className:"text-red-400 ml-1",children:"*"})]})},pa=({errors:t,className:e=""})=>{if(!t||Array.isArray(t)&&t.length===0)return null;const n=Array.isArray(t)?t:[t];return y.jsx("div",{className:`mt-1 text-xs text-red-400 ${e}`,role:"alert",children:n.map((i,r)=>y.jsx("p",{children:i},r))})},Ee=({label:t,htmlFor:e,required:n,helperText:i,validationError:r,hasWarning:o,hasSuccess:s,children:u,className:d="",labelClassName:f="",helperTextClassName:h="text-xs text-gray-400 mt-1",errorContainerClassName:v="mt-1"})=>{const T=N.useId(),C=i?`${e}-${T}-helper`:void 0,S=r?`${e}-${T}-error`:void 0;let E="";C&&(E+=C),S&&(E+=` ${S}`),E=E.trim();const _=De.Children.only(u),I={},D=!!r;Object.prototype.hasOwnProperty.call(_.props,"hasError")&&(I.hasError=D),Object.prototype.hasOwnProperty.call(_.props,"hasWarning")&&(I.hasWarning=!D&&o),Object.prototype.hasOwnProperty.call(_.props,"hasSuccess")&&(I.hasSuccess=!D&&!o&&s);const M=De.cloneElement(_,{id:e,"aria-describedby":E||void 0,"aria-invalid":D,...I});return y.jsxs("div",{className:`mb-4 ${d}`,children:[y.jsx(Xd,{htmlFor:e,required:n,className:f,children:t}),y.jsx("div",{className:"mt-1",children:M}),i&&y.jsx("p",{id:C,className:h,children:i}),r&&y.jsx("div",{id:S,className:v,role:"alert",children:y.jsx(pa,{errors:r})})]})};Ee.displayName="FormFieldWrapper";const mi=De.forwardRef(({className:t="",children:e,hasError:n,hasWarning:i,hasSuccess:r,...o},s)=>{const u="font-[var(--font-sans)] text-[var(--font-size-sm)] w-full p-3 bg-gray-800 text-gray-200 border rounded-md focus:ring-2 placeholder-gray-500 transition-colors duration-150 ease-in-out";let d="border-gray-600 focus:ring-purple-500 focus:border-purple-500";return n?d="border-red-500 focus:ring-red-500 focus:border-red-500":i?d="border-amber-500 focus:ring-amber-500 focus:border-amber-500":r&&(d="border-green-500 focus:ring-green-500 focus:border-green-500"),y.jsxs("div",{className:"relative",children:[y.jsx("select",{className:`${u} ${d} appearance-none bg-no-repeat bg-right pr-8 ${t}`,ref:s,"data-testid":o["data-testid"]||o.id||o.name,...o,children:e}),y.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400",children:y.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:y.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]})});mi.displayName="Select";const PM=({onSaveSuccess:t,onCancel:e,initialData:n={},contextEntityId:i,contextEntityType:r,currentUser:o})=>{const[s,u]=N.useState({title:"",category:Qo[0],specificType:Up[Qo[0]][0],description:"",startTime:new Date().toISOString().substring(0,16),endTime:"",outcome:void 0,contactId:"",projectId:"",propertyId:"",dealId:"",userId:(o==null?void 0:o.id)||"",...n}),[d,f]=N.useState(!1),[h,v]=N.useState({});N.useEffect(()=>{r&&i&&(r==="project"?u(E=>({...E,projectId:i})):r==="contact"&&u(E=>({...E,contactId:i}))),o&&!n.id&&u(E=>({...E,userId:o.id}))},[i,r,o,n.id]);const T=N.useMemo(()=>Up[s.category||Qo[0]]||[],[s.category]);N.useEffect(()=>{s.category&&!T.includes(s.specificType)&&u(E=>({...E,specificType:T[0]}))},[s.category,T,s.specificType]);const C=E=>{const{name:_,value:I}=E.target;if(u(D=>({...D,[_]:I})),h[_]&&v(D=>({...D,[_]:void 0})),_==="category"){const D=I,M=Up[D]||[];u(P=>({...P,category:D,specificType:M[0]||RS[0]}))}},S=async E=>{if(E.preventDefault(),!o){fe.error("Δεν βρέθηκε συνδεδεμένος χρήστης. Αποτυχία αποθήκευσης."),f(!1);return}f(!0),v({});const _={title:s.title||"",category:s.category||Qo[0],specificType:s.specificType||T[0],startTime:s.startTime?new Date(s.startTime).toISOString():new Date().toISOString(),userId:s.userId||o.id,description:s.description||void 0,endTime:s.endTime?new Date(s.endTime).toISOString():void 0,outcome:s.outcome||void 0,contactId:s.contactId||void 0,projectId:s.projectId||void 0,propertyId:s.propertyId||void 0,dealId:s.dealId||void 0};try{let I=null;n.id?I=await OM(n.id,_,o):I=await LM(_,o),I?(fe.success(U.saveSuccessNotification||"Η ενέργεια αποθηκεύτηκε!"),t(I)):fe.error(U.genericErrorNotification)}catch(I){fe.error(I.message||U.genericErrorNotification),I.fieldErrors&&v(I.fieldErrors)}finally{f(!1)}};return y.jsxs("form",{onSubmit:S,className:"space-y-3",children:[y.jsx(Ee,{label:bn.activityTitleLabel,htmlFor:"title",required:!0,validationError:h.title,children:y.jsx(Oe,{name:"title",value:s.title||"",onChange:C,disabled:d})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[y.jsx(Ee,{label:bn.activityCategoryLabel,htmlFor:"category",required:!0,validationError:h.category,children:y.jsx(mi,{name:"category",value:s.category,onChange:C,disabled:d,children:Qo.map(E=>y.jsx("option",{value:E,children:kS[E]||E},E))})}),y.jsx(Ee,{label:bn.activitySpecificTypeLabel,htmlFor:"specificType",required:!0,validationError:h.specificType,children:y.jsx(mi,{name:"specificType",value:s.specificType,onChange:C,disabled:d||T.length===0,children:T.map(E=>y.jsx("option",{value:E,children:MS[E]||E},E))})})]}),y.jsx(Ee,{label:bn.descriptionLabel,htmlFor:"description",validationError:h.description,children:y.jsx(ao,{name:"description",value:s.description||"",onChange:C,rows:3,disabled:d})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[y.jsx(Ee,{label:bn.startTimeLabel,htmlFor:"startTime",required:!0,validationError:h.startTime,children:y.jsx(Oe,{type:"datetime-local",name:"startTime",value:s.startTime||"",onChange:C,disabled:d})}),y.jsx(Ee,{label:bn.endTimeLabel,htmlFor:"endTime",validationError:h.endTime,children:y.jsx(Oe,{type:"datetime-local",name:"endTime",value:s.endTime||"",onChange:C,disabled:d})})]}),y.jsx(Ee,{label:bn.activityOutcomeLabel,htmlFor:"outcome",validationError:h.outcome,children:y.jsxs(mi,{name:"outcome",value:s.outcome||"",onChange:C,disabled:d,children:[y.jsx("option",{value:"",children:U.selectPlaceholder||"Επιλέξτε..."}),OS.map(E=>y.jsx("option",{value:E,children:LS[E]||E},E))]})}),y.jsxs("fieldset",{className:"border border-gray-700 p-3 rounded-md mt-4 space-y-2",children:[y.jsx("legend",{className:"text-gray-300 px-1 text-sm",children:bn.relatedEntitiesLabel}),y.jsx(Ee,{label:bn.relatedContactLabel,htmlFor:"contactId",validationError:h.contactId,children:y.jsx(Oe,{name:"contactId",value:s.contactId||"",onChange:C,placeholder:"ID Επαφής",disabled:d})}),y.jsx(Ee,{label:bn.relatedProjectLabel,htmlFor:"projectId",validationError:h.projectId,children:y.jsx(Oe,{name:"projectId",value:s.projectId||"",onChange:C,placeholder:"ID Έργου",disabled:d||!!(r==="project"&&i)})})]}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-gray-700",children:[y.jsx(we,{type:"button",variant:"secondary",onClick:e,disabled:d,children:U.cancelButton}),y.jsx(we,{type:"submit",variant:"primary",isLoading:d,disabled:d,children:bn.saveActivityButton})]})]})},UM=()=>{var u;const t=Te(d=>d.isActivityModalOpen),e=Te(d=>d.activityModalContext),n=Te(d=>d.closeActivityModal),i=la(d=>d.currentUser),r=N.useRef(null);if(N.useEffect(()=>{t&&setTimeout(()=>{var d;return(d=r.current)==null?void 0:d.focus()},100)},[t]),!t)return null;const o=d=>{console.log("Activity saved:",d),n()},s=(u=e==null?void 0:e.prefill)!=null&&u.id?U.editActivityModalTitle||"Επεξεργασία Ενέργειας":U.addActivityModalTitle||"Προσθήκη Νέας Ενέργειας";return y.jsx("div",{className:"modal-overlay",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"activity-form-modal-title",children:y.jsxs("div",{ref:r,tabIndex:-1,className:"modal-content custom-scrollbar-themed relative max-w-2xl w-full flex flex-col",onClick:d=>d.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-slate-700 mb-4",children:[y.jsx("h2",{id:"activity-form-modal-title",className:"text-xl font-semibold text-purple-300",children:s}),y.jsx(we,{variant:"icon",size:"sm",onClick:n,className:"!p-1 text-gray-400 hover:text-gray-200","aria-label":U.modalAlertCloseButtonAriaLabel||"Κλείσιμο",children:y.jsx(me,{name:"close",size:"md"})})]}),y.jsx(hn,{axis:"y",className:"flex-grow pr-1",children:y.jsx(PM,{onSaveSuccess:o,onCancel:n,initialData:e==null?void 0:e.prefill,contextEntityId:e==null?void 0:e.entityId,contextEntityType:e==null?void 0:e.entityType,currentUser:i})})]})})},jM=pn(Hc),zM=Mt({id:zi,fileName:xe().min(1,"Το όνομα αρχείου είναι υποχρεωτικό.").max(255),fileType:xe().min(1,"Ο τύπος αρχείου είναι υποχρεωτικός.").max(100),fileSize:gl().positive("Το μέγεθος αρχείου πρέπει να είναι θετικός αριθμός."),storagePath:xe().min(1,"Η διαδρομή αποθήκευσης είναι υποχρεωτική."),uploadedByUserId:zi,uploadedAt:oa,relatedEntityType:pn(DS),relatedEntityId:zi,documentCategory:jM,description:PS,version:gl().int().positive("Η έκδοση πρέπει να είναι θετικός ακέραιος.").optional(),tags:qt(xe().min(1).max(50)).optional(),updatedAt:oa}),VM=160,Ad=t=>new Promise(e=>setTimeout(()=>e(t),VM)),FM=(t,e)=>{switch(t){case"project":return!!Kd.find(n=>n.id===e);case"company":return!!_M.find(n=>n.id===e);case"property":return!!zS.find(n=>n.id===e);default:return!0}},BM=async(t,e)=>{console.log("[DocumentService-Mock] Fetching documents for user:",t.id,"with filters:",e);let n=[...Fs];return e!=null&&e.relatedEntityType&&(n=n.filter(i=>i.relatedEntityType===e.relatedEntityType)),e!=null&&e.relatedEntityId&&(n=n.filter(i=>i.relatedEntityId===e.relatedEntityId)),e!=null&&e.documentCategory&&(n=n.filter(i=>i.documentCategory===e.documentCategory)),e!=null&&e.uploadedByUserId&&(n=n.filter(i=>i.uploadedByUserId===e.uploadedByUserId)),Ft(t.roles,X.VIEW_ALL_DOCUMENTS)||Ft(t.roles,X.VIEW_TEAM_DOCUMENTS)||(Ft(t.roles,X.VIEW_OWN_DOCUMENTS)?n=n.filter(i=>{var r;return i.uploadedByUserId===t.id||i.relatedEntityType==="project"&&((r=Kd.find(o=>o.id===i.relatedEntityId))==null?void 0:r.managerUserId)===t.id}):n=[]),n.sort((i,r)=>new Date(r.uploadedAt).getTime()-new Date(i.uploadedAt).getTime()),Ad(n)},$M=async(t,e)=>{if(console.log("[DocumentService-Mock] Creating new document metadata by user:",e.id,"with data:",t),!Ft(e.roles,X.UPLOAD_DOCUMENTS))throw{message:"Permission denied",fieldErrors:{_form:["Δεν έχετε δικαίωμα μεταφόρτωσης εγγράφων."]}};if(!FM(t.relatedEntityType,t.relatedEntityId))throw{message:"Validation failed",fieldErrors:{relatedEntityId:[`Invalid or non-existent ${t.relatedEntityType} ID.`]}};const n={...t,uploadedByUserId:t.uploadedByUserId||e.id},i=zM.omit({id:!0,uploadedAt:!0,updatedAt:!0}).safeParse(n);if(!i.success)throw{message:"Validation failed",fieldErrors:i.error.flatten().fieldErrors};const r=new Date().toISOString(),o={id:Ce(),uploadedAt:r,updatedAt:r,...i.data};return Fs.push(o),Ad(o)},HM=async(t,e)=>{console.log(`[DocumentService-Mock] Deleting document metadata for ID: ${t} by user ${e.id}`);const n=Fs.findIndex(r=>r.id===t);if(n===-1)return Ad(void 0);const i=Fs[n];if(!Ft(e.roles,X.MANAGE_ANY_DOCUMENT_METADATA)&&!Ft(e.roles,X.DELETE_ANY_DOCUMENT_FILE)&&!(Ft(e.roles,X.MANAGE_OWN_DOCUMENT_METADATA)&&i.uploadedByUserId===e.id))throw{message:"Permission denied",fieldErrors:{_form:["Δεν έχετε δικαίωμα διαγραφής αυτού του εγγράφου."]}};return Fs.splice(n,1),Ad(void 0)},rb=5*1024*1024,GM=({entityId:t,entityType:e,currentUser:n,onUploadSuccess:i})=>{const[r,o]=N.useState(null),[s,u]=N.useState(""),[d,f]=N.useState(Hc[0]),[h,v]=N.useState(""),[T,C]=N.useState(!1),[S,E]=N.useState({}),_=D=>{var P;const M=(P=D.target.files)==null?void 0:P[0];if(M){if(M.size>rb){fe.error(`Το αρχείο υπερβαίνει το μέγιστο επιτρεπτό μέγεθος (${rb/(1024*1024)}MB).`),D.target.value="",o(null);return}o(M),E(L=>({...L,file:void 0}))}},I=async D=>{if(D.preventDefault(),!r){E({file:["Παρακαλώ επιλέξτε ένα αρχείο."]});return}if(!n){fe.error("Απαιτείται σύνδεση χρήστη για τη μεταφόρτωση.");return}C(!0),E({});const M=`/${e}/${t}/${r.name}`,P={fileName:r.name,fileType:r.type,fileSize:r.size,storagePath:M,uploadedByUserId:n.id,relatedEntityType:e,relatedEntityId:t,documentCategory:d,description:s.trim()||void 0,tags:h.split(",").map(L=>L.trim()).filter(L=>L)||void 0};try{const L=await $M(P,n);fe.success("Το έγγραφο (metadata) δημιουργήθηκε με επιτυχία."),i(L),o(null),u(""),f(Hc[0]),v("");const R=document.getElementById("document-file-input");R&&(R.value="")}catch(L){fe.error(L.message||"Σφάλμα κατά τη δημιουργία metadata εγγράφου."),L.fieldErrors&&E(L.fieldErrors)}finally{C(!1)}};return y.jsxs("form",{onSubmit:I,className:"space-y-3",children:[y.jsx(Ee,{label:"Αρχείο",htmlFor:"document-file-input",required:!0,validationError:S.file,children:y.jsx(Oe,{type:"file",id:"document-file-input",onChange:_,disabled:T,className:"!p-2"})}),y.jsx(Ee,{label:bn.documentCategoryLabel,htmlFor:"documentCategory",required:!0,validationError:S.documentCategory,children:y.jsx(mi,{id:"documentCategory",name:"documentCategory",value:d,onChange:D=>f(D.target.value),disabled:T,children:Hc.map(D=>y.jsx("option",{value:D,children:hg[D]||D},D))})}),y.jsx(Ee,{label:bn.descriptionLabel,htmlFor:"description",validationError:S.description,children:y.jsx(ao,{id:"description",name:"description",value:s,onChange:D=>u(D.target.value),rows:2,disabled:T,placeholder:"Προαιρετική περιγραφή για το έγγραφο"})}),y.jsx(Ee,{label:bn.tagsLabel,htmlFor:"tags",validationError:S.tags,children:y.jsx(Oe,{type:"text",id:"tags",name:"tags",value:h,onChange:D=>v(D.target.value),disabled:T,placeholder:"π.χ. σημαντικό, προσφορά, 2024"})}),S._form&&y.jsx("p",{className:"text-xs text-red-400 mt-1",children:S._form.join(", ")}),y.jsx("div",{className:"flex justify-end pt-2",children:y.jsx(we,{type:"submit",variant:"primary",isLoading:T,disabled:!r||T,children:"Μεταφόρτωση & Αποθήκευση Metadata"})})]})},qM=()=>{const t=Te(u=>u.isDocumentUploadModalOpen),e=Te(u=>u.documentUploadModalContext),n=Te(u=>u.closeDocumentUploadModal),i=la(u=>u.currentUser),r=N.useRef(null);if(N.useEffect(()=>{t&&setTimeout(()=>{var u;return(u=r.current)==null?void 0:u.focus()},100)},[t]),!t||!e)return null;const o=u=>{console.log("Document metadata created and (simulated) file uploaded:",u),n()},s=U.documentUploadModalTitle||"Μεταφόρτωση Νέου Εγγράφου";return y.jsx("div",{className:"modal-overlay",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"document-upload-modal-title",children:y.jsxs("div",{ref:r,tabIndex:-1,className:"modal-content custom-scrollbar-themed relative max-w-xl w-full flex flex-col",onClick:u=>u.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-slate-700 mb-4",children:[y.jsx("h2",{id:"document-upload-modal-title",className:"text-xl font-semibold text-purple-300",children:s}),y.jsx(we,{variant:"icon",size:"sm",onClick:n,className:"!p-1 text-gray-400 hover:text-gray-200","aria-label":U.modalAlertCloseButtonAriaLabel||"Κλείσιμο",children:y.jsx(me,{name:"close",size:"md"})})]}),y.jsx(hn,{axis:"y",className:"flex-grow pr-1",children:i?y.jsx(GM,{entityId:e.entityId,entityType:e.entityType,currentUser:i,onUploadSuccess:o}):y.jsx("p",{className:"text-red-400 text-sm p-4 text-center",children:"Απαιτείται σύνδεση χρήστη για τη μεταφόρτωση εγγράφων."})})]})})},WM=({contact:t,isSelected:e,onSelect:n})=>{const i=t.contactType==="naturalPerson"?`${t.basicIdentity.firstName} ${t.basicIdentity.lastName}`.trim():t.name,r=(t.contactType==="legalEntity"||t.contactType==="publicService")&&t.avatarUrl,o={transformOrigin:"bottom",backfaceVisibility:"hidden",willChange:"transform"};return y.jsx("li",{className:`px-3 transition-all duration-300 ease-out rounded-lg mx-2 my-1.5 transform hover:-translate-y-0.5 hover:scale-[1.015]
                  ${e?"bg-purple-700 shadow-inner":"bg-slate-800 hover:bg-slate-750 shadow-lg hover:shadow-xl"}`,style:o,children:y.jsxs("button",{onClick:n,className:"w-full text-left py-3 flex items-center space-x-3 focus:outline-none focus-visible:ring-2 focus-visible:ring-purple-400 focus-visible:ring-offset-1 focus-visible:ring-offset-slate-800 rounded-md","aria-current":e?"true":void 0,style:{transform:"rotateX(5deg) translateZ(0)"},children:[r?y.jsx(Wd,{logoUrl:t.avatarUrl,altText:i,containerClasses:"w-10 h-10 flex items-center justify-center overflow-hidden rounded-md flex-shrink-0",maxWidthClass:"max-w-10",maxHeightClass:"max-h-10"}):y.jsx(da,{name:i,avatarUrl:t.avatarUrl,sizeClasses:"w-10 h-10 rounded-full flex-shrink-0",textClasses:"text-base"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:`font-medium truncate text-base ${e?"text-white":"text-gray-200"}`,children:i}),y.jsx("p",{className:`text-sm truncate ${e?"text-purple-200":"text-gray-400"}`,children:t.email||Bi[t.contactType]})]})]})})},YM=({sizeClasses:t="w-10 h-10",className:e=""})=>y.jsx("div",{className:`animate-pulse bg-slate-700 rounded-full ${t} ${e}`}),Vh=({className:t="",width:e="w-full",lines:n=1,height:i="h-4"})=>y.jsx(y.Fragment,{children:Array.from({length:n}).map((r,o)=>y.jsx("div",{className:`animate-pulse bg-slate-700 rounded ${e} ${i} ${n>1&&o<n-1?"mb-2":""} ${t}`},o))}),ZM=()=>y.jsxs("li",{className:"px-3 py-3 mx-2 my-1 flex items-center space-x-3",children:[y.jsx(YM,{sizeClasses:"w-10 h-10"}),y.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[y.jsx(Vh,{width:"w-3/4",height:"h-3.5"}),y.jsx(Vh,{width:"w-1/2",height:"h-3"})]})]}),KM=({contacts:t,totalContactsCount:e,totalFilteredAndSortedContactsCount:n,isSearching:i,isLoading:r,fetchError:o,onRefetch:s})=>{const u=Te(_=>_.selectedContactId),d=Te(_=>_.setActiveView),f=Te(_=>_.setSelectedContactId),h=Te(_=>_.setCurrentFormMode),v=_=>{f(_),h(null),d("contacts")},T={perspective:"1200px",perspectiveOrigin:"center center"},C=()=>r?y.jsxs("ul",{className:"divide-y divide-slate-700 py-2",style:T,children:[" ",Array.from({length:7}).map((_,I)=>y.jsx(ZM,{},I))]}):o?y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[y.jsx(me,{name:"alertTriangle",size:"w-12 h-12",className:"mb-3 text-red-500"}),y.jsx("p",{className:"text-red-400 font-semibold",children:U.genericErrorNotification}),o&&y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o}),s&&y.jsx(we,{variant:"secondary",size:"sm",onClick:s,className:"mt-6",children:"Δοκιμάστε ξανά"})]}):e===0&&!i?y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500 p-4",children:[y.jsx(me,{name:"user",size:"w-16 h-16",className:"mb-3"}),y.jsx("p",{className:"text-sm",children:U.noContactsYet})]}):t.length===0&&(i||n<e)?y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500 p-4",children:[y.jsx(me,{name:"search",size:"w-12 h-12",className:"mb-3 text-gray-600"}),y.jsx("p",{className:"text-sm",children:"Δεν βρέθηκαν επαφές που να ταιριάζουν με τα κριτήριά σας."})]}):y.jsxs("ul",{className:"divide-y divide-slate-700 py-2",style:T,children:[" ",t.map(_=>y.jsx(WM,{contact:_,isSelected:_.id===u,onSelect:()=>v(_.id)},_.id))]}),S=!r&&!o;let E="";return S&&(e===0?E="Καμία επαφή":n<e?i?E=`${t.length} από ${n} (Σύνολο: ${e})`:E=`${n} από ${e} Επαφές`:i?E=`${t.length} από ${e} Επαφές`:E=`${e} ${e===1?"Επαφή":"Επαφές"}`),y.jsxs(y.Fragment,{children:[y.jsx(hn,{axis:"y",className:"flex-grow",children:C()}),S&&y.jsx("div",{className:"p-3 border-t border-slate-700 text-xs text-center text-gray-500 flex-shrink-0",children:E})]})},XM=(t,e="+30")=>{if(!(t!=null&&t.trim()))return"";let n=t.trim().replace(/[\s\(\)-]/g,"");if(e==="+30"){if(n.startsWith("+30"))return"+"+n.substring(1).replace(/\D/g,"");if(n.startsWith("0030"))return"+30"+n.substring(4).replace(/\D/g,"");const i=n.replace(/\D/g,"");return i.startsWith("30")?"+"+i:i.startsWith("69")||i.startsWith("2")?"+30"+i:n}else{if(n.startsWith(e))return n;const i=n.replace(/\D/g,"");return i.startsWith(e.substring(1))?"+"+i:e+i}},ab=(t,e)=>{var r;if(!t.number)return null;const n=t.number.startsWith("+")?t.number.substring(1):t.number.replace(/\D/g,"");switch(e||((r=t.protocols)==null?void 0:r[0])||"voice"){case"voice":return`tel:${t.number}`;case"sms":return`sms:${t.number}`;case"whatsapp":return`https://wa.me/${n}`;case"viber":return`viber://chat?number=${n}`;case"telegram":return`https://t.me/+${n}`;case"signal":return`sgnl://signal.me/#p/${n}`;default:return`tel:${t.number}`}},VS=De.memo(({phoneNumbers:t,uiStrings:e,className:n="",onStartCall:i})=>{if(!t||t.length===0)return y.jsxs("div",{className:`flex items-center text-gray-400 text-sm ${n}`,children:[y.jsx(me,{name:"phone",size:"sm",className:"mr-2 text-gray-500 flex-shrink-0"}),y.jsx("span",{className:"text-gray-500 text-xs",children:e.noPhone})]});const r=o=>{switch(o){case"voice":return{iconName:"phone",tooltip:e.tooltipCall||"Call"};case"sms":return{iconName:"email",tooltip:e.tooltipSms||"Send SMS"};case"whatsapp":return{iconName:"whatsApp",tooltip:e.tooltipWhatsApp||"WhatsApp"};case"viber":return{iconName:"viber",tooltip:e.tooltipViber||"Viber"};case"telegram":return{iconName:"telegram",tooltip:e.tooltipTelegram||"Telegram"};case"signal":return{iconName:"phone",tooltip:e.tooltipSignal||"Signal"};default:return{iconName:"phone",tooltip:o}}};return y.jsx("ul",{className:`space-y-1.5 ${n}`,children:t.map(o=>{var f;const s=ab(o,"voice"),u=ld[o.type]||o.type,d=((f=o.voipIntegrationDetails)==null?void 0:f.canDialViaSystem)===!0;return y.jsxs("li",{className:"text-sm text-gray-300",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[o.isPrimary&&y.jsx(ht,{content:e.primaryPhoneTooltip||"Primary Phone",position:"top",offsetValue:4,children:y.jsx("span",{className:"text-purple-400 text-xs font-semibold",children:"*"})}),s?y.jsx("a",{href:s,className:"hover:underline text-green-300 break-all",title:`${e.phoneTypeLabel}: ${u}, ${o.number}`,children:o.number}):y.jsx("span",{className:"text-green-300 break-all",children:o.number}),y.jsxs("span",{className:"text-xs text-gray-500",children:["(",u,")"]}),i&&d&&y.jsx(ht,{content:`Κλήση VoIP (${o.number})`,position:"top",offsetValue:4,children:y.jsx("button",{onClick:()=>i(o),className:"p-0.5 text-purple-400 hover:text-purple-300 transition-colors duration-150","aria-label":`VoIP κλήση ${o.number}`,children:y.jsx(me,{name:"phone",size:"xs"})})})]}),(o.label||o.extension)&&y.jsxs("div",{className:"pl-4 text-xs text-gray-400",children:[o.label&&y.jsx("span",{children:o.label}),o.label&&o.extension&&y.jsx("span",{className:"mx-1",children:"-"}),o.extension&&y.jsxs("span",{children:[e.extensionLabel||"Ext.",": ",o.extension]})]}),o.protocols&&o.protocols.length>0&&y.jsx("div",{className:"pl-4 mt-0.5 flex items-center space-x-2.5",children:o.protocols.map(h=>{const{iconName:v,tooltip:T}=r(h),C=ab(o,h);return!C||h==="voice"?null:y.jsx(ht,{content:T,position:"bottom",offsetValue:6,children:y.jsx("a",{href:C,target:h==="whatsapp"||h==="telegram"||h==="viber"?"_blank":void 0,rel:h==="whatsapp"||h==="telegram"||h==="viber"?"noopener noreferrer":void 0,className:"text-gray-400 hover:text-purple-300 transition-colors duration-150","aria-label":`${T} ${o.number}`,children:y.jsx(me,{name:v,size:"xs"})})},h)})})]},o.id)})})});VS.displayName="ContactPhoneDisplayList";const FS=De.memo(({taxInfo:t})=>!t||!t.afm&&!t.doy?null:y.jsxs("div",{className:"mt-2",children:[y.jsxs("h4",{className:"text-sm font-semibold text-gray-300 mb-0.5",children:[U.taxInfoCardLabel,":"]}),y.jsxs("div",{className:"pl-2 border-l-2 border-gray-700 space-y-0.5 text-xs text-gray-400",children:[t.afm&&y.jsxs("p",{children:["ΑΦΜ: ",t.afm]}),t.doy&&y.jsxs("p",{children:["ΔΟΥ: ",t.doy]})]})]}));FS.displayName="TaxInfoDisplay";const BS=De.memo(({links:t})=>{if(!t||t.length===0)return null;const e=r=>{let o="user";switch(r){case"facebook":o="facebook";break;case"instagram":o="instagram";break;case"x":o="x";break;case"tiktok":o="tikTok";break;case"linkedin":o="linkedIn";break;case"website":o="website";break;case"otherSocial":o="user";break;default:return y.jsx(me,{name:"user",size:"md"})}return y.jsx(me,{name:o,size:"md"})},n=(r,o)=>o,i=(r,o)=>!o.startsWith("http://")&&!o.startsWith("https://")?`http://${o}`:o;return y.jsxs("div",{className:"mt-2",children:[y.jsxs("h4",{className:"text-sm font-semibold text-gray-300 mb-1",children:[U.socialMediaCardLabel,":"]}),y.jsx("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2",children:t.map((r,o)=>y.jsxs("a",{href:i(r.platform,r.url),target:"_blank",rel:"noopener noreferrer",title:`${Ga[r.platform]||r.platform}: ${n(r.platform,r.url)}`,className:"flex items-center gap-1 text-gray-400 hover:text-purple-400 transition-colors duration-200","aria-label":`Σύνδεσμος για ${Ga[r.platform]||r.platform}`,children:[e(r.platform),y.jsx("span",{className:"text-xs sr-only",children:Ga[r.platform]||r.platform})]},`${r.platform}-${o}-${r.url}`))})]})});BS.displayName="SocialMediaLinksDisplay";const $S=De.memo(({addresses:t})=>!t||t.length===0?y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:U.noAddresses}):y.jsxs("div",{className:"mt-2",children:[y.jsxs("h4",{className:"text-sm font-semibold text-gray-300 mb-1",children:[U.addressesSectionTitle,":"]}),t.map((e,n)=>y.jsxs("div",{className:"text-xs text-gray-400 mb-1 pl-2 border-l-2 border-gray-700",children:[y.jsxs("p",{children:[e.street," ",e.number,", ",e.postalCode," ",e.city,e.isPrimary&&y.jsx("span",{className:"ml-1 text-purple-400",title:U.primaryAddressTooltip,children:"*"})]}),(e.area||e.municipality||e.prefecture||e.country!=="ΕΛΛΑΔΑ")&&y.jsxs("p",{children:[e.area&&`${e.area}, `,e.municipality&&`${e.municipality}, `,e.prefecture&&`${e.prefecture}, `,e.country]}),e.addressType&&y.jsxs("p",{className:"italic text-gray-500",children:["(",e.addressType,")"]})]},n))]}));$S.displayName="AddressDisplay";const Cr=De.memo(({label:t,value:e})=>e?y.jsxs("p",{className:"text-xs text-gray-400",children:[y.jsxs("span",{className:"font-semibold",children:[t,":"]})," ",e]}):null);Cr.displayName="DetailItem";const HS=De.memo(({contact:t})=>{const{dateOfBirth:e,parentalInfo:n,identityCardInfo:i,maritalStatus:r}=t;return e||(n==null?void 0:n.fatherName)||(n==null?void 0:n.motherName)||(i==null?void 0:i.idNumber)||(i==null?void 0:i.issuingAuthority)||(i==null?void 0:i.dateOfIssue)||(i==null?void 0:i.placeOfBirth)||r?y.jsxs("div",{className:"mt-2",children:[y.jsxs("h4",{className:"text-sm font-semibold text-gray-300 mb-1",children:[U.identityInfoSectionTitle,":"]}),y.jsxs("div",{className:"pl-2 border-l-2 border-gray-700 space-y-0.5",children:[y.jsx(Cr,{label:U.dateOfBirthCardLabel,value:e}),y.jsx(Cr,{label:U.fatherNameCardLabel,value:n==null?void 0:n.fatherName}),y.jsx(Cr,{label:U.motherNameCardLabel,value:n==null?void 0:n.motherName}),y.jsx(Cr,{label:U.idNumberCardLabel,value:i==null?void 0:i.idNumber}),y.jsx(Cr,{label:U.issuingAuthorityCardLabel,value:i==null?void 0:i.issuingAuthority}),y.jsx(Cr,{label:U.dateOfIssueCardLabel,value:i==null?void 0:i.dateOfIssue}),y.jsx(Cr,{label:U.placeOfBirthCardLabel,value:i==null?void 0:i.placeOfBirth}),y.jsx(Cr,{label:U.maritalStatusCardLabel,value:r?od[r]:void 0})]})]}):null});HS.displayName="IdentityInfoDisplay";const el=De.memo(({label:t,value:e})=>e?y.jsxs("p",{className:"text-xs text-gray-400",children:[y.jsxs("span",{className:"font-semibold",children:[t,":"]})," ",e]}):null);el.displayName="DetailItem";const GS=De.memo(({contact:t})=>{const{professionalInfo:e}=t;return!e||!e.profession&&!e.employmentStatus&&!e.companyName&&!e.jobTitle&&!e.educationLevel?null:y.jsxs("div",{className:"mt-2",children:[y.jsxs("h4",{className:"text-sm font-semibold text-gray-300 mb-1",children:[U.professionalInfoSectionTitle,":"]}),y.jsxs("div",{className:"pl-2 border-l-2 border-gray-700 space-y-0.5",children:[y.jsx(el,{label:U.professionCardLabel,value:e.profession}),y.jsx(el,{label:U.employmentStatusCardLabel,value:e.employmentStatus?ad[e.employmentStatus]:void 0}),y.jsx(el,{label:U.worksAtCompanyCardLabel,value:e.companyName}),y.jsx(el,{label:U.jobTitleCardLabel,value:e.jobTitle}),y.jsx(el,{label:U.educationLevelCardLabel,value:e.educationLevel})]})]})});GS.displayName="ProfessionalInfoDisplay";const tl=De.memo(({label:t,checked:e})=>e===void 0?null:y.jsxs("p",{className:`text-xs ${e?"text-green-400":"text-red-400"}`,children:[y.jsxs("span",{className:"font-semibold",children:[t,":"]})," ",e?"Ναι":"Όχι"]}));tl.displayName="AttributeItem";const qS=De.memo(({contact:t})=>{const{propertyAttributes:e}=t;return!e||e.isPropertyOwner===void 0&&e.isLandParcelOwner===void 0&&e.isTenant===void 0&&e.isProspectiveBuyer===void 0&&e.isProspectiveSeller===void 0||!Object.values(e).some(i=>i!==void 0)?null:y.jsxs("div",{className:"mt-2",children:[y.jsxs("h4",{className:"text-sm font-semibold text-gray-300 mb-1",children:[U.propertyAttributesSectionTitle,":"]}),y.jsxs("div",{className:"pl-2 border-l-2 border-gray-700 space-y-0.5",children:[y.jsx(tl,{label:U.isPropertyOwnerLabel,checked:e.isPropertyOwner}),y.jsx(tl,{label:U.isLandParcelOwnerLabel,checked:e.isLandParcelOwner}),y.jsx(tl,{label:U.isTenantLabel,checked:e.isTenant}),y.jsx(tl,{label:U.isProspectiveBuyerLabel,checked:e.isProspectiveBuyer}),y.jsx(tl,{label:U.isProspectiveSellerLabel,checked:e.isProspectiveSeller})]})]})});qS.displayName="PropertyAttributesDisplay";const Us=De.memo(({label:t,value:e})=>e?y.jsxs("p",{className:"text-xs text-gray-400",children:[y.jsxs("span",{className:"font-semibold",children:[t,":"]})," ",e]}):null);Us.displayName="DetailItem";const WS=De.memo(({contact:t})=>{const{brandName:e,companyType:n,gemhNumber:i,parentCompany:r}=t;return!e&&!n&&!i&&!r?null:y.jsxs("div",{className:"mt-2",children:[y.jsxs("h4",{className:"text-sm font-semibold text-gray-300 mb-1",children:[U.legalEntityInfoSectionTitle,":"]}),y.jsxs("div",{className:"pl-2 border-l-2 border-gray-700 space-y-0.5",children:[y.jsx(Us,{label:U.brandNameCardLabel,value:e}),y.jsx(Us,{label:U.companyTypeCardLabel,value:n}),y.jsx(Us,{label:U.gemhNumberCardLabel,value:i}),y.jsx(Us,{label:U.parentCompanyCardLabel,value:r})]})]})});WS.displayName="LegalEntityInfoDisplay";const Kc=De.memo(({label:t,value:e})=>e?y.jsxs("p",{className:"text-xs text-gray-400",children:[y.jsxs("span",{className:"font-semibold",children:[t,":"]})," ",e]}):null);Kc.displayName="DetailItem";const YS=De.memo(({contact:t})=>{const{serviceType:e,directorate:n,department:i}=t;return!e&&!n&&!i?null:y.jsxs("div",{className:"mt-2",children:[y.jsxs("h4",{className:"text-sm font-semibold text-gray-300 mb-1",children:[U.publicServiceInfoSectionTitle,":"]}),y.jsxs("div",{className:"pl-2 border-l-2 border-gray-700 space-y-0.5",children:[y.jsx(Kc,{label:U.serviceTypeCardLabel,value:e}),y.jsx(Kc,{label:U.directorateCardLabel,value:n}),y.jsx(Kc,{label:U.departmentCardLabel,value:i})]})]})});YS.displayName="PublicServiceInfoDisplay";const ZS=De.memo(({contact:t,onStartCall:e})=>{const n=kt(r=>r.addRoleToContact),i=r=>{Object.keys(Vi).includes(r)?(n(t.id,r),fe.success(U.aiCategoryAddSuccess(Vi[r]||r))):fe(U.aiCategoryNotStandardRole(r),{icon:"ℹ️"})};return y.jsxs("div",{className:"space-y-1",children:[y.jsxs("h4",{className:"text-[var(--font-size-sm)] font-[var(--font-weight-semibold)] text-gray-300 mb-1 mt-2",children:[U.contactInfoSectionTitle,":"]}),y.jsxs("div",{className:"pl-2 border-l-2 border-gray-700 space-y-1",children:[y.jsxs("p",{className:"flex items-center text-gray-300 text-[var(--font-size-sm)]",children:[y.jsx(me,{name:"email",size:"sm",className:"mr-2 text-blue-400 flex-shrink-0"}),t.email?y.jsx("a",{href:`mailto:${t.email}`,className:"hover:underline text-blue-300 break-all",title:`${U.emailLabel}: ${t.email}`,children:t.email}):y.jsxs("span",{className:"text-gray-500 text-[var(--font-size-xs)]",children:[" ",U.noEmail," "]})]}),y.jsx(VS,{phoneNumbers:t.contactPhoneNumbers||[],uiStrings:U,className:"py-1",onStartCall:e})]}),t.contactType==="naturalPerson"&&y.jsxs(y.Fragment,{children:[y.jsx(HS,{contact:t}),y.jsx(GS,{contact:t}),y.jsx(qS,{contact:t})]}),t.contactType==="legalEntity"&&y.jsx(WS,{contact:t}),t.contactType==="publicService"&&y.jsx(YS,{contact:t}),y.jsx(FS,{taxInfo:t.taxInfo}),y.jsx($S,{addresses:t.addresses}),y.jsx(BS,{links:t.socialMediaLinks}),t.suggestedCategories&&t.suggestedCategories.length>0&&y.jsxs("div",{className:"mt-2",children:[y.jsxs("h4",{className:"text-[var(--font-size-sm)] font-[var(--font-weight-semibold)] text-gray-300 mb-1 flex items-center",children:[y.jsx(me,{name:"sparkles",size:"sm",className:"mr-1.5 text-yellow-400 flex-shrink-0"}),(U==null?void 0:U.aiSuggestedCategoriesCardLabel)||"AI Προτεινόμενες Κατηγορίες",":"]}),y.jsx("div",{className:"pl-2 border-l-2 border-gray-700 space-y-0.5",children:y.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.suggestedCategories.map((r,o)=>{const s=Object.keys(Vi).includes(r),u=s?"bg-green-700 hover:bg-green-600 text-green-100":"bg-slate-600 hover:bg-slate-500 text-gray-200",d=s?`Προσθήκη του ρόλου '${Vi[r]||r}'`:`Η κατηγορία '${r}' δεν είναι τυπικός ρόλος`;return y.jsxs("button",{onClick:()=>i(r),className:`text-xs px-2 py-0.5 rounded-full transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-purple-500 flex items-center space-x-1 ${u}`,title:d,children:[s&&y.jsx(me,{name:"plus",size:"xs",className:"opacity-70"}),y.jsx("span",{children:s&&Vi[r]||r})]},o)})})})]})]})});ZS.displayName="ContactInfoDisplay";const JM=({onEditClick:t,onDeleteClick:e,anyOperationLoading:n})=>y.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[y.jsx(ht,{content:U.editContactButton,position:"top",offsetValue:8,animation:"fade",animationDuration:150,children:y.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-purple-400 transition-colors duration-150","aria-label":U.editContactButton,disabled:n,children:y.jsx(me,{name:"edit",size:"md"})})}),y.jsx(ht,{content:U.deleteContactButton,position:"top",offsetValue:8,animation:"fade",animationDuration:150,children:y.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-red-500 transition-colors duration-150","aria-label":U.deleteContactButton,disabled:n,children:y.jsx(me,{name:"trash",size:"md"})})})]});function KS(t){const e=t.contactType==="naturalPerson"?`${t.basicIdentity.firstName} ${t.basicIdentity.lastName}`.trim():t.name,n=t.contactType==="naturalPerson"&&t.basicIdentity.nickname?` (${t.basicIdentity.nickname})`:"",i=Bi[t.contactType]||t.contactType,r=t.roles&&t.roles.length>0?t.roles.map(s=>Vi[s]||s).join(", "):"",o=(t.contactType==="legalEntity"||t.contactType==="publicService")&&!!t.avatarUrl;return{displayName:e,nicknameDisplay:n,translatedContactType:i,translatedRoles:r,shouldUseLogoDisplay:o}}const QM=({contact:t,onEditClick:e,onDeleteClick:n,anyOperationLoading:i})=>{const{displayName:r,nicknameDisplay:o,translatedContactType:s,translatedRoles:u,shouldUseLogoDisplay:d}=KS(t);return y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[d?y.jsx(Wd,{logoUrl:t.avatarUrl,altText:r}):y.jsx(da,{name:r,avatarUrl:t.avatarUrl}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-[var(--font-heading)] text-[var(--font-size-xl)] sm:text-[var(--font-size-2xl)] font-[var(--font-weight-bold)] text-purple-300",children:[r,y.jsx("span",{className:"text-[var(--font-size-lg)] text-gray-400 font-[var(--font-sans)]",children:o})]}),y.jsx("p",{className:"text-[var(--font-size-xs)] text-gray-400",children:s}),u&&y.jsxs("p",{className:"text-[var(--font-size-xs)] text-gray-500 mt-0.5",children:[U.rolesCardLabel,": ",u]})]})]}),y.jsx(JM,{onEditClick:e,onDeleteClick:n,anyOperationLoading:i})]})},e5=({isOpen:t,onClose:e,summaryContent:n,error:i,isLoading:r})=>t?y.jsx("div",{className:"modal-overlay",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"ai-summary-modal-title",children:y.jsxs("div",{className:"modal-content custom-scrollbar-themed relative max-w-xl w-full",onClick:o=>o.stopPropagation(),children:[y.jsx(we,{variant:"icon",size:"sm",onClick:e,className:"absolute top-3 right-3 !p-1 text-gray-400 hover:text-gray-200","aria-label":U.aiSummaryCloseButton||"Κλείσιμο",children:y.jsx(me,{name:"close",size:"md"})}),y.jsx("h2",{id:"ai-summary-modal-title",className:"text-xl font-semibold text-purple-300 mb-4",children:U.aiSummaryModalTitle}),y.jsxs(hn,{axis:"y",className:"max-h-[60vh] mb-6",children:[r&&y.jsxs("div",{className:"flex items-center justify-center p-6",children:[y.jsx(me,{name:"spinner",size:"lg",className:"text-purple-400 mr-2"}),y.jsx("p",{className:"text-gray-300",children:U.summarizingNotesMessage})]}),i&&!r&&y.jsxs("div",{className:"p-3 bg-red-900/30 rounded-md text-red-300",children:[y.jsxs("p",{className:"font-semibold",children:[U.aiSummaryErrorPreamble,":"]}),y.jsx("p",{className:"whitespace-pre-wrap",children:i})]}),!r&&!i&&n&&y.jsx("div",{className:"markdown-content text-gray-300 whitespace-pre-wrap",children:n}),!r&&!i&&!n&&y.jsx("p",{className:"text-gray-400 italic",children:"Δεν υπάρχει διαθέσιμη σύνοψη."})]}),y.jsx("div",{className:"flex justify-end",children:y.jsx(we,{variant:"secondary",onClick:e,autoFocus:!0,children:U.aiSummaryCloseButton||"Κλείσιμο"})})]})}):null;function t5(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const n5=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,i5=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,r5={};function ob(t,e){return(r5.jsx?i5:n5).test(t)}const a5=/[ \t\n\f\r]/g;function o5(t){return typeof t=="object"?t.type==="text"?lb(t.value):!1:lb(t)}function lb(t){return t.replace(a5,"")===""}class fu{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}fu.prototype.normal={};fu.prototype.property={};fu.prototype.space=void 0;function XS(t,e){const n={},i={};for(const r of t)Object.assign(n,r.property),Object.assign(i,r.normal);return new fu(n,i,e)}function Fh(t){return t.toLowerCase()}class Pn{constructor(e,n){this.attribute=n,this.property=e}}Pn.prototype.attribute="";Pn.prototype.booleanish=!1;Pn.prototype.boolean=!1;Pn.prototype.commaOrSpaceSeparated=!1;Pn.prototype.commaSeparated=!1;Pn.prototype.defined=!1;Pn.prototype.mustUseProperty=!1;Pn.prototype.number=!1;Pn.prototype.overloadedBoolean=!1;Pn.prototype.property="";Pn.prototype.spaceSeparated=!1;Pn.prototype.space=void 0;let l5=0;const He=oo(),zt=oo(),Bh=oo(),he=oo(),xt=oo(),ll=oo(),Wn=oo();function oo(){return 2**++l5}const $h=Object.freeze(Object.defineProperty({__proto__:null,boolean:He,booleanish:zt,commaOrSpaceSeparated:Wn,commaSeparated:ll,number:he,overloadedBoolean:Bh,spaceSeparated:xt},Symbol.toStringTag,{value:"Module"})),Vp=Object.keys($h);class zg extends Pn{constructor(e,n,i,r){let o=-1;if(super(e,n),sb(this,"space",r),typeof i=="number")for(;++o<Vp.length;){const s=Vp[o];sb(this,Vp[o],(i&$h[s])===$h[s])}}}zg.prototype.defined=!0;function sb(t,e,n){n&&(t[e]=n)}function El(t){const e={},n={};for(const[i,r]of Object.entries(t.properties)){const o=new zg(i,t.transform(t.attributes||{},i),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),e[i]=o,n[Fh(i)]=i,n[Fh(o.attribute)]=i}return new fu(e,n,t.space)}const JS=El({properties:{ariaActiveDescendant:null,ariaAtomic:zt,ariaAutoComplete:null,ariaBusy:zt,ariaChecked:zt,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:xt,ariaCurrent:null,ariaDescribedBy:xt,ariaDetails:null,ariaDisabled:zt,ariaDropEffect:xt,ariaErrorMessage:null,ariaExpanded:zt,ariaFlowTo:xt,ariaGrabbed:zt,ariaHasPopup:null,ariaHidden:zt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xt,ariaLevel:he,ariaLive:null,ariaModal:zt,ariaMultiLine:zt,ariaMultiSelectable:zt,ariaOrientation:null,ariaOwns:xt,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:zt,ariaReadOnly:zt,ariaRelevant:null,ariaRequired:zt,ariaRoleDescription:xt,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:zt,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function QS(t,e){return e in t?t[e]:e}function eE(t,e){return QS(t,e.toLowerCase())}const s5=El({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ll,acceptCharset:xt,accessKey:xt,action:null,allow:null,allowFullScreen:He,allowPaymentRequest:He,allowUserMedia:He,alt:null,as:null,async:He,autoCapitalize:null,autoComplete:xt,autoFocus:He,autoPlay:He,blocking:xt,capture:null,charSet:null,checked:He,cite:null,className:xt,cols:he,colSpan:null,content:null,contentEditable:zt,controls:He,controlsList:xt,coords:he|ll,crossOrigin:null,data:null,dateTime:null,decoding:null,default:He,defer:He,dir:null,dirName:null,disabled:He,download:Bh,draggable:zt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:He,formTarget:null,headers:xt,height:he,hidden:Bh,high:he,href:null,hrefLang:null,htmlFor:xt,httpEquiv:xt,id:null,imageSizes:null,imageSrcSet:null,inert:He,inputMode:null,integrity:null,is:null,isMap:He,itemId:null,itemProp:xt,itemRef:xt,itemScope:He,itemType:xt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:He,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:He,muted:He,name:null,nonce:null,noModule:He,noValidate:He,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:He,optimum:he,pattern:null,ping:xt,placeholder:null,playsInline:He,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:He,referrerPolicy:null,rel:xt,required:He,reversed:He,rows:he,rowSpan:he,sandbox:xt,scope:null,scoped:He,seamless:He,selected:He,shadowRootClonable:He,shadowRootDelegatesFocus:He,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:zt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:He,useMap:null,value:zt,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xt,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:He,declare:He,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:He,noHref:He,noShade:He,noWrap:He,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:zt,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:He,disableRemotePlayback:He,prefix:null,property:null,results:he,security:null,unselectable:null},space:"html",transform:eE}),u5=El({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Wn,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:xt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:He,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ll,g2:ll,glyphName:ll,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:Wn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Wn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Wn,rev:Wn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Wn,requiredFeatures:Wn,requiredFonts:Wn,requiredFormats:Wn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:Wn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Wn,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Wn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:QS}),tE=El({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),nE=El({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:eE}),iE=El({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),c5={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},d5=/[A-Z]/g,ub=/-[a-z]/g,f5=/^data[-\w.:]+$/i;function m5(t,e){const n=Fh(e);let i=e,r=Pn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&f5.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(ub,h5);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!ub.test(o)){let s=o.replace(d5,p5);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}r=zg}return new r(i,e)}function p5(t){return"-"+t.toLowerCase()}function h5(t){return t.charAt(1).toUpperCase()}const g5=XS([JS,s5,tE,nE,iE],"html"),Vg=XS([JS,u5,tE,nE,iE],"svg");function y5(t){return t.join(" ").trim()}var Yo={},Fp,cb;function v5(){if(cb)return Fp;cb=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,u=/^\s+|\s+$/g,d=`
`,f="/",h="*",v="",T="comment",C="declaration";Fp=function(E,_){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];_=_||{};var I=1,D=1;function M(ae){var ee=ae.match(e);ee&&(I+=ee.length);var Q=ae.lastIndexOf(d);D=~Q?ae.length-Q:D+ae.length}function P(){var ae={line:I,column:D};return function(ee){return ee.position=new L(ae),q(),ee}}function L(ae){this.start=ae,this.end={line:I,column:D},this.source=_.source}L.prototype.content=E;function R(ae){var ee=new Error(_.source+":"+I+":"+D+": "+ae);if(ee.reason=ae,ee.filename=_.source,ee.line=I,ee.column=D,ee.source=E,!_.silent)throw ee}function B(ae){var ee=ae.exec(E);if(ee){var Q=ee[0];return M(Q),E=E.slice(Q.length),ee}}function q(){B(n)}function $(ae){var ee;for(ae=ae||[];ee=j();)ee!==!1&&ae.push(ee);return ae}function j(){var ae=P();if(!(f!=E.charAt(0)||h!=E.charAt(1))){for(var ee=2;v!=E.charAt(ee)&&(h!=E.charAt(ee)||f!=E.charAt(ee+1));)++ee;if(ee+=2,v===E.charAt(ee-1))return R("End of comment missing");var Q=E.slice(2,ee-2);return D+=2,M(Q),E=E.slice(ee),D+=2,ae({type:T,comment:Q})}}function Z(){var ae=P(),ee=B(i);if(ee){if(j(),!B(r))return R("property missing ':'");var Q=B(o),z=ae({type:C,property:S(ee[0].replace(t,v)),value:Q?S(Q[0].replace(t,v)):v});return B(s),z}}function ne(){var ae=[];$(ae);for(var ee;ee=Z();)ee!==!1&&(ae.push(ee),$(ae));return ae}return q(),ne()};function S(E){return E?E.replace(u,v):v}return Fp}var db;function x5(){if(db)return Yo;db=1;var t=Yo&&Yo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.default=n;var e=t(v5());function n(i,r){var o=null;if(!i||typeof i!="string")return o;var s=(0,e.default)(i),u=typeof r=="function";return s.forEach(function(d){if(d.type==="declaration"){var f=d.property,h=d.value;u?r(f,h,d):h&&(o=o||{},o[f]=h)}}),o}return Yo}var Is={},fb;function b5(){if(fb)return Is;fb=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,o=function(f){return!f||n.test(f)||t.test(f)},s=function(f,h){return h.toUpperCase()},u=function(f,h){return"".concat(h,"-")},d=function(f,h){return h===void 0&&(h={}),o(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(r,u):f=f.replace(i,u),f.replace(e,s))};return Is.camelCase=d,Is}var Ds,mb;function T5(){if(mb)return Ds;mb=1;var t=Ds&&Ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=t(x5()),n=b5();function i(r,o){var s={};return!r||typeof r!="string"||(0,e.default)(r,function(u,d){u&&d&&(s[(0,n.camelCase)(u,o)]=d)}),s}return i.default=i,Ds=i,Ds}var C5=T5();const S5=su(C5),rE=aE("end"),Fg=aE("start");function aE(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function E5(t){const e=Fg(t),n=rE(t);if(e&&n)return{start:e,end:n}}function Bs(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?pb(t.position):"start"in t||"end"in t?pb(t):"line"in t||"column"in t?Hh(t):""}function Hh(t){return hb(t&&t.line)+":"+hb(t&&t.column)}function pb(t){return Hh(t&&t.start)+"-"+Hh(t&&t.end)}function hb(t){return t&&typeof t=="number"?t:1}class gn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let r="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?r=e:!o.cause&&e&&(s=!0,r=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof i=="string"){const d=i.indexOf(":");d===-1?o.ruleId=i:(o.source=i.slice(0,d),o.ruleId=i.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=u?u.line:void 0,this.name=Bs(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}gn.prototype.file="";gn.prototype.name="";gn.prototype.reason="";gn.prototype.message="";gn.prototype.stack="";gn.prototype.column=void 0;gn.prototype.line=void 0;gn.prototype.ancestors=void 0;gn.prototype.cause=void 0;gn.prototype.fatal=void 0;gn.prototype.place=void 0;gn.prototype.ruleId=void 0;gn.prototype.source=void 0;const Bg={}.hasOwnProperty,w5=new Map,A5=/[A-Z]/g,_5=new Set(["table","tbody","thead","tfoot","tr"]),N5=new Set(["td","th"]),oE="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function I5(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=U5(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=P5(n,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Vg:g5,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=lE(r,t,void 0);return o&&typeof o!="string"?o:r.create(t,r.Fragment,{children:o||void 0},void 0)}function lE(t,e,n){if(e.type==="element")return D5(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return k5(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return R5(t,e,n);if(e.type==="mdxjsEsm")return M5(t,e);if(e.type==="root")return L5(t,e,n);if(e.type==="text")return O5(t,e)}function D5(t,e,n){const i=t.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=Vg,t.schema=r),t.ancestors.push(e);const o=uE(t,e.tagName,!1),s=j5(t,e);let u=Hg(t,e);return _5.has(e.tagName)&&(u=u.filter(function(d){return typeof d=="string"?!o5(d):!0})),sE(t,s,o,e),$g(s,u),t.ancestors.pop(),t.schema=i,t.create(e,o,s,n)}function k5(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}nu(t,e.position)}function M5(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);nu(t,e.position)}function R5(t,e,n){const i=t.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=Vg,t.schema=r),t.ancestors.push(e);const o=e.name===null?t.Fragment:uE(t,e.name,!0),s=z5(t,e),u=Hg(t,e);return sE(t,s,o,e),$g(s,u),t.ancestors.pop(),t.schema=i,t.create(e,o,s,n)}function L5(t,e,n){const i={};return $g(i,Hg(t,e)),t.create(e,t.Fragment,i,n)}function O5(t,e){return e.value}function sE(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function $g(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function P5(t,e,n){return i;function i(r,o,s,u){const f=Array.isArray(s.children)?n:e;return u?f(o,s,u):f(o,s)}}function U5(t,e){return n;function n(i,r,o,s){const u=Array.isArray(o.children),d=Fg(i);return e(r,o,s,u,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function j5(t,e){const n={};let i,r;for(r in e.properties)if(r!=="children"&&Bg.call(e.properties,r)){const o=V5(t,r,e.properties[r]);if(o){const[s,u]=o;t.tableCellAlignToStyle&&s==="align"&&typeof u=="string"&&N5.has(e.tagName)?i=u:n[s]=u}}if(i){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function z5(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const o=i.data.estree.body[0];o.type;const s=o.expression;s.type;const u=s.properties[0];u.type,Object.assign(n,t.evaluater.evaluateExpression(u.argument))}else nu(t,e.position);else{const r=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const u=i.value.data.estree.body[0];u.type,o=t.evaluater.evaluateExpression(u.expression)}else nu(t,e.position);else o=i.value===null?!0:i.value;n[r]=o}return n}function Hg(t,e){const n=[];let i=-1;const r=t.passKeys?new Map:w5;for(;++i<e.children.length;){const o=e.children[i];let s;if(t.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const f=r.get(d)||0;s=d+"-"+f,r.set(d,f+1)}}const u=lE(t,o,s);u!==void 0&&n.push(u)}return n}function V5(t,e,n){const i=m5(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?t5(n):y5(n)),i.property==="style"){let r=typeof n=="object"?n:F5(t,String(n));return t.stylePropertyNameCase==="css"&&(r=B5(r)),["style",r]}return[t.elementAttributeNameCase==="react"&&i.space?c5[i.property]||i.property:i.attribute,n]}}function F5(t,e){try{return S5(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,r=new gn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=oE+"#cannot-parse-style-attribute",r}}function uE(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let o=-1,s;for(;++o<r.length;){const u=ob(r[o])?{type:"Identifier",name:r[o]}:{type:"Literal",value:r[o]};s=s?{type:"MemberExpression",object:s,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}i=s}else i=ob(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return Bg.call(t.components,r)?t.components[r]:r}if(t.evaluater)return t.evaluater.evaluateExpression(i);nu(t)}function nu(t,e){const n=new gn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=oE+"#cannot-handle-mdx-estrees-without-createevaluater",n}function B5(t){const e={};let n;for(n in t)Bg.call(t,n)&&(e[$5(n)]=t[n]);return e}function $5(t){let e=t.replace(A5,H5);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function H5(t){return"-"+t.toLowerCase()}const Bp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},G5={};function Gg(t,e){const n=G5,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return cE(t,i,r)}function cE(t,e,n){if(q5(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return gb(t.children,e,n)}return Array.isArray(t)?gb(t,e,n):""}function gb(t,e,n){const i=[];let r=-1;for(;++r<t.length;)i[r]=cE(t[r],e,n);return i.join("")}function q5(t){return!!(t&&typeof t=="object")}const yb=document.createElement("i");function qg(t){const e="&"+t+";";yb.innerHTML=e;const n=yb.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Kn(t,e,n,i){const r=t.length;let o=0,s;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,i.length<1e4)s=Array.from(i),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);o<i.length;)s=i.slice(o,o+1e4),s.unshift(e,0),t.splice(...s),o+=1e4,e+=1e4}function fi(t,e){return t.length>0?(Kn(t,t.length,0,e),t):e}const vb={}.hasOwnProperty;function dE(t){const e={};let n=-1;for(;++n<t.length;)W5(e,t[n]);return e}function W5(t,e){let n;for(n in e){const r=(vb.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o){vb.call(r,s)||(r[s]=[]);const u=o[s];Y5(r[s],Array.isArray(u)?u:u?[u]:[])}}}function Y5(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Kn(t,0,0,i)}function fE(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function wi(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Sn=va(/[A-Za-z]/),mn=va(/[\dA-Za-z]/),Z5=va(/[#-'*+\--9=?A-Z^-~]/);function _d(t){return t!==null&&(t<32||t===127)}const Gh=va(/\d/),K5=va(/[\dA-Fa-f]/),X5=va(/[!-/:-@[-`{-~]/);function Pe(t){return t!==null&&t<-2}function gt(t){return t!==null&&(t<0||t===32)}function Ke(t){return t===-2||t===-1||t===32}const Jd=va(new RegExp("\\p{P}|\\p{S}","u")),to=va(/\s/);function va(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function wl(t){const e=[];let n=-1,i=0,r=0;for(;++n<t.length;){const o=t.charCodeAt(n);let s="";if(o===37&&mn(t.charCodeAt(n+1))&&mn(t.charCodeAt(n+2)))r=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const u=t.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(s=String.fromCharCode(o,u),r=1):s="�"}else s=String.fromCharCode(o);s&&(e.push(t.slice(i,n),encodeURIComponent(s)),i=n+r+1,s=""),r&&(n+=r,r=0)}return e.join("")+t.slice(i)}function Qe(t,e,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(d){return Ke(d)?(t.enter(n),u(d)):e(d)}function u(d){return Ke(d)&&o++<r?(t.consume(d),u):(t.exit(n),e(d))}}const J5={tokenize:Q5};function Q5(t){const e=t.attempt(this.parser.constructs.contentInitial,i,r);let n;return e;function i(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Qe(t,e,"linePrefix")}function r(u){return t.enter("paragraph"),o(u)}function o(u){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,s(u)}function s(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return Pe(u)?(t.consume(u),t.exit("chunkText"),o):(t.consume(u),s)}}const eR={tokenize:tR},xb={tokenize:nR};function tR(t){const e=this,n=[];let i=0,r,o,s;return u;function u(M){if(i<n.length){const P=n[i];return e.containerState=P[1],t.attempt(P[0].continuation,d,f)(M)}return f(M)}function d(M){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&D();const P=e.events.length;let L=P,R;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){R=e.events[L][1].end;break}I(i);let B=P;for(;B<e.events.length;)e.events[B][1].end={...R},B++;return Kn(e.events,L+1,0,e.events.slice(P)),e.events.length=B,f(M)}return u(M)}function f(M){if(i===n.length){if(!r)return T(M);if(r.currentConstruct&&r.currentConstruct.concrete)return S(M);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(xb,h,v)(M)}function h(M){return r&&D(),I(i),T(M)}function v(M){return e.parser.lazy[e.now().line]=i!==n.length,s=e.now().offset,S(M)}function T(M){return e.containerState={},t.attempt(xb,C,S)(M)}function C(M){return i++,n.push([e.currentConstruct,e.containerState]),T(M)}function S(M){if(M===null){r&&D(),I(0),t.consume(M);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:o}),E(M)}function E(M){if(M===null){_(t.exit("chunkFlow"),!0),I(0),t.consume(M);return}return Pe(M)?(t.consume(M),_(t.exit("chunkFlow")),i=0,e.interrupt=void 0,u):(t.consume(M),E)}function _(M,P){const L=e.sliceStream(M);if(P&&L.push(null),M.previous=o,o&&(o.next=M),o=M,r.defineSkip(M.start),r.write(L),e.parser.lazy[M.start.line]){let R=r.events.length;for(;R--;)if(r.events[R][1].start.offset<s&&(!r.events[R][1].end||r.events[R][1].end.offset>s))return;const B=e.events.length;let q=B,$,j;for(;q--;)if(e.events[q][0]==="exit"&&e.events[q][1].type==="chunkFlow"){if($){j=e.events[q][1].end;break}$=!0}for(I(i),R=B;R<e.events.length;)e.events[R][1].end={...j},R++;Kn(e.events,q+1,0,e.events.slice(B)),e.events.length=R}}function I(M){let P=n.length;for(;P-- >M;){const L=n[P];e.containerState=L[1],L[0].exit.call(e,t)}n.length=M}function D(){r.write([null]),o=void 0,r=void 0,e.containerState._closeFlow=void 0}}function nR(t,e,n){return Qe(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yl(t){if(t===null||gt(t)||to(t))return 1;if(Jd(t))return 2}function Qd(t,e,n){const i=[];let r=-1;for(;++r<t.length;){const o=t[r].resolveAll;o&&!i.includes(o)&&(e=o(e,n),i.push(o))}return e}const qh={name:"attention",resolveAll:iR,tokenize:rR};function iR(t,e){let n=-1,i,r,o,s,u,d,f,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const v={...t[i][1].end},T={...t[n][1].start};bb(v,-d),bb(T,d),s={type:d>1?"strongSequence":"emphasisSequence",start:v,end:{...t[i][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:T},o={type:d>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},r={type:d>1?"strong":"emphasis",start:{...s.start},end:{...u.end}},t[i][1].end={...s.start},t[n][1].start={...u.end},f=[],t[i][1].end.offset-t[i][1].start.offset&&(f=fi(f,[["enter",t[i][1],e],["exit",t[i][1],e]])),f=fi(f,[["enter",r,e],["enter",s,e],["exit",s,e],["enter",o,e]]),f=fi(f,Qd(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),f=fi(f,[["exit",o,e],["enter",u,e],["exit",u,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,f=fi(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Kn(t,i-1,n-i+3,f),n=i+f.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function rR(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=yl(i);let o;return s;function s(d){return o=d,t.enter("attentionSequence"),u(d)}function u(d){if(d===o)return t.consume(d),u;const f=t.exit("attentionSequence"),h=yl(d),v=!h||h===2&&r||n.includes(d),T=!r||r===2&&h||n.includes(i);return f._open=!!(o===42?v:v&&(r||!T)),f._close=!!(o===42?T:T&&(h||!v)),e(d)}}function bb(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const aR={name:"autolink",tokenize:oR};function oR(t,e,n){let i=0;return r;function r(C){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(C),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(C){return Sn(C)?(t.consume(C),s):C===64?n(C):f(C)}function s(C){return C===43||C===45||C===46||mn(C)?(i=1,u(C)):f(C)}function u(C){return C===58?(t.consume(C),i=0,d):(C===43||C===45||C===46||mn(C))&&i++<32?(t.consume(C),u):(i=0,f(C))}function d(C){return C===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(C),t.exit("autolinkMarker"),t.exit("autolink"),e):C===null||C===32||C===60||_d(C)?n(C):(t.consume(C),d)}function f(C){return C===64?(t.consume(C),h):Z5(C)?(t.consume(C),f):n(C)}function h(C){return mn(C)?v(C):n(C)}function v(C){return C===46?(t.consume(C),i=0,h):C===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(C),t.exit("autolinkMarker"),t.exit("autolink"),e):T(C)}function T(C){if((C===45||mn(C))&&i++<63){const S=C===45?T:v;return t.consume(C),S}return n(C)}}const mu={partial:!0,tokenize:lR};function lR(t,e,n){return i;function i(o){return Ke(o)?Qe(t,r,"linePrefix")(o):r(o)}function r(o){return o===null||Pe(o)?e(o):n(o)}}const mE={continuation:{tokenize:uR},exit:cR,name:"blockQuote",tokenize:sR};function sR(t,e,n){const i=this;return r;function r(s){if(s===62){const u=i.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return Ke(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function uR(t,e,n){const i=this;return r;function r(s){return Ke(s)?Qe(t,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return t.attempt(mE,e,n)(s)}}function cR(t){t.exit("blockQuote")}const pE={name:"characterEscape",tokenize:dR};function dR(t,e,n){return i;function i(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),r}function r(o){return X5(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const hE={name:"characterReference",tokenize:fR};function fR(t,e,n){const i=this;let r=0,o,s;return u;function u(v){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),d}function d(v){return v===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(v),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),o=31,s=mn,h(v))}function f(v){return v===88||v===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(v),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=K5,h):(t.enter("characterReferenceValue"),o=7,s=Gh,h(v))}function h(v){if(v===59&&r){const T=t.exit("characterReferenceValue");return s===mn&&!qg(i.sliceSerialize(T))?n(v):(t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(v)&&r++<o?(t.consume(v),h):n(v)}}const Tb={partial:!0,tokenize:pR},Cb={concrete:!0,name:"codeFenced",tokenize:mR};function mR(t,e,n){const i=this,r={partial:!0,tokenize:L};let o=0,s=0,u;return d;function d(R){return f(R)}function f(R){const B=i.events[i.events.length-1];return o=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,u=R,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(R)}function h(R){return R===u?(s++,t.consume(R),h):s<3?n(R):(t.exit("codeFencedFenceSequence"),Ke(R)?Qe(t,v,"whitespace")(R):v(R))}function v(R){return R===null||Pe(R)?(t.exit("codeFencedFence"),i.interrupt?e(R):t.check(Tb,E,P)(R)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),T(R))}function T(R){return R===null||Pe(R)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),v(R)):Ke(R)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Qe(t,C,"whitespace")(R)):R===96&&R===u?n(R):(t.consume(R),T)}function C(R){return R===null||Pe(R)?v(R):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),S(R))}function S(R){return R===null||Pe(R)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),v(R)):R===96&&R===u?n(R):(t.consume(R),S)}function E(R){return t.attempt(r,P,_)(R)}function _(R){return t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),I}function I(R){return o>0&&Ke(R)?Qe(t,D,"linePrefix",o+1)(R):D(R)}function D(R){return R===null||Pe(R)?t.check(Tb,E,P)(R):(t.enter("codeFlowValue"),M(R))}function M(R){return R===null||Pe(R)?(t.exit("codeFlowValue"),D(R)):(t.consume(R),M)}function P(R){return t.exit("codeFenced"),e(R)}function L(R,B,q){let $=0;return j;function j(Q){return R.enter("lineEnding"),R.consume(Q),R.exit("lineEnding"),Z}function Z(Q){return R.enter("codeFencedFence"),Ke(Q)?Qe(R,ne,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):ne(Q)}function ne(Q){return Q===u?(R.enter("codeFencedFenceSequence"),ae(Q)):q(Q)}function ae(Q){return Q===u?($++,R.consume(Q),ae):$>=s?(R.exit("codeFencedFenceSequence"),Ke(Q)?Qe(R,ee,"whitespace")(Q):ee(Q)):q(Q)}function ee(Q){return Q===null||Pe(Q)?(R.exit("codeFencedFence"),B(Q)):q(Q)}}}function pR(t,e,n){const i=this;return r;function r(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return i.parser.lazy[i.now().line]?n(s):e(s)}}const $p={name:"codeIndented",tokenize:gR},hR={partial:!0,tokenize:yR};function gR(t,e,n){const i=this;return r;function r(f){return t.enter("codeIndented"),Qe(t,o,"linePrefix",5)(f)}function o(f){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(f):n(f)}function s(f){return f===null?d(f):Pe(f)?t.attempt(hR,s,d)(f):(t.enter("codeFlowValue"),u(f))}function u(f){return f===null||Pe(f)?(t.exit("codeFlowValue"),s(f)):(t.consume(f),u)}function d(f){return t.exit("codeIndented"),e(f)}}function yR(t,e,n){const i=this;return r;function r(s){return i.parser.lazy[i.now().line]?n(s):Pe(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),r):Qe(t,o,"linePrefix",5)(s)}function o(s){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):Pe(s)?r(s):n(s)}}const vR={name:"codeText",previous:bR,resolve:xR,tokenize:TR};function xR(t){let e=t.length-4,n=3,i,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(r=i):(i===e||t[i][1].type==="lineEnding")&&(t[r][1].type="codeTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function bR(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function TR(t,e,n){let i=0,r,o;return s;function s(v){return t.enter("codeText"),t.enter("codeTextSequence"),u(v)}function u(v){return v===96?(t.consume(v),i++,u):(t.exit("codeTextSequence"),d(v))}function d(v){return v===null?n(v):v===32?(t.enter("space"),t.consume(v),t.exit("space"),d):v===96?(o=t.enter("codeTextSequence"),r=0,h(v)):Pe(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),d):(t.enter("codeTextData"),f(v))}function f(v){return v===null||v===32||v===96||Pe(v)?(t.exit("codeTextData"),d(v)):(t.consume(v),f)}function h(v){return v===96?(t.consume(v),r++,h):r===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(v)):(o.type="codeTextData",f(v))}}class CR{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const r=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&ks(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ks(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ks(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ks(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ks(this.left,n.reverse())}}}function ks(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function gE(t){const e={};let n=-1,i,r,o,s,u,d,f;const h=new CR(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(i=h.get(n),n&&i[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(d=i[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,SR(h,n)),n=e[n],f=!0);else if(i[1]._container){for(o=n,r=void 0;o--;)if(s=h.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(r&&(h.get(r)[1].type="lineEndingBlank"),s[1].type="lineEnding",r=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;r&&(i[1].end={...h.get(r)[1].start},u=h.slice(r,n),u.unshift(i),h.splice(r,n-r+1,u))}}return Kn(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function SR(t,e){const n=t.get(e)[1],i=t.get(e)[2];let r=e-1;const o=[];let s=n._tokenizer;s||(s=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const u=s.events,d=[],f={};let h,v,T=-1,C=n,S=0,E=0;const _=[E];for(;C;){for(;t.get(++r)[1]!==C;);o.push(r),C._tokenizer||(h=i.sliceStream(C),C.next||h.push(null),v&&s.defineSkip(C.start),C._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),C._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),v=C,C=C.next}for(C=n;++T<u.length;)u[T][0]==="exit"&&u[T-1][0]==="enter"&&u[T][1].type===u[T-1][1].type&&u[T][1].start.line!==u[T][1].end.line&&(E=T+1,_.push(E),C._tokenizer=void 0,C.previous=void 0,C=C.next);for(s.events=[],C?(C._tokenizer=void 0,C.previous=void 0):_.pop(),T=_.length;T--;){const I=u.slice(_[T],_[T+1]),D=o.pop();d.push([D,D+I.length-1]),t.splice(D,2,I)}for(d.reverse(),T=-1;++T<d.length;)f[S+d[T][0]]=S+d[T][1],S+=d[T][1]-d[T][0]-1;return f}const ER={resolve:AR,tokenize:_R},wR={partial:!0,tokenize:NR};function AR(t){return gE(t),t}function _R(t,e){let n;return i;function i(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(u)}function r(u){return u===null?o(u):Pe(u)?t.check(wR,s,o)(u):(t.consume(u),r)}function o(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function s(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function NR(t,e,n){const i=this;return r;function r(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Qe(t,o,"linePrefix")}function o(s){if(s===null||Pe(s))return n(s);const u=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):t.interrupt(i.parser.constructs.flow,n,e)(s)}}function yE(t,e,n,i,r,o,s,u,d){const f=d||Number.POSITIVE_INFINITY;let h=0;return v;function v(I){return I===60?(t.enter(i),t.enter(r),t.enter(o),t.consume(I),t.exit(o),T):I===null||I===32||I===41||_d(I)?n(I):(t.enter(i),t.enter(s),t.enter(u),t.enter("chunkString",{contentType:"string"}),E(I))}function T(I){return I===62?(t.enter(o),t.consume(I),t.exit(o),t.exit(r),t.exit(i),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),C(I))}function C(I){return I===62?(t.exit("chunkString"),t.exit(u),T(I)):I===null||I===60||Pe(I)?n(I):(t.consume(I),I===92?S:C)}function S(I){return I===60||I===62||I===92?(t.consume(I),C):C(I)}function E(I){return!h&&(I===null||I===41||gt(I))?(t.exit("chunkString"),t.exit(u),t.exit(s),t.exit(i),e(I)):h<f&&I===40?(t.consume(I),h++,E):I===41?(t.consume(I),h--,E):I===null||I===32||I===40||_d(I)?n(I):(t.consume(I),I===92?_:E)}function _(I){return I===40||I===41||I===92?(t.consume(I),E):E(I)}}function vE(t,e,n,i,r,o){const s=this;let u=0,d;return f;function f(C){return t.enter(i),t.enter(r),t.consume(C),t.exit(r),t.enter(o),h}function h(C){return u>999||C===null||C===91||C===93&&!d||C===94&&!u&&"_hiddenFootnoteSupport"in s.parser.constructs?n(C):C===93?(t.exit(o),t.enter(r),t.consume(C),t.exit(r),t.exit(i),e):Pe(C)?(t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===null||C===91||C===93||Pe(C)||u++>999?(t.exit("chunkString"),h(C)):(t.consume(C),d||(d=!Ke(C)),C===92?T:v)}function T(C){return C===91||C===92||C===93?(t.consume(C),u++,v):v(C)}}function xE(t,e,n,i,r,o){let s;return u;function u(T){return T===34||T===39||T===40?(t.enter(i),t.enter(r),t.consume(T),t.exit(r),s=T===40?41:T,d):n(T)}function d(T){return T===s?(t.enter(r),t.consume(T),t.exit(r),t.exit(i),e):(t.enter(o),f(T))}function f(T){return T===s?(t.exit(o),d(s)):T===null?n(T):Pe(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),Qe(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(T))}function h(T){return T===s||T===null||Pe(T)?(t.exit("chunkString"),f(T)):(t.consume(T),T===92?v:h)}function v(T){return T===s||T===92?(t.consume(T),h):h(T)}}function $s(t,e){let n;return i;function i(r){return Pe(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,i):Ke(r)?Qe(t,i,n?"linePrefix":"lineSuffix")(r):e(r)}}const IR={name:"definition",tokenize:kR},DR={partial:!0,tokenize:MR};function kR(t,e,n){const i=this;let r;return o;function o(C){return t.enter("definition"),s(C)}function s(C){return vE.call(i,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(C)}function u(C){return r=wi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),C===58?(t.enter("definitionMarker"),t.consume(C),t.exit("definitionMarker"),d):n(C)}function d(C){return gt(C)?$s(t,f)(C):f(C)}function f(C){return yE(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(C)}function h(C){return t.attempt(DR,v,v)(C)}function v(C){return Ke(C)?Qe(t,T,"whitespace")(C):T(C)}function T(C){return C===null||Pe(C)?(t.exit("definition"),i.parser.defined.push(r),e(C)):n(C)}}function MR(t,e,n){return i;function i(u){return gt(u)?$s(t,r)(u):n(u)}function r(u){return xE(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return Ke(u)?Qe(t,s,"whitespace")(u):s(u)}function s(u){return u===null||Pe(u)?e(u):n(u)}}const RR={name:"hardBreakEscape",tokenize:LR};function LR(t,e,n){return i;function i(o){return t.enter("hardBreakEscape"),t.consume(o),r}function r(o){return Pe(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const OR={name:"headingAtx",resolve:PR,tokenize:UR};function PR(t,e){let n=t.length-2,i=3,r,o;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},o={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Kn(t,i,n-i+1,[["enter",r,e],["enter",o,e],["exit",o,e],["exit",r,e]])),t}function UR(t,e,n){let i=0;return r;function r(h){return t.enter("atxHeading"),o(h)}function o(h){return t.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&i++<6?(t.consume(h),s):h===null||gt(h)?(t.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(t.enter("atxHeadingSequence"),d(h)):h===null||Pe(h)?(t.exit("atxHeading"),e(h)):Ke(h)?Qe(t,u,"whitespace")(h):(t.enter("atxHeadingText"),f(h))}function d(h){return h===35?(t.consume(h),d):(t.exit("atxHeadingSequence"),u(h))}function f(h){return h===null||h===35||gt(h)?(t.exit("atxHeadingText"),u(h)):(t.consume(h),f)}}const jR=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Sb=["pre","script","style","textarea"],zR={concrete:!0,name:"htmlFlow",resolveTo:BR,tokenize:$R},VR={partial:!0,tokenize:GR},FR={partial:!0,tokenize:HR};function BR(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function $R(t,e,n){const i=this;let r,o,s,u,d;return f;function f(O){return h(O)}function h(O){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(O),v}function v(O){return O===33?(t.consume(O),T):O===47?(t.consume(O),o=!0,E):O===63?(t.consume(O),r=3,i.interrupt?e:w):Sn(O)?(t.consume(O),s=String.fromCharCode(O),_):n(O)}function T(O){return O===45?(t.consume(O),r=2,C):O===91?(t.consume(O),r=5,u=0,S):Sn(O)?(t.consume(O),r=4,i.interrupt?e:w):n(O)}function C(O){return O===45?(t.consume(O),i.interrupt?e:w):n(O)}function S(O){const ve="CDATA[";return O===ve.charCodeAt(u++)?(t.consume(O),u===ve.length?i.interrupt?e:ne:S):n(O)}function E(O){return Sn(O)?(t.consume(O),s=String.fromCharCode(O),_):n(O)}function _(O){if(O===null||O===47||O===62||gt(O)){const ve=O===47,ke=s.toLowerCase();return!ve&&!o&&Sb.includes(ke)?(r=1,i.interrupt?e(O):ne(O)):jR.includes(s.toLowerCase())?(r=6,ve?(t.consume(O),I):i.interrupt?e(O):ne(O)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(O):o?D(O):M(O))}return O===45||mn(O)?(t.consume(O),s+=String.fromCharCode(O),_):n(O)}function I(O){return O===62?(t.consume(O),i.interrupt?e:ne):n(O)}function D(O){return Ke(O)?(t.consume(O),D):j(O)}function M(O){return O===47?(t.consume(O),j):O===58||O===95||Sn(O)?(t.consume(O),P):Ke(O)?(t.consume(O),M):j(O)}function P(O){return O===45||O===46||O===58||O===95||mn(O)?(t.consume(O),P):L(O)}function L(O){return O===61?(t.consume(O),R):Ke(O)?(t.consume(O),L):M(O)}function R(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),d=O,B):Ke(O)?(t.consume(O),R):q(O)}function B(O){return O===d?(t.consume(O),d=null,$):O===null||Pe(O)?n(O):(t.consume(O),B)}function q(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||gt(O)?L(O):(t.consume(O),q)}function $(O){return O===47||O===62||Ke(O)?M(O):n(O)}function j(O){return O===62?(t.consume(O),Z):n(O)}function Z(O){return O===null||Pe(O)?ne(O):Ke(O)?(t.consume(O),Z):n(O)}function ne(O){return O===45&&r===2?(t.consume(O),z):O===60&&r===1?(t.consume(O),G):O===62&&r===4?(t.consume(O),H):O===63&&r===3?(t.consume(O),w):O===93&&r===5?(t.consume(O),de):Pe(O)&&(r===6||r===7)?(t.exit("htmlFlowData"),t.check(VR,ie,ae)(O)):O===null||Pe(O)?(t.exit("htmlFlowData"),ae(O)):(t.consume(O),ne)}function ae(O){return t.check(FR,ee,ie)(O)}function ee(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),Q}function Q(O){return O===null||Pe(O)?ae(O):(t.enter("htmlFlowData"),ne(O))}function z(O){return O===45?(t.consume(O),w):ne(O)}function G(O){return O===47?(t.consume(O),s="",re):ne(O)}function re(O){if(O===62){const ve=s.toLowerCase();return Sb.includes(ve)?(t.consume(O),H):ne(O)}return Sn(O)&&s.length<8?(t.consume(O),s+=String.fromCharCode(O),re):ne(O)}function de(O){return O===93?(t.consume(O),w):ne(O)}function w(O){return O===62?(t.consume(O),H):O===45&&r===2?(t.consume(O),w):ne(O)}function H(O){return O===null||Pe(O)?(t.exit("htmlFlowData"),ie(O)):(t.consume(O),H)}function ie(O){return t.exit("htmlFlow"),e(O)}}function HR(t,e,n){const i=this;return r;function r(s){return Pe(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o):n(s)}function o(s){return i.parser.lazy[i.now().line]?n(s):e(s)}}function GR(t,e,n){return i;function i(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),t.attempt(mu,e,n)}}const qR={name:"htmlText",tokenize:WR};function WR(t,e,n){const i=this;let r,o,s;return u;function u(w){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(w),d}function d(w){return w===33?(t.consume(w),f):w===47?(t.consume(w),L):w===63?(t.consume(w),M):Sn(w)?(t.consume(w),q):n(w)}function f(w){return w===45?(t.consume(w),h):w===91?(t.consume(w),o=0,S):Sn(w)?(t.consume(w),D):n(w)}function h(w){return w===45?(t.consume(w),C):n(w)}function v(w){return w===null?n(w):w===45?(t.consume(w),T):Pe(w)?(s=v,G(w)):(t.consume(w),v)}function T(w){return w===45?(t.consume(w),C):v(w)}function C(w){return w===62?z(w):w===45?T(w):v(w)}function S(w){const H="CDATA[";return w===H.charCodeAt(o++)?(t.consume(w),o===H.length?E:S):n(w)}function E(w){return w===null?n(w):w===93?(t.consume(w),_):Pe(w)?(s=E,G(w)):(t.consume(w),E)}function _(w){return w===93?(t.consume(w),I):E(w)}function I(w){return w===62?z(w):w===93?(t.consume(w),I):E(w)}function D(w){return w===null||w===62?z(w):Pe(w)?(s=D,G(w)):(t.consume(w),D)}function M(w){return w===null?n(w):w===63?(t.consume(w),P):Pe(w)?(s=M,G(w)):(t.consume(w),M)}function P(w){return w===62?z(w):M(w)}function L(w){return Sn(w)?(t.consume(w),R):n(w)}function R(w){return w===45||mn(w)?(t.consume(w),R):B(w)}function B(w){return Pe(w)?(s=B,G(w)):Ke(w)?(t.consume(w),B):z(w)}function q(w){return w===45||mn(w)?(t.consume(w),q):w===47||w===62||gt(w)?$(w):n(w)}function $(w){return w===47?(t.consume(w),z):w===58||w===95||Sn(w)?(t.consume(w),j):Pe(w)?(s=$,G(w)):Ke(w)?(t.consume(w),$):z(w)}function j(w){return w===45||w===46||w===58||w===95||mn(w)?(t.consume(w),j):Z(w)}function Z(w){return w===61?(t.consume(w),ne):Pe(w)?(s=Z,G(w)):Ke(w)?(t.consume(w),Z):$(w)}function ne(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(t.consume(w),r=w,ae):Pe(w)?(s=ne,G(w)):Ke(w)?(t.consume(w),ne):(t.consume(w),ee)}function ae(w){return w===r?(t.consume(w),r=void 0,Q):w===null?n(w):Pe(w)?(s=ae,G(w)):(t.consume(w),ae)}function ee(w){return w===null||w===34||w===39||w===60||w===61||w===96?n(w):w===47||w===62||gt(w)?$(w):(t.consume(w),ee)}function Q(w){return w===47||w===62||gt(w)?$(w):n(w)}function z(w){return w===62?(t.consume(w),t.exit("htmlTextData"),t.exit("htmlText"),e):n(w)}function G(w){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),re}function re(w){return Ke(w)?Qe(t,de,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):de(w)}function de(w){return t.enter("htmlTextData"),s(w)}}const Wg={name:"labelEnd",resolveAll:XR,resolveTo:JR,tokenize:QR},YR={tokenize:eL},ZR={tokenize:tL},KR={tokenize:nL};function XR(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return t.length!==n.length&&Kn(t,0,t.length,n),t}function JR(t,e){let n=t.length,i=0,r,o,s,u;for(;n--;)if(r=t[n][1],o){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(o=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(s=n);const d={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[o][1].start},end:{...t[s][1].end}},h={type:"labelText",start:{...t[o+i+2][1].end},end:{...t[s-2][1].start}};return u=[["enter",d,e],["enter",f,e]],u=fi(u,t.slice(o+1,o+i+3)),u=fi(u,[["enter",h,e]]),u=fi(u,Qd(e.parser.constructs.insideSpan.null,t.slice(o+i+4,s-3),e)),u=fi(u,[["exit",h,e],t[s-2],t[s-1],["exit",f,e]]),u=fi(u,t.slice(s+1)),u=fi(u,[["exit",d,e]]),Kn(t,o,t.length,u),t}function QR(t,e,n){const i=this;let r=i.events.length,o,s;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){o=i.events[r][1];break}return u;function u(T){return o?o._inactive?v(T):(s=i.parser.defined.includes(wi(i.sliceSerialize({start:o.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(T),t.exit("labelMarker"),t.exit("labelEnd"),d):n(T)}function d(T){return T===40?t.attempt(YR,h,s?h:v)(T):T===91?t.attempt(ZR,h,s?f:v)(T):s?h(T):v(T)}function f(T){return t.attempt(KR,h,v)(T)}function h(T){return e(T)}function v(T){return o._balanced=!0,n(T)}}function eL(t,e,n){return i;function i(v){return t.enter("resource"),t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),r}function r(v){return gt(v)?$s(t,o)(v):o(v)}function o(v){return v===41?h(v):yE(t,s,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function s(v){return gt(v)?$s(t,d)(v):h(v)}function u(v){return n(v)}function d(v){return v===34||v===39||v===40?xE(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):h(v)}function f(v){return gt(v)?$s(t,h)(v):h(v)}function h(v){return v===41?(t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),t.exit("resource"),e):n(v)}}function tL(t,e,n){const i=this;return r;function r(u){return vE.call(i,t,o,s,"reference","referenceMarker","referenceString")(u)}function o(u){return i.parser.defined.includes(wi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function s(u){return n(u)}}function nL(t,e,n){return i;function i(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),r}function r(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const iL={name:"labelStartImage",resolveAll:Wg.resolveAll,tokenize:rL};function rL(t,e,n){const i=this;return r;function r(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),o}function o(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),s):n(u)}function s(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const aL={name:"labelStartLink",resolveAll:Wg.resolveAll,tokenize:oL};function oL(t,e,n){const i=this;return r;function r(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(s):e(s)}}const Hp={name:"lineEnding",tokenize:lL};function lL(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Qe(t,e,"linePrefix")}}const Xc={name:"thematicBreak",tokenize:sL};function sL(t,e,n){let i=0,r;return o;function o(f){return t.enter("thematicBreak"),s(f)}function s(f){return r=f,u(f)}function u(f){return f===r?(t.enter("thematicBreakSequence"),d(f)):i>=3&&(f===null||Pe(f))?(t.exit("thematicBreak"),e(f)):n(f)}function d(f){return f===r?(t.consume(f),i++,d):(t.exit("thematicBreakSequence"),Ke(f)?Qe(t,u,"whitespace")(f):u(f))}}const Ln={continuation:{tokenize:fL},exit:pL,name:"list",tokenize:dL},uL={partial:!0,tokenize:hL},cL={partial:!0,tokenize:mL};function dL(t,e,n){const i=this,r=i.events[i.events.length-1];let o=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,s=0;return u;function u(C){const S=i.containerState.type||(C===42||C===43||C===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!i.containerState.marker||C===i.containerState.marker:Gh(C)){if(i.containerState.type||(i.containerState.type=S,t.enter(S,{_container:!0})),S==="listUnordered")return t.enter("listItemPrefix"),C===42||C===45?t.check(Xc,n,f)(C):f(C);if(!i.interrupt||C===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(C)}return n(C)}function d(C){return Gh(C)&&++s<10?(t.consume(C),d):(!i.interrupt||s<2)&&(i.containerState.marker?C===i.containerState.marker:C===41||C===46)?(t.exit("listItemValue"),f(C)):n(C)}function f(C){return t.enter("listItemMarker"),t.consume(C),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||C,t.check(mu,i.interrupt?n:h,t.attempt(uL,T,v))}function h(C){return i.containerState.initialBlankLine=!0,o++,T(C)}function v(C){return Ke(C)?(t.enter("listItemPrefixWhitespace"),t.consume(C),t.exit("listItemPrefixWhitespace"),T):n(C)}function T(C){return i.containerState.size=o+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(C)}}function fL(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(mu,r,o);function r(u){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Qe(t,e,"listItemIndent",i.containerState.size+1)(u)}function o(u){return i.containerState.furtherBlankLines||!Ke(u)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,s(u)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(cL,e,s)(u))}function s(u){return i.containerState._closeFlow=!0,i.interrupt=void 0,Qe(t,t.attempt(Ln,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function mL(t,e,n){const i=this;return Qe(t,r,"listItemIndent",i.containerState.size+1);function r(o){const s=i.events[i.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===i.containerState.size?e(o):n(o)}}function pL(t){t.exit(this.containerState.type)}function hL(t,e,n){const i=this;return Qe(t,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(o){const s=i.events[i.events.length-1];return!Ke(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const Eb={name:"setextUnderline",resolveTo:gL,tokenize:yL};function gL(t,e){let n=t.length,i,r,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[r][1].type="setextHeadingText",o?(t.splice(r,0,["enter",s,e]),t.splice(o+1,0,["exit",t[i][1],e]),t[i][1].end={...t[o][1].end}):t[i][1]=s,t.push(["exit",s,e]),t}function yL(t,e,n){const i=this;let r;return o;function o(f){let h=i.events.length,v;for(;h--;)if(i.events[h][1].type!=="lineEnding"&&i.events[h][1].type!=="linePrefix"&&i.events[h][1].type!=="content"){v=i.events[h][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||v)?(t.enter("setextHeadingLine"),r=f,s(f)):n(f)}function s(f){return t.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===r?(t.consume(f),u):(t.exit("setextHeadingLineSequence"),Ke(f)?Qe(t,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Pe(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const vL={tokenize:xL};function xL(t){const e=this,n=t.attempt(mu,i,t.attempt(this.parser.constructs.flowInitial,r,Qe(t,t.attempt(this.parser.constructs.flow,r,t.attempt(ER,r)),"linePrefix")));return n;function i(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const bL={resolveAll:TE()},TL=bE("string"),CL=bE("text");function bE(t){return{resolveAll:TE(t==="text"?SL:void 0),tokenize:e};function e(n){const i=this,r=this.parser.constructs[t],o=n.attempt(r,s,u);return s;function s(h){return f(h)?o(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),d}function d(h){return f(h)?(n.exit("data"),o(h)):(n.consume(h),d)}function f(h){if(h===null)return!0;const v=r[h];let T=-1;if(v)for(;++T<v.length;){const C=v[T];if(!C.previous||C.previous.call(i,i.previous))return!0}return!1}}}function TE(t){return e;function e(n,i){let r=-1,o;for(;++r<=n.length;)o===void 0?n[r]&&n[r][1].type==="data"&&(o=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==o+2&&(n[o][1].end=n[r-1][1].end,n.splice(o+2,r-o-2),r=o+2),o=void 0);return t?t(n,i):n}}function SL(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],r=e.sliceStream(i);let o=r.length,s=-1,u=0,d;for(;o--;){const f=r[o];if(typeof f=="string"){for(s=f.length;f.charCodeAt(s-1)===32;)u++,s--;if(s)break;s=-1}else if(f===-2)d=!0,u++;else if(f!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){const f={type:n===t.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:i.start._bufferIndex+s,_index:i.start._index+o,line:i.end.line,column:i.end.column-u,offset:i.end.offset-u},end:{...i.end}};i.end={...f.start},i.start.offset===i.end.offset?Object.assign(i,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const EL={42:Ln,43:Ln,45:Ln,48:Ln,49:Ln,50:Ln,51:Ln,52:Ln,53:Ln,54:Ln,55:Ln,56:Ln,57:Ln,62:mE},wL={91:IR},AL={[-2]:$p,[-1]:$p,32:$p},_L={35:OR,42:Xc,45:[Eb,Xc],60:zR,61:Eb,95:Xc,96:Cb,126:Cb},NL={38:hE,92:pE},IL={[-5]:Hp,[-4]:Hp,[-3]:Hp,33:iL,38:hE,42:qh,60:[aR,qR],91:aL,92:[RR,pE],93:Wg,95:qh,96:vR},DL={null:[qh,bL]},kL={null:[42,95]},ML={null:[]},RL=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:kL,contentInitial:wL,disable:ML,document:EL,flow:_L,flowInitial:AL,insideSpan:DL,string:NL,text:IL},Symbol.toStringTag,{value:"Module"}));function LL(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},o=[];let s=[],u=[];const d={attempt:B(L),check:B(R),consume:D,enter:M,exit:P,interrupt:B(R,{interrupt:!0})},f={code:null,containerState:{},defineSkip:E,events:[],now:S,parser:t,previous:null,sliceSerialize:T,sliceStream:C,write:v};let h=e.tokenize.call(f,d);return e.resolveAll&&o.push(e),f;function v(Z){return s=fi(s,Z),_(),s[s.length-1]!==null?[]:(q(e,0),f.events=Qd(o,f.events,f),f.events)}function T(Z,ne){return PL(C(Z),ne)}function C(Z){return OL(s,Z)}function S(){const{_bufferIndex:Z,_index:ne,line:ae,column:ee,offset:Q}=i;return{_bufferIndex:Z,_index:ne,line:ae,column:ee,offset:Q}}function E(Z){r[Z.line]=Z.column,j()}function _(){let Z;for(;i._index<s.length;){const ne=s[i._index];if(typeof ne=="string")for(Z=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===Z&&i._bufferIndex<ne.length;)I(ne.charCodeAt(i._bufferIndex));else I(ne)}}function I(Z){h=h(Z)}function D(Z){Pe(Z)?(i.line++,i.column=1,i.offset+=Z===-3?2:1,j()):Z!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===s[i._index].length&&(i._bufferIndex=-1,i._index++)),f.previous=Z}function M(Z,ne){const ae=ne||{};return ae.type=Z,ae.start=S(),f.events.push(["enter",ae,f]),u.push(ae),ae}function P(Z){const ne=u.pop();return ne.end=S(),f.events.push(["exit",ne,f]),ne}function L(Z,ne){q(Z,ne.from)}function R(Z,ne){ne.restore()}function B(Z,ne){return ae;function ae(ee,Q,z){let G,re,de,w;return Array.isArray(ee)?ie(ee):"tokenize"in ee?ie([ee]):H(ee);function H(ye){return nt;function nt(pe){const Ne=pe!==null&&ye[pe],Re=pe!==null&&ye.null,st=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(Re)?Re:Re?[Re]:[]];return ie(st)(pe)}}function ie(ye){return G=ye,re=0,ye.length===0?z:O(ye[re])}function O(ye){return nt;function nt(pe){return w=$(),de=ye,ye.partial||(f.currentConstruct=ye),ye.name&&f.parser.constructs.disable.null.includes(ye.name)?ke():ye.tokenize.call(ne?Object.assign(Object.create(f),ne):f,d,ve,ke)(pe)}}function ve(ye){return Z(de,w),Q}function ke(ye){return w.restore(),++re<G.length?O(G[re]):z}}}function q(Z,ne){Z.resolveAll&&!o.includes(Z)&&o.push(Z),Z.resolve&&Kn(f.events,ne,f.events.length-ne,Z.resolve(f.events.slice(ne),f)),Z.resolveTo&&(f.events=Z.resolveTo(f.events,f))}function $(){const Z=S(),ne=f.previous,ae=f.currentConstruct,ee=f.events.length,Q=Array.from(u);return{from:ee,restore:z};function z(){i=Z,f.previous=ne,f.currentConstruct=ae,f.events.length=ee,u=Q,j()}}function j(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function OL(t,e){const n=e.start._index,i=e.start._bufferIndex,r=e.end._index,o=e.end._bufferIndex;let s;if(n===r)s=[t[n].slice(i,o)];else{if(s=t.slice(n,r),i>-1){const u=s[0];typeof u=="string"?s[0]=u.slice(i):s.shift()}o>0&&s.push(t[r].slice(0,o))}return s}function PL(t,e){let n=-1;const i=[];let r;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&r)continue;s=" ";break}default:s=String.fromCharCode(o)}r=o===-2,i.push(s)}return i.join("")}function UL(t){const i={constructs:dE([RL,...(t||{}).extensions||[]]),content:r(J5),defined:[],document:r(eR),flow:r(vL),lazy:{},string:r(TL),text:r(CL)};return i;function r(o){return s;function s(u){return LL(i,o,u)}}}function jL(t){for(;!gE(t););return t}const wb=/[\0\t\n\r]/g;function zL(){let t=1,e="",n=!0,i;return r;function r(o,s,u){const d=[];let f,h,v,T,C;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),v=0,e="",n&&(o.charCodeAt(0)===65279&&v++,n=void 0);v<o.length;){if(wb.lastIndex=v,f=wb.exec(o),T=f&&f.index!==void 0?f.index:o.length,C=o.charCodeAt(T),!f){e=o.slice(v);break}if(C===10&&v===T&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),v<T&&(d.push(o.slice(v,T)),t+=T-v),C){case 0:{d.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,d.push(-2);t++<h;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:i=!0,t=1}v=T+1}return u&&(i&&d.push(-5),e&&d.push(e),d.push(null)),d}}const VL=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function FL(t){return t.replace(VL,BL)}function BL(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return fE(n.slice(o?2:1),o?16:10)}return qg(n)||t}const CE={}.hasOwnProperty;function $L(t,e,n){return typeof e!="string"&&(n=e,e=void 0),HL(n)(jL(UL(n).document().write(zL()(t,e,!0))))}function HL(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(gi),autolinkProtocol:$,autolinkEmail:$,atxHeading:o(An),blockQuote:o(Re),characterEscape:$,characterReference:$,codeFenced:o(st),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(st,s),codeText:o(Rt,s),codeTextData:$,data:$,codeFlowValue:$,definition:o(yn),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(wt),hardBreakEscape:o(_n),hardBreakTrailing:o(_n),htmlFlow:o(Bt,s),htmlFlowData:$,htmlText:o(Bt,s),htmlTextData:$,image:o(Dr),label:s,link:o(gi),listItem:o(jn),listItemValue:T,listOrdered:o(an,v),listUnordered:o(an),paragraph:o(yi),reference:O,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(An),strong:o(ki),thematicBreak:o(Ml)},exit:{atxHeading:d(),atxHeadingSequence:L,autolink:d(),autolinkEmail:Ne,autolinkProtocol:pe,blockQuote:d(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:ke,characterReferenceMarkerNumeric:ke,characterReferenceValue:ye,characterReference:nt,codeFenced:d(_),codeFencedFence:E,codeFencedFenceInfo:C,codeFencedFenceMeta:S,codeFlowValue:j,codeIndented:d(I),codeText:d(Q),codeTextData:j,data:j,definition:d(),definitionDestinationString:P,definitionLabelString:D,definitionTitleString:M,emphasis:d(),hardBreakEscape:d(ne),hardBreakTrailing:d(ne),htmlFlow:d(ae),htmlFlowData:j,htmlText:d(ee),htmlTextData:j,image:d(G),label:de,labelText:re,lineEnding:Z,link:d(z),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:ve,resourceDestinationString:w,resourceTitleString:H,resource:ie,setextHeading:d(q),setextHeadingLineSequence:B,setextHeadingText:R,strong:d(),thematicBreak:d()}};SE(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(oe){let ce={type:"root",children:[]};const Ie={stack:[ce],tokenStack:[],config:e,enter:u,exit:f,buffer:s,resume:h,data:n},Le=[];let it=-1;for(;++it<oe.length;)if(oe[it][1].type==="listOrdered"||oe[it][1].type==="listUnordered")if(oe[it][0]==="enter")Le.push(it);else{const _t=Le.pop();it=r(oe,_t,it)}for(it=-1;++it<oe.length;){const _t=e[oe[it][0]];CE.call(_t,oe[it][1].type)&&_t[oe[it][1].type].call(Object.assign({sliceSerialize:oe[it][2].sliceSerialize},Ie),oe[it][1])}if(Ie.tokenStack.length>0){const _t=Ie.tokenStack[Ie.tokenStack.length-1];(_t[1]||Ab).call(Ie,void 0,_t[0])}for(ce.position={start:ta(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:ta(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},it=-1;++it<e.transforms.length;)ce=e.transforms[it](ce)||ce;return ce}function r(oe,ce,Ie){let Le=ce-1,it=-1,_t=!1,ei,on,ti,Qt;for(;++Le<=Ie;){const Lt=oe[Le];switch(Lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Lt[0]==="enter"?it++:it--,Qt=void 0;break}case"lineEndingBlank":{Lt[0]==="enter"&&(ei&&!Qt&&!it&&!ti&&(ti=Le),Qt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Qt=void 0}if(!it&&Lt[0]==="enter"&&Lt[1].type==="listItemPrefix"||it===-1&&Lt[0]==="exit"&&(Lt[1].type==="listUnordered"||Lt[1].type==="listOrdered")){if(ei){let Nn=Le;for(on=void 0;Nn--;){const In=oe[Nn];if(In[1].type==="lineEnding"||In[1].type==="lineEndingBlank"){if(In[0]==="exit")continue;on&&(oe[on][1].type="lineEndingBlank",_t=!0),In[1].type="lineEnding",on=Nn}else if(!(In[1].type==="linePrefix"||In[1].type==="blockQuotePrefix"||In[1].type==="blockQuotePrefixWhitespace"||In[1].type==="blockQuoteMarker"||In[1].type==="listItemIndent"))break}ti&&(!on||ti<on)&&(ei._spread=!0),ei.end=Object.assign({},on?oe[on][1].start:Lt[1].end),oe.splice(on||Le,0,["exit",ei,Lt[2]]),Le++,Ie++}if(Lt[1].type==="listItemPrefix"){const Nn={type:"listItem",_spread:!1,start:Object.assign({},Lt[1].start),end:void 0};ei=Nn,oe.splice(Le,0,["enter",Nn,Lt[2]]),Le++,Ie++,ti=void 0,Qt=!0}}}return oe[ce][1]._spread=_t,Ie}function o(oe,ce){return Ie;function Ie(Le){u.call(this,oe(Le),Le),ce&&ce.call(this,Le)}}function s(){this.stack.push({type:"fragment",children:[]})}function u(oe,ce,Ie){this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([ce,Ie||void 0]),oe.position={start:ta(ce.start),end:void 0}}function d(oe){return ce;function ce(Ie){oe&&oe.call(this,Ie),f.call(this,Ie)}}function f(oe,ce){const Ie=this.stack.pop(),Le=this.tokenStack.pop();if(Le)Le[0].type!==oe.type&&(ce?ce.call(this,oe,Le[0]):(Le[1]||Ab).call(this,oe,Le[0]));else throw new Error("Cannot close `"+oe.type+"` ("+Bs({start:oe.start,end:oe.end})+"): it’s not open");Ie.position.end=ta(oe.end)}function h(){return Gg(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function T(oe){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(oe),10),this.data.expectingFirstListItemValue=void 0}}function C(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=oe}function S(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=oe}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function I(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.value=oe.replace(/(\r?\n|\r)$/g,"")}function D(oe){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=ce,Ie.identifier=wi(this.sliceSerialize(oe)).toLowerCase()}function M(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.title=oe}function P(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.url=oe}function L(oe){const ce=this.stack[this.stack.length-1];if(!ce.depth){const Ie=this.sliceSerialize(oe).length;ce.depth=Ie}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function B(oe){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(oe).codePointAt(0)===61?1:2}function q(){this.data.setextHeadingSlurpLineEnding=void 0}function $(oe){const Ie=this.stack[this.stack.length-1].children;let Le=Ie[Ie.length-1];(!Le||Le.type!=="text")&&(Le=nr(),Le.position={start:ta(oe.start),end:void 0},Ie.push(Le)),this.stack.push(Le)}function j(oe){const ce=this.stack.pop();ce.value+=this.sliceSerialize(oe),ce.position.end=ta(oe.end)}function Z(oe){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=ce.children[ce.children.length-1];Ie.position.end=ta(oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ce.type)&&($.call(this,oe),j.call(this,oe))}function ne(){this.data.atHardBreak=!0}function ae(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.value=oe}function ee(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.value=oe}function Q(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.value=oe}function z(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ce,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function G(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ce,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function re(oe){const ce=this.sliceSerialize(oe),Ie=this.stack[this.stack.length-2];Ie.label=FL(ce),Ie.identifier=wi(ce).toLowerCase()}function de(){const oe=this.stack[this.stack.length-1],ce=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const Le=oe.children;Ie.children=Le}else Ie.alt=ce}function w(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.url=oe}function H(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.title=oe}function ie(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function ve(oe){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=ce,Ie.identifier=wi(this.sliceSerialize(oe)).toLowerCase(),this.data.referenceType="full"}function ke(oe){this.data.characterReferenceType=oe.type}function ye(oe){const ce=this.sliceSerialize(oe),Ie=this.data.characterReferenceType;let Le;Ie?(Le=fE(ce,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Le=qg(ce);const it=this.stack[this.stack.length-1];it.value+=Le}function nt(oe){const ce=this.stack.pop();ce.position.end=ta(oe.end)}function pe(oe){j.call(this,oe);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(oe)}function Ne(oe){j.call(this,oe);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(oe)}function Re(){return{type:"blockquote",children:[]}}function st(){return{type:"code",lang:null,meta:null,value:""}}function Rt(){return{type:"inlineCode",value:""}}function yn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function wt(){return{type:"emphasis",children:[]}}function An(){return{type:"heading",depth:0,children:[]}}function _n(){return{type:"break"}}function Bt(){return{type:"html",value:""}}function Dr(){return{type:"image",title:null,url:"",alt:null}}function gi(){return{type:"link",title:null,url:"",children:[]}}function an(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function jn(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function yi(){return{type:"paragraph",children:[]}}function ki(){return{type:"strong",children:[]}}function nr(){return{type:"text",value:""}}function Ml(){return{type:"thematicBreak"}}}function ta(t){return{line:t.line,column:t.column,offset:t.offset}}function SE(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?SE(t,i):GL(t,i)}}function GL(t,e){let n;for(n in e)if(CE.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function Ab(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Bs({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Bs({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Bs({start:e.start,end:e.end})+") is still open")}function qL(t){const e=this;e.parser=n;function n(i){return $L(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function WL(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function YL(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function ZL(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(r.data={meta:e.meta}),t.patch(e,r),r=t.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},t.patch(e,r),r}function KL(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function XL(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function JL(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=wl(i.toLowerCase()),o=t.footnoteOrder.indexOf(i);let s,u=t.footnoteCounts.get(i);u===void 0?(u=0,t.footnoteOrder.push(i),s=t.footnoteOrder.length):s=o+1,u+=1,t.footnoteCounts.set(i,u);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,f),t.applyData(e,f)}function QL(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function e3(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function EE(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=t.all(e),o=r[0];o&&o.type==="text"?o.value="["+o.value:r.unshift({type:"text",value:"["});const s=r[r.length-1];return s&&s.type==="text"?s.value+=i:r.push({type:"text",value:i}),r}function t3(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return EE(t,e);const r={src:wl(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,o),t.applyData(e,o)}function n3(t,e){const n={src:wl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function i3(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function r3(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return EE(t,e);const r={href:wl(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function a3(t,e){const n={href:wl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function o3(t,e,n){const i=t.all(e),r=n?l3(n):wE(e),o={},s=[];if(typeof e.checked=="boolean"){const h=i[0];let v;h&&h.type==="element"&&h.tagName==="p"?v=h:(v={type:"element",tagName:"p",properties:{},children:[]},i.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<i.length;){const h=i[u];(r||u!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!r?s.push(...h.children):s.push(h)}const d=i[i.length-1];d&&(r||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:s};return t.patch(e,f),t.applyData(e,f)}function l3(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=wE(n[i])}return e}function wE(t){const e=t.spread;return e??t.children.length>1}function s3(t,e){const n={},i=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<i.length;){const s=i[r];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function u3(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function c3(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function d3(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function f3(t,e){const n=t.all(e),i=n.shift(),r=[];if(i){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],s),r.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},u=Fg(e.children[1]),d=rE(e.children[e.children.length-1]);u&&d&&(s.position={start:u,end:d}),r.push(s)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function m3(t,e,n){const i=n?n.children:void 0,o=(i?i.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,u=s?s.length:e.children.length;let d=-1;const f=[];for(;++d<u;){const v=e.children[d],T={},C=s?s[d]:void 0;C&&(T.align=C);let S={type:"element",tagName:o,properties:T,children:[]};v&&(S.children=t.all(v),t.patch(v,S),S=t.applyData(v,S)),f.push(S)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,h),t.applyData(e,h)}function p3(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const _b=9,Nb=32;function h3(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),r=0;const o=[];for(;i;)o.push(Ib(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(e);return o.push(Ib(e.slice(r),r>0,!1)),o.join("")}function Ib(t,e,n){let i=0,r=t.length;if(e){let o=t.codePointAt(i);for(;o===_b||o===Nb;)i++,o=t.codePointAt(i)}if(n){let o=t.codePointAt(r-1);for(;o===_b||o===Nb;)r--,o=t.codePointAt(r-1)}return r>i?t.slice(i,r):""}function g3(t,e){const n={type:"text",value:h3(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function y3(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const v3={blockquote:WL,break:YL,code:ZL,delete:KL,emphasis:XL,footnoteReference:JL,heading:QL,html:e3,imageReference:t3,image:n3,inlineCode:i3,linkReference:r3,link:a3,listItem:o3,list:s3,paragraph:u3,root:c3,strong:d3,table:f3,tableCell:p3,tableRow:m3,text:g3,thematicBreak:y3,toml:Pc,yaml:Pc,definition:Pc,footnoteDefinition:Pc};function Pc(){}const AE=-1,ef=0,Hs=1,Nd=2,Yg=3,Zg=4,Kg=5,Xg=6,_E=7,NE=8,Db=typeof self=="object"?self:globalThis,x3=(t,e)=>{const n=(r,o)=>(t.set(o,r),r),i=r=>{if(t.has(r))return t.get(r);const[o,s]=e[r];switch(o){case ef:case AE:return n(s,r);case Hs:{const u=n([],r);for(const d of s)u.push(i(d));return u}case Nd:{const u=n({},r);for(const[d,f]of s)u[i(d)]=i(f);return u}case Yg:return n(new Date(s),r);case Zg:{const{source:u,flags:d}=s;return n(new RegExp(u,d),r)}case Kg:{const u=n(new Map,r);for(const[d,f]of s)u.set(i(d),i(f));return u}case Xg:{const u=n(new Set,r);for(const d of s)u.add(i(d));return u}case _E:{const{name:u,message:d}=s;return n(new Db[u](d),r)}case NE:return n(BigInt(s),r);case"BigInt":return n(Object(BigInt(s)),r);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:u}=new Uint8Array(s);return n(new DataView(u),s)}}return n(new Db[o](s),r)};return i},kb=t=>x3(new Map,t)(0),Zo="",{toString:b3}={},{keys:T3}=Object,Ms=t=>{const e=typeof t;if(e!=="object"||!t)return[ef,e];const n=b3.call(t).slice(8,-1);switch(n){case"Array":return[Hs,Zo];case"Object":return[Nd,Zo];case"Date":return[Yg,Zo];case"RegExp":return[Zg,Zo];case"Map":return[Kg,Zo];case"Set":return[Xg,Zo];case"DataView":return[Hs,n]}return n.includes("Array")?[Hs,n]:n.includes("Error")?[_E,n]:[Nd,n]},Uc=([t,e])=>t===ef&&(e==="function"||e==="symbol"),C3=(t,e,n,i)=>{const r=(s,u)=>{const d=i.push(s)-1;return n.set(u,d),d},o=s=>{if(n.has(s))return n.get(s);let[u,d]=Ms(s);switch(u){case ef:{let h=s;switch(d){case"bigint":u=NE,h=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);h=null;break;case"undefined":return r([AE],s)}return r([u,h],s)}case Hs:{if(d){let T=s;return d==="DataView"?T=new Uint8Array(s.buffer):d==="ArrayBuffer"&&(T=new Uint8Array(s)),r([d,[...T]],s)}const h=[],v=r([u,h],s);for(const T of s)h.push(o(T));return v}case Nd:{if(d)switch(d){case"BigInt":return r([d,s.toString()],s);case"Boolean":case"Number":case"String":return r([d,s.valueOf()],s)}if(e&&"toJSON"in s)return o(s.toJSON());const h=[],v=r([u,h],s);for(const T of T3(s))(t||!Uc(Ms(s[T])))&&h.push([o(T),o(s[T])]);return v}case Yg:return r([u,s.toISOString()],s);case Zg:{const{source:h,flags:v}=s;return r([u,{source:h,flags:v}],s)}case Kg:{const h=[],v=r([u,h],s);for(const[T,C]of s)(t||!(Uc(Ms(T))||Uc(Ms(C))))&&h.push([o(T),o(C)]);return v}case Xg:{const h=[],v=r([u,h],s);for(const T of s)(t||!Uc(Ms(T)))&&h.push(o(T));return v}}const{message:f}=s;return r([u,{name:d,message:f}],s)};return o},Mb=(t,{json:e,lossy:n}={})=>{const i=[];return C3(!(e||n),!!e,new Map,i)(t),i},Id=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?kb(Mb(t,e)):structuredClone(t):(t,e)=>kb(Mb(t,e));function S3(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function E3(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function w3(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||S3,i=t.options.footnoteBackLabel||E3,r=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let d=-1;for(;++d<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[d]);if(!f)continue;const h=t.all(f),v=String(f.identifier).toUpperCase(),T=wl(v.toLowerCase());let C=0;const S=[],E=t.footnoteCounts.get(v);for(;E!==void 0&&++C<=E;){S.length>0&&S.push({type:"text",value:" "});let D=typeof n=="string"?n:n(d,C);typeof D=="string"&&(D={type:"text",value:D}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+T+(C>1?"-"+C:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(d,C),className:["data-footnote-backref"]},children:Array.isArray(D)?D:[D]})}const _=h[h.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const D=_.children[_.children.length-1];D&&D.type==="text"?D.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...S)}else h.push(...S);const I={type:"element",tagName:"li",properties:{id:e+"fn-"+T},children:t.wrap(h,!0)};t.patch(f,I),u.push(I)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Id(s),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(u,!0)},{type:"text",value:`
`}]}}const tf=function(t){if(t==null)return I3;if(typeof t=="function")return nf(t);if(typeof t=="object")return Array.isArray(t)?A3(t):_3(t);if(typeof t=="string")return N3(t);throw new Error("Expected function, string, or object as test")};function A3(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=tf(t[n]);return nf(i);function i(...r){let o=-1;for(;++o<e.length;)if(e[o].apply(this,r))return!0;return!1}}function _3(t){const e=t;return nf(n);function n(i){const r=i;let o;for(o in t)if(r[o]!==e[o])return!1;return!0}}function N3(t){return nf(e);function e(n){return n&&n.type===t}}function nf(t){return e;function e(n,i,r){return!!(D3(n)&&t.call(this,n,typeof i=="number"?i:void 0,r||void 0))}}function I3(){return!0}function D3(t){return t!==null&&typeof t=="object"&&"type"in t}const IE=[],k3=!0,Wh=!1,M3="skip";function DE(t,e,n,i){let r;typeof e=="function"&&typeof n!="function"?(i=n,n=e):r=e;const o=tf(r),s=i?-1:1;u(t,void 0,[])();function u(d,f,h){const v=d&&typeof d=="object"?d:{};if(typeof v.type=="string"){const C=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(d.type+(C?"<"+C+">":""))+")"})}return T;function T(){let C=IE,S,E,_;if((!e||o(d,f,h[h.length-1]||void 0))&&(C=R3(n(d,h)),C[0]===Wh))return C;if("children"in d&&d.children){const I=d;if(I.children&&C[0]!==M3)for(E=(i?I.children.length:-1)+s,_=h.concat(I);E>-1&&E<I.children.length;){const D=I.children[E];if(S=u(D,E,_)(),S[0]===Wh)return S;E=typeof S[1]=="number"?S[1]:E+s}}return C}}}function R3(t){return Array.isArray(t)?t:typeof t=="number"?[k3,t]:t==null?IE:[t]}function Jg(t,e,n,i){let r,o,s;typeof e=="function"&&typeof n!="function"?(o=void 0,s=e,r=n):(o=e,s=n,r=i),DE(t,o,u,r);function u(d,f){const h=f[f.length-1],v=h?h.children.indexOf(d):void 0;return s(d,v,h)}}const Yh={}.hasOwnProperty,L3={};function O3(t,e){const n=e||L3,i=new Map,r=new Map,o=new Map,s={...v3,...n.handlers},u={all:f,applyData:U3,definitionById:i,footnoteById:r,footnoteCounts:o,footnoteOrder:[],handlers:s,one:d,options:n,patch:P3,wrap:z3};return Jg(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const v=h.type==="definition"?i:r,T=String(h.identifier).toUpperCase();v.has(T)||v.set(T,h)}}),u;function d(h,v){const T=h.type,C=u.handlers[T];if(Yh.call(u.handlers,T)&&C)return C(u,h,v);if(u.options.passThrough&&u.options.passThrough.includes(T)){if("children"in h){const{children:E,..._}=h,I=Id(_);return I.children=u.all(h),I}return Id(h)}return(u.options.unknownHandler||j3)(u,h,v)}function f(h){const v=[];if("children"in h){const T=h.children;let C=-1;for(;++C<T.length;){const S=u.one(T[C],h);if(S){if(C&&T[C-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=Rb(S.value)),!Array.isArray(S)&&S.type==="element")){const E=S.children[0];E&&E.type==="text"&&(E.value=Rb(E.value))}Array.isArray(S)?v.push(...S):v.push(S)}}}return v}}function P3(t,e){t.position&&(e.position=E5(t))}function U3(t,e){let n=e;if(t&&t.data){const i=t.data.hName,r=t.data.hChildren,o=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const s="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,Id(o)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function j3(t,e){const n=e.data||{},i="value"in e&&!(Yh.call(n,"hProperties")||Yh.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function z3(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Rb(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Lb(t,e){const n=O3(t,e),i=n.one(t,void 0),r=w3(n),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&o.children.push({type:"text",value:`
`},r),o}function V3(t,e){return t&&"run"in t?async function(n,i){const r=Lb(n,{file:i,...e});await t.run(r,i)}:function(n,i){return Lb(n,{file:i,...t||e})}}function Ob(t){if(t)throw t}var Gp,Pb;function F3(){if(Pb)return Gp;Pb=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},o=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var h=t.call(f,"constructor"),v=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!v)return!1;var T;for(T in f);return typeof T>"u"||t.call(f,T)},s=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},u=function(f,h){if(h==="__proto__")if(t.call(f,h)){if(i)return i(f,h).value}else return;return f[h]};return Gp=function d(){var f,h,v,T,C,S,E=arguments[0],_=1,I=arguments.length,D=!1;for(typeof E=="boolean"&&(D=E,E=arguments[1]||{},_=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});_<I;++_)if(f=arguments[_],f!=null)for(h in f)v=u(E,h),T=u(f,h),E!==T&&(D&&T&&(o(T)||(C=r(T)))?(C?(C=!1,S=v&&r(v)?v:[]):S=v&&o(v)?v:{},s(E,{name:h,newValue:d(D,S,T)})):typeof T<"u"&&s(E,{name:h,newValue:T}));return E},Gp}var B3=F3();const qp=su(B3);function Zh(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function $3(){const t=[],e={run:n,use:i};return e;function n(...r){let o=-1;const s=r.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);u(null,...r);function u(d,...f){const h=t[++o];let v=-1;if(d){s(d);return}for(;++v<r.length;)(f[v]===null||f[v]===void 0)&&(f[v]=r[v]);r=f,h?H3(h,u)(...f):s(null,...f)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function H3(t,e){let n;return i;function i(...s){const u=t.length>s.length;let d;u&&s.push(r);try{d=t.apply(this,s)}catch(f){const h=f;if(u&&n)throw h;return r(h)}u||(d&&d.then&&typeof d.then=="function"?d.then(o,r):d instanceof Error?r(d):o(d))}function r(s,...u){n||(n=!0,e(s,...u))}function o(s){r(null,s)}}const ji={basename:G3,dirname:q3,extname:W3,join:Y3,sep:"/"};function G3(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');pu(t);let n=0,i=-1,r=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.codePointAt(r)===47){if(o){n=r+1;break}}else i<0&&(o=!0,i=r+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let s=-1,u=e.length-1;for(;r--;)if(t.codePointAt(r)===47){if(o){n=r+1;break}}else s<0&&(o=!0,s=r+1),u>-1&&(t.codePointAt(r)===e.codePointAt(u--)?u<0&&(i=r):(u=-1,i=s));return n===i?i=s:i<0&&(i=t.length),t.slice(n,i)}function q3(t){if(pu(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function W3(t){pu(t);let e=t.length,n=-1,i=0,r=-1,o=0,s;for(;e--;){const u=t.codePointAt(e);if(u===47){if(s){i=e+1;break}continue}n<0&&(s=!0,n=e+1),u===46?r<0?r=e:o!==1&&(o=1):r>-1&&(o=-1)}return r<0||n<0||o===0||o===1&&r===n-1&&r===i+1?"":t.slice(r,n)}function Y3(...t){let e=-1,n;for(;++e<t.length;)pu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Z3(n)}function Z3(t){pu(t);const e=t.codePointAt(0)===47;let n=K3(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function K3(t,e){let n="",i=0,r=-1,o=0,s=-1,u,d;for(;++s<=t.length;){if(s<t.length)u=t.codePointAt(s);else{if(u===47)break;u=47}if(u===47){if(!(r===s-1||o===1))if(r!==s-1&&o===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",i=0):(n=n.slice(0,d),i=n.length-1-n.lastIndexOf("/")),r=s,o=0;continue}}else if(n.length>0){n="",i=0,r=s,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(r+1,s):n=t.slice(r+1,s),i=s-r-1;r=s,o=0}else u===46&&o>-1?o++:o=-1}return n}function pu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const X3={cwd:J3};function J3(){return"/"}function Kh(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Q3(t){if(typeof t=="string")t=new URL(t);else if(!Kh(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return eO(t)}function eO(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const Wp=["history","path","basename","stem","extname","dirname"];class kE{constructor(e){let n;e?Kh(e)?n={path:e}:typeof e=="string"||tO(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":X3.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Wp.length;){const o=Wp[i];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let r;for(r in n)Wp.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?ji.basename(this.path):void 0}set basename(e){Zp(e,"basename"),Yp(e,"basename"),this.path=ji.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ji.dirname(this.path):void 0}set dirname(e){Ub(this.basename,"dirname"),this.path=ji.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ji.extname(this.path):void 0}set extname(e){if(Yp(e,"extname"),Ub(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ji.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Kh(e)&&(e=Q3(e)),Zp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ji.basename(this.path,this.extname):void 0}set stem(e){Zp(e,"stem"),Yp(e,"stem"),this.path=ji.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const r=this.message(e,n,i);throw r.fatal=!0,r}info(e,n,i){const r=this.message(e,n,i);return r.fatal=void 0,r}message(e,n,i){const r=new gn(e,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Yp(t,e){if(t&&t.includes(ji.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ji.sep+"`")}function Zp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Ub(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function tO(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const nO=function(t){const i=this.constructor.prototype,r=i[t],o=function(){return r.apply(o,arguments)};return Object.setPrototypeOf(o,i),o},iO={}.hasOwnProperty;class Qg extends nO{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=$3()}copy(){const e=new Qg;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(qp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Jp("data",this.frozen),this.namespace[e]=n,this):iO.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Jp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=n.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=jc(e),i=this.parser||this.Parser;return Kp("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),Kp("process",this.parser||this.Parser),Xp("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(o,s){const u=jc(e),d=i.parse(u);i.run(d,u,function(h,v,T){if(h||!v||!T)return f(h);const C=v,S=i.stringify(C,T);oO(S)?T.value=S:T.result=S,f(h,T)});function f(h,v){h||!v?s(h):o?o(v):n(void 0,v)}}}processSync(e){let n=!1,i;return this.freeze(),Kp("processSync",this.parser||this.Parser),Xp("processSync",this.compiler||this.Compiler),this.process(e,r),zb("processSync","process",n),i;function r(o,s){n=!0,Ob(o),i=s}}run(e,n,i){jb(e),this.freeze();const r=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?o(void 0,i):new Promise(o);function o(s,u){const d=jc(n);r.run(e,d,f);function f(h,v,T){const C=v||e;h?u(h):s?s(C):i(void 0,C,T)}}}runSync(e,n){let i=!1,r;return this.run(e,n,o),zb("runSync","run",i),r;function o(s,u){Ob(s),r=u,i=!0}}stringify(e,n){this.freeze();const i=jc(n),r=this.compiler||this.Compiler;return Xp("stringify",r),jb(e),r(e,i)}use(e,...n){const i=this.attachers,r=this.namespace;if(Jp("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...v]=f;d(h,v)}else s(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function s(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(r.settings=qp(!0,r.settings,f.settings))}function u(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const v=f[h];o(v)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,h){let v=-1,T=-1;for(;++v<i.length;)if(i[v][0]===f){T=v;break}if(T===-1)i.push([f,...h]);else if(h.length>0){let[C,...S]=h;const E=i[T][1];Zh(E)&&Zh(C)&&(C=qp(!0,E,C)),i[T]=[f,C,...S]}}}}const rO=new Qg().freeze();function Kp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Xp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Jp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function jb(t){if(!Zh(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function zb(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function jc(t){return aO(t)?t:new kE(t)}function aO(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function oO(t){return typeof t=="string"||lO(t)}function lO(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const sO="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Vb=[],Fb={allowDangerousHtml:!0},uO=/^(https?|ircs?|mailto|xmpp)$/i,cO=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function dO(t){const e=fO(t),n=mO(t);return pO(e.runSync(e.parse(n),n),t)}function fO(t){const e=t.rehypePlugins||Vb,n=t.remarkPlugins||Vb,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Fb}:Fb;return rO().use(qL).use(n).use(V3,i).use(e)}function mO(t){const e=t.children||"",n=new kE;return typeof e=="string"&&(n.value=e),n}function pO(t,e){const n=e.allowedElements,i=e.allowElement,r=e.components,o=e.disallowedElements,s=e.skipHtml,u=e.unwrapDisallowed,d=e.urlTransform||hO;for(const h of cO)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+sO+h.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),Jg(t,f),I5(t,{Fragment:y.Fragment,components:r,ignoreInvalidStyle:!0,jsx:y.jsx,jsxs:y.jsxs,passKeys:!0,passNode:!0});function f(h,v,T){if(h.type==="raw"&&T&&typeof v=="number")return s?T.children.splice(v,1):T.children[v]={type:"text",value:h.value},v;if(h.type==="element"){let C;for(C in Bp)if(Object.hasOwn(Bp,C)&&Object.hasOwn(h.properties,C)){const S=h.properties[C],E=Bp[C];(E===null||E.includes(h.tagName))&&(h.properties[C]=d(String(S||""),C,h))}}if(h.type==="element"){let C=n?!n.includes(h.tagName):o?o.includes(h.tagName):!1;if(!C&&i&&typeof v=="number"&&(C=!i(h,v,T)),C&&T&&typeof v=="number")return u&&h.children?T.children.splice(v,1,...h.children):T.children.splice(v,1),v}}}function hO(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),r=t.indexOf("/");return e===-1||r!==-1&&e>r||n!==-1&&e>n||i!==-1&&e>i||uO.test(t.slice(0,e))?t:""}function Bb(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=n.indexOf(e);for(;r!==-1;)i++,r=n.indexOf(e,r+e.length);return i}function gO(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function yO(t,e,n){const r=tf((n||{}).ignore||[]),o=vO(e);let s=-1;for(;++s<o.length;)DE(t,"text",u);function u(f,h){let v=-1,T;for(;++v<h.length;){const C=h[v],S=T?T.children:void 0;if(r(C,S?S.indexOf(C):void 0,T))return;T=C}if(T)return d(f,h)}function d(f,h){const v=h[h.length-1],T=o[s][0],C=o[s][1];let S=0;const _=v.children.indexOf(f);let I=!1,D=[];T.lastIndex=0;let M=T.exec(f.value);for(;M;){const P=M.index,L={index:M.index,input:M.input,stack:[...h,f]};let R=C(...M,L);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?T.lastIndex=P+1:(S!==P&&D.push({type:"text",value:f.value.slice(S,P)}),Array.isArray(R)?D.push(...R):R&&D.push(R),S=P+M[0].length,I=!0),!T.global)break;M=T.exec(f.value)}return I?(S<f.value.length&&D.push({type:"text",value:f.value.slice(S)}),v.children.splice(_,1,...D)):D=[f],_+D.length}}function vO(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const r=n[i];e.push([xO(r[0]),bO(r[1])])}return e}function xO(t){return typeof t=="string"?new RegExp(gO(t),"g"):t}function bO(t){return typeof t=="function"?t:function(){return t}}const Qp="phrasing",eh=["autolink","link","image","label"];function TO(){return{transforms:[NO],enter:{literalAutolink:SO,literalAutolinkEmail:th,literalAutolinkHttp:th,literalAutolinkWww:th},exit:{literalAutolink:_O,literalAutolinkEmail:AO,literalAutolinkHttp:EO,literalAutolinkWww:wO}}}function CO(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Qp,notInConstruct:eh},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Qp,notInConstruct:eh},{character:":",before:"[ps]",after:"\\/",inConstruct:Qp,notInConstruct:eh}]}}function SO(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function th(t){this.config.enter.autolinkProtocol.call(this,t)}function EO(t){this.config.exit.autolinkProtocol.call(this,t)}function wO(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function AO(t){this.config.exit.autolinkEmail.call(this,t)}function _O(t){this.exit(t)}function NO(t){yO(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,IO],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),DO]],{ignore:["link","linkReference"]})}function IO(t,e,n,i,r){let o="";if(!ME(r)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!kO(n)))return!1;const s=MO(n+i);if(!s[0])return!1;const u={type:"link",title:null,url:o+e+s[0],children:[{type:"text",value:e+s[0]}]};return s[1]?[u,{type:"text",value:s[1]}]:u}function DO(t,e,n,i){return!ME(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function kO(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function MO(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],i=n.indexOf(")");const r=Bb(t,"(");let o=Bb(t,")");for(;i!==-1&&r>o;)t+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),o++;return[t,n]}function ME(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||to(n)||Jd(n))&&(!e||n!==47)}RE.peek=FO;function RO(){this.buffer()}function LO(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function OO(){this.buffer()}function PO(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function UO(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=wi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function jO(t){this.exit(t)}function zO(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=wi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function VO(t){this.exit(t)}function FO(){return"["}function RE(t,e,n,i){const r=n.createTracker(i);let o=r.move("[^");const s=n.enter("footnoteReference"),u=n.enter("reference");return o+=r.move(n.safe(n.associationId(t),{after:"]",before:o})),u(),s(),o+=r.move("]"),o}function BO(){return{enter:{gfmFootnoteCallString:RO,gfmFootnoteCall:LO,gfmFootnoteDefinitionLabelString:OO,gfmFootnoteDefinition:PO},exit:{gfmFootnoteCallString:UO,gfmFootnoteCall:jO,gfmFootnoteDefinitionLabelString:zO,gfmFootnoteDefinition:VO}}}function $O(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:RE},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,r,o,s){const u=o.createTracker(s);let d=u.move("[^");const f=o.enter("footnoteDefinition"),h=o.enter("label");return d+=u.move(o.safe(o.associationId(i),{before:d,after:"]"})),h(),d+=u.move("]:"),i.children&&i.children.length>0&&(u.shift(4),d+=u.move((e?`
`:" ")+o.indentLines(o.containerFlow(i,u.current()),e?LE:HO))),f(),d}}function HO(t,e,n){return e===0?t:LE(t,e,n)}function LE(t,e,n){return(n?"":"    ")+t}const GO=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];OE.peek=KO;function qO(){return{canContainEols:["delete"],enter:{strikethrough:YO},exit:{strikethrough:ZO}}}function WO(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:GO}],handlers:{delete:OE}}}function YO(t){this.enter({type:"delete",children:[]},t)}function ZO(t){this.exit(t)}function OE(t,e,n,i){const r=n.createTracker(i),o=n.enter("strikethrough");let s=r.move("~~");return s+=n.containerPhrasing(t,{...r.current(),before:s,after:"~"}),s+=r.move("~~"),o(),s}function KO(){return"~"}function XO(t){return t.length}function JO(t,e){const n=e||{},i=(n.align||[]).concat(),r=n.stringLength||XO,o=[],s=[],u=[],d=[];let f=0,h=-1;for(;++h<t.length;){const E=[],_=[];let I=-1;for(t[h].length>f&&(f=t[h].length);++I<t[h].length;){const D=QO(t[h][I]);if(n.alignDelimiters!==!1){const M=r(D);_[I]=M,(d[I]===void 0||M>d[I])&&(d[I]=M)}E.push(D)}s[h]=E,u[h]=_}let v=-1;if(typeof i=="object"&&"length"in i)for(;++v<f;)o[v]=$b(i[v]);else{const E=$b(i);for(;++v<f;)o[v]=E}v=-1;const T=[],C=[];for(;++v<f;){const E=o[v];let _="",I="";E===99?(_=":",I=":"):E===108?_=":":E===114&&(I=":");let D=n.alignDelimiters===!1?1:Math.max(1,d[v]-_.length-I.length);const M=_+"-".repeat(D)+I;n.alignDelimiters!==!1&&(D=_.length+D+I.length,D>d[v]&&(d[v]=D),C[v]=D),T[v]=M}s.splice(1,0,T),u.splice(1,0,C),h=-1;const S=[];for(;++h<s.length;){const E=s[h],_=u[h];v=-1;const I=[];for(;++v<f;){const D=E[v]||"";let M="",P="";if(n.alignDelimiters!==!1){const L=d[v]-(_[v]||0),R=o[v];R===114?M=" ".repeat(L):R===99?L%2?(M=" ".repeat(L/2+.5),P=" ".repeat(L/2-.5)):(M=" ".repeat(L/2),P=M):P=" ".repeat(L)}n.delimiterStart!==!1&&!v&&I.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&D==="")&&(n.delimiterStart!==!1||v)&&I.push(" "),n.alignDelimiters!==!1&&I.push(M),I.push(D),n.alignDelimiters!==!1&&I.push(P),n.padding!==!1&&I.push(" "),(n.delimiterEnd!==!1||v!==f-1)&&I.push("|")}S.push(n.delimiterEnd===!1?I.join("").replace(/ +$/,""):I.join(""))}return S.join(`
`)}function QO(t){return t==null?"":String(t)}function $b(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function e4(t,e,n,i){const r=n.enter("blockquote"),o=n.createTracker(i);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(t,o.current()),t4);return r(),s}function t4(t,e,n){return">"+(n?"":" ")+t}function n4(t,e){return Hb(t,e.inConstruct,!0)&&!Hb(t,e.notInConstruct,!1)}function Hb(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}function Gb(t,e,n,i){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&n4(n.stack,n.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function i4(t,e){const n=String(t);let i=n.indexOf(e),r=i,o=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++o>s&&(s=o):o=1,r=i+e.length,i=n.indexOf(e,r);return s}function r4(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function a4(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function o4(t,e,n,i){const r=a4(n),o=t.value||"",s=r==="`"?"GraveAccent":"Tilde";if(r4(t,n)){const v=n.enter("codeIndented"),T=n.indentLines(o,l4);return v(),T}const u=n.createTracker(i),d=r.repeat(Math.max(i4(o,r)+1,3)),f=n.enter("codeFenced");let h=u.move(d);if(t.lang){const v=n.enter(`codeFencedLang${s}`);h+=u.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...u.current()})),v()}if(t.lang&&t.meta){const v=n.enter(`codeFencedMeta${s}`);h+=u.move(" "),h+=u.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...u.current()})),v()}return h+=u.move(`
`),o&&(h+=u.move(o+`
`)),h+=u.move(d),f(),h}function l4(t,e,n){return(n?"":"    ")+t}function ey(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function s4(t,e,n,i){const r=ey(n),o=r==='"'?"Quote":"Apostrophe",s=n.enter("definition");let u=n.enter("label");const d=n.createTracker(i);let f=d.move("[");return f+=d.move(n.safe(n.associationId(t),{before:f,after:"]",...d.current()})),f+=d.move("]: "),u(),!t.url||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(t.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(u=n.enter("destinationRaw"),f+=d.move(n.safe(t.url,{before:f,after:t.title?" ":`
`,...d.current()}))),u(),t.title&&(u=n.enter(`title${o}`),f+=d.move(" "+r),f+=d.move(n.safe(t.title,{before:f,after:r,...d.current()})),f+=d.move(r),u()),s(),f}function u4(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function iu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Dd(t,e,n){const i=yl(t),r=yl(e);return i===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}PE.peek=c4;function PE(t,e,n,i){const r=u4(n),o=n.enter("emphasis"),s=n.createTracker(i),u=s.move(r);let d=s.move(n.containerPhrasing(t,{after:r,before:u,...s.current()}));const f=d.charCodeAt(0),h=Dd(i.before.charCodeAt(i.before.length-1),f,r);h.inside&&(d=iu(f)+d.slice(1));const v=d.charCodeAt(d.length-1),T=Dd(i.after.charCodeAt(0),v,r);T.inside&&(d=d.slice(0,-1)+iu(v));const C=s.move(r);return o(),n.attentionEncodeSurroundingInfo={after:T.outside,before:h.outside},u+d+C}function c4(t,e,n){return n.options.emphasis||"*"}function d4(t,e){let n=!1;return Jg(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,Wh}),!!((!t.depth||t.depth<3)&&Gg(t)&&(e.options.setext||n))}function f4(t,e,n,i){const r=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(i);if(d4(t,n)){const h=n.enter("headingSetext"),v=n.enter("phrasing"),T=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return v(),h(),T+`
`+(r===1?"=":"-").repeat(T.length-(Math.max(T.lastIndexOf("\r"),T.lastIndexOf(`
`))+1))}const s="#".repeat(r),u=n.enter("headingAtx"),d=n.enter("phrasing");o.move(s+" ");let f=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=iu(f.charCodeAt(0))+f.slice(1)),f=f?s+" "+f:s,n.options.closeAtx&&(f+=" "+s),d(),u(),f}UE.peek=m4;function UE(t){return t.value||""}function m4(){return"<"}jE.peek=p4;function jE(t,e,n,i){const r=ey(n),o=r==='"'?"Quote":"Apostrophe",s=n.enter("image");let u=n.enter("label");const d=n.createTracker(i);let f=d.move("![");return f+=d.move(n.safe(t.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(t.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(u=n.enter("destinationRaw"),f+=d.move(n.safe(t.url,{before:f,after:t.title?" ":")",...d.current()}))),u(),t.title&&(u=n.enter(`title${o}`),f+=d.move(" "+r),f+=d.move(n.safe(t.title,{before:f,after:r,...d.current()})),f+=d.move(r),u()),f+=d.move(")"),s(),f}function p4(){return"!"}zE.peek=h4;function zE(t,e,n,i){const r=t.referenceType,o=n.enter("imageReference");let s=n.enter("label");const u=n.createTracker(i);let d=u.move("![");const f=n.safe(t.alt,{before:d,after:"]",...u.current()});d+=u.move(f+"]["),s();const h=n.stack;n.stack=[],s=n.enter("reference");const v=n.safe(n.associationId(t),{before:d,after:"]",...u.current()});return s(),n.stack=h,o(),r==="full"||!f||f!==v?d+=u.move(v+"]"):r==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function h4(){return"!"}VE.peek=g4;function VE(t,e,n){let i=t.value||"",r="`",o=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++o<n.unsafe.length;){const s=n.unsafe[o],u=n.compilePattern(s);let d;if(s.atBreak)for(;d=u.exec(i);){let f=d.index;i.charCodeAt(f)===10&&i.charCodeAt(f-1)===13&&f--,i=i.slice(0,f)+" "+i.slice(d.index+1)}}return r+i+r}function g4(){return"`"}function FE(t,e){const n=Gg(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}BE.peek=y4;function BE(t,e,n,i){const r=ey(n),o=r==='"'?"Quote":"Apostrophe",s=n.createTracker(i);let u,d;if(FE(t,n)){const h=n.stack;n.stack=[],u=n.enter("autolink");let v=s.move("<");return v+=s.move(n.containerPhrasing(t,{before:v,after:">",...s.current()})),v+=s.move(">"),u(),n.stack=h,v}u=n.enter("link"),d=n.enter("label");let f=s.move("[");return f+=s.move(n.containerPhrasing(t,{before:f,after:"](",...s.current()})),f+=s.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),f+=s.move("<"),f+=s.move(n.safe(t.url,{before:f,after:">",...s.current()})),f+=s.move(">")):(d=n.enter("destinationRaw"),f+=s.move(n.safe(t.url,{before:f,after:t.title?" ":")",...s.current()}))),d(),t.title&&(d=n.enter(`title${o}`),f+=s.move(" "+r),f+=s.move(n.safe(t.title,{before:f,after:r,...s.current()})),f+=s.move(r),d()),f+=s.move(")"),u(),f}function y4(t,e,n){return FE(t,n)?"<":"["}$E.peek=v4;function $E(t,e,n,i){const r=t.referenceType,o=n.enter("linkReference");let s=n.enter("label");const u=n.createTracker(i);let d=u.move("[");const f=n.containerPhrasing(t,{before:d,after:"]",...u.current()});d+=u.move(f+"]["),s();const h=n.stack;n.stack=[],s=n.enter("reference");const v=n.safe(n.associationId(t),{before:d,after:"]",...u.current()});return s(),n.stack=h,o(),r==="full"||!f||f!==v?d+=u.move(v+"]"):r==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function v4(){return"["}function ty(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function x4(t){const e=ty(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function b4(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function HE(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function T4(t,e,n,i){const r=n.enter("list"),o=n.bulletCurrent;let s=t.ordered?b4(n):ty(n);const u=t.ordered?s==="."?")":".":x4(n);let d=e&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!t.ordered){const h=t.children?t.children[0]:void 0;if((s==="*"||s==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),HE(n)===s&&h){let v=-1;for(;++v<t.children.length;){const T=t.children[v];if(T&&T.type==="listItem"&&T.children&&T.children[0]&&T.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(s=u),n.bulletCurrent=s;const f=n.containerFlow(t,i);return n.bulletLastUsed=s,n.bulletCurrent=o,r(),f}function C4(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function S4(t,e,n,i){const r=C4(n);let o=n.bulletCurrent||ty(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let s=o.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(s=Math.ceil(s/4)*4);const u=n.createTracker(i);u.move(o+" ".repeat(s-o.length)),u.shift(s);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(t,u.current()),h);return d(),f;function h(v,T,C){return T?(C?"":" ".repeat(s))+v:(C?o:o+" ".repeat(s-o.length))+v}}function E4(t,e,n,i){const r=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(t,i);return o(),r(),s}const w4=tf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function A4(t,e,n,i){return(t.children.some(function(s){return w4(s)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}function _4(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}GE.peek=N4;function GE(t,e,n,i){const r=_4(n),o=n.enter("strong"),s=n.createTracker(i),u=s.move(r+r);let d=s.move(n.containerPhrasing(t,{after:r,before:u,...s.current()}));const f=d.charCodeAt(0),h=Dd(i.before.charCodeAt(i.before.length-1),f,r);h.inside&&(d=iu(f)+d.slice(1));const v=d.charCodeAt(d.length-1),T=Dd(i.after.charCodeAt(0),v,r);T.inside&&(d=d.slice(0,-1)+iu(v));const C=s.move(r+r);return o(),n.attentionEncodeSurroundingInfo={after:T.outside,before:h.outside},u+d+C}function N4(t,e,n){return n.options.strong||"*"}function I4(t,e,n,i){return n.safe(t.value,i)}function D4(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function k4(t,e,n){const i=(HE(n)+(n.options.ruleSpaces?" ":"")).repeat(D4(n));return n.options.ruleSpaces?i.slice(0,-1):i}const qE={blockquote:e4,break:Gb,code:o4,definition:s4,emphasis:PE,hardBreak:Gb,heading:f4,html:UE,image:jE,imageReference:zE,inlineCode:VE,link:BE,linkReference:$E,list:T4,listItem:S4,paragraph:E4,root:A4,strong:GE,text:I4,thematicBreak:k4};function M4(){return{enter:{table:R4,tableData:qb,tableHeader:qb,tableRow:O4},exit:{codeText:P4,table:L4,tableData:nh,tableHeader:nh,tableRow:nh}}}function R4(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function L4(t){this.exit(t),this.data.inTable=void 0}function O4(t){this.enter({type:"tableRow",children:[]},t)}function nh(t){this.exit(t)}function qb(t){this.enter({type:"tableCell",children:[]},t)}function P4(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,U4));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function U4(t,e){return e==="|"?e:t}function j4(t){const e=t||{},n=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:T,table:s,tableCell:d,tableRow:u}};function s(C,S,E,_){return f(h(C,E,_),C.align)}function u(C,S,E,_){const I=v(C,E,_),D=f([I]);return D.slice(0,D.indexOf(`
`))}function d(C,S,E,_){const I=E.enter("tableCell"),D=E.enter("phrasing"),M=E.containerPhrasing(C,{..._,before:o,after:o});return D(),I(),M}function f(C,S){return JO(C,{align:S,alignDelimiters:i,padding:n,stringLength:r})}function h(C,S,E){const _=C.children;let I=-1;const D=[],M=S.enter("table");for(;++I<_.length;)D[I]=v(_[I],S,E);return M(),D}function v(C,S,E){const _=C.children;let I=-1;const D=[],M=S.enter("tableRow");for(;++I<_.length;)D[I]=d(_[I],C,S,E);return M(),D}function T(C,S,E){let _=qE.inlineCode(C,S,E);return E.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function z4(){return{exit:{taskListCheckValueChecked:Wb,taskListCheckValueUnchecked:Wb,paragraph:F4}}}function V4(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:B4}}}function Wb(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function F4(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const r=e.children;let o=-1,s;for(;++o<r.length;){const u=r[o];if(u.type==="paragraph"){s=u;break}}s===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function B4(t,e,n,i){const r=t.children[0],o=typeof t.checked=="boolean"&&r&&r.type==="paragraph",s="["+(t.checked?"x":" ")+"] ",u=n.createTracker(i);o&&u.move(s);let d=qE.listItem(t,e,n,{...i,...u.current()});return o&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(h){return h+s}}function $4(){return[TO(),BO(),qO(),M4(),z4()]}function H4(t){return{extensions:[CO(),$O(t),WO(),j4(t),V4()]}}const G4={tokenize:X4,partial:!0},WE={tokenize:J4,partial:!0},YE={tokenize:Q4,partial:!0},ZE={tokenize:eP,partial:!0},q4={tokenize:tP,partial:!0},KE={name:"wwwAutolink",tokenize:Z4,previous:JE},XE={name:"protocolAutolink",tokenize:K4,previous:QE},Nr={name:"emailAutolink",tokenize:Y4,previous:ew},tr={};function W4(){return{text:tr}}let ja=48;for(;ja<123;)tr[ja]=Nr,ja++,ja===58?ja=65:ja===91&&(ja=97);tr[43]=Nr;tr[45]=Nr;tr[46]=Nr;tr[95]=Nr;tr[72]=[Nr,XE];tr[104]=[Nr,XE];tr[87]=[Nr,KE];tr[119]=[Nr,KE];function Y4(t,e,n){const i=this;let r,o;return s;function s(v){return!Xh(v)||!ew.call(i,i.previous)||ny(i.events)?n(v):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),u(v))}function u(v){return Xh(v)?(t.consume(v),u):v===64?(t.consume(v),d):n(v)}function d(v){return v===46?t.check(q4,h,f)(v):v===45||v===95||mn(v)?(o=!0,t.consume(v),d):h(v)}function f(v){return t.consume(v),r=!0,d}function h(v){return o&&r&&Sn(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(v)):n(v)}}function Z4(t,e,n){const i=this;return r;function r(s){return s!==87&&s!==119||!JE.call(i,i.previous)||ny(i.events)?n(s):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(G4,t.attempt(WE,t.attempt(YE,o),n),n)(s))}function o(s){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(s)}}function K4(t,e,n){const i=this;let r="",o=!1;return s;function s(v){return(v===72||v===104)&&QE.call(i,i.previous)&&!ny(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),r+=String.fromCodePoint(v),t.consume(v),u):n(v)}function u(v){if(Sn(v)&&r.length<5)return r+=String.fromCodePoint(v),t.consume(v),u;if(v===58){const T=r.toLowerCase();if(T==="http"||T==="https")return t.consume(v),d}return n(v)}function d(v){return v===47?(t.consume(v),o?f:(o=!0,d)):n(v)}function f(v){return v===null||_d(v)||gt(v)||to(v)||Jd(v)?n(v):t.attempt(WE,t.attempt(YE,h),n)(v)}function h(v){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(v)}}function X4(t,e,n){let i=0;return r;function r(s){return(s===87||s===119)&&i<3?(i++,t.consume(s),r):s===46&&i===3?(t.consume(s),o):n(s)}function o(s){return s===null?n(s):e(s)}}function J4(t,e,n){let i,r,o;return s;function s(f){return f===46||f===95?t.check(ZE,d,u)(f):f===null||gt(f)||to(f)||f!==45&&Jd(f)?d(f):(o=!0,t.consume(f),s)}function u(f){return f===95?i=!0:(r=i,i=void 0),t.consume(f),s}function d(f){return r||i||!o?n(f):e(f)}}function Q4(t,e){let n=0,i=0;return r;function r(s){return s===40?(n++,t.consume(s),r):s===41&&i<n?o(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?t.check(ZE,e,o)(s):s===null||gt(s)||to(s)?e(s):(t.consume(s),r)}function o(s){return s===41&&i++,t.consume(s),r}}function eP(t,e,n){return i;function i(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(t.consume(u),i):u===38?(t.consume(u),o):u===93?(t.consume(u),r):u===60||u===null||gt(u)||to(u)?e(u):n(u)}function r(u){return u===null||u===40||u===91||gt(u)||to(u)?e(u):i(u)}function o(u){return Sn(u)?s(u):n(u)}function s(u){return u===59?(t.consume(u),i):Sn(u)?(t.consume(u),s):n(u)}}function tP(t,e,n){return i;function i(o){return t.consume(o),r}function r(o){return mn(o)?n(o):e(o)}}function JE(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||gt(t)}function QE(t){return!Sn(t)}function ew(t){return!(t===47||Xh(t))}function Xh(t){return t===43||t===45||t===46||t===95||mn(t)}function ny(t){let e=t.length,n=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const nP={tokenize:cP,partial:!0};function iP(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:lP,continuation:{tokenize:sP},exit:uP}},text:{91:{name:"gfmFootnoteCall",tokenize:oP},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:rP,resolveTo:aP}}}}function rP(t,e,n){const i=this;let r=i.events.length;const o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s;for(;r--;){const d=i.events[r][1];if(d.type==="labelImage"){s=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return u;function u(d){if(!s||!s._balanced)return n(d);const f=wi(i.sliceSerialize({start:s.end,end:i.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(d):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),e(d))}}function aP(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},t[t.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},u=[t[n+1],t[n+2],["enter",i,e],t[n+3],t[n+4],["enter",r,e],["exit",r,e],["enter",o,e],["enter",s,e],["exit",s,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(n,t.length-n+1,...u),t}function oP(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o=0,s;return u;function u(v){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(v),t.exit("gfmFootnoteCallLabelMarker"),d}function d(v){return v!==94?n(v):(t.enter("gfmFootnoteCallMarker"),t.consume(v),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",f)}function f(v){if(o>999||v===93&&!s||v===null||v===91||gt(v))return n(v);if(v===93){t.exit("chunkString");const T=t.exit("gfmFootnoteCallString");return r.includes(wi(i.sliceSerialize(T)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(v),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(v)}return gt(v)||(s=!0),o++,t.consume(v),v===92?h:f}function h(v){return v===91||v===92||v===93?(t.consume(v),o++,f):f(v)}}function lP(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,s=0,u;return d;function d(S){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(S){return S===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",h):n(S)}function h(S){if(s>999||S===93&&!u||S===null||S===91||gt(S))return n(S);if(S===93){t.exit("chunkString");const E=t.exit("gfmFootnoteDefinitionLabelString");return o=wi(i.sliceSerialize(E)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),T}return gt(S)||(u=!0),s++,t.consume(S),S===92?v:h}function v(S){return S===91||S===92||S===93?(t.consume(S),s++,h):h(S)}function T(S){return S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),r.includes(o)||r.push(o),Qe(t,C,"gfmFootnoteDefinitionWhitespace")):n(S)}function C(S){return e(S)}}function sP(t,e,n){return t.check(mu,e,t.attempt(nP,e,n))}function uP(t){t.exit("gfmFootnoteDefinition")}function cP(t,e,n){const i=this;return Qe(t,r,"gfmFootnoteDefinitionIndent",5);function r(o){const s=i.events[i.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?e(o):n(o)}}function dP(t){let n=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:o,resolveAll:r};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(s,u){let d=-1;for(;++d<s.length;)if(s[d][0]==="enter"&&s[d][1].type==="strikethroughSequenceTemporary"&&s[d][1]._close){let f=d;for(;f--;)if(s[f][0]==="exit"&&s[f][1].type==="strikethroughSequenceTemporary"&&s[f][1]._open&&s[d][1].end.offset-s[d][1].start.offset===s[f][1].end.offset-s[f][1].start.offset){s[d][1].type="strikethroughSequence",s[f][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},s[f][1].start),end:Object.assign({},s[d][1].end)},v={type:"strikethroughText",start:Object.assign({},s[f][1].end),end:Object.assign({},s[d][1].start)},T=[["enter",h,u],["enter",s[f][1],u],["exit",s[f][1],u],["enter",v,u]],C=u.parser.constructs.insideSpan.null;C&&Kn(T,T.length,0,Qd(C,s.slice(f+1,d),u)),Kn(T,T.length,0,[["exit",v,u],["enter",s[d][1],u],["exit",s[d][1],u],["exit",h,u]]),Kn(s,f-1,d-f+3,T),d=f+T.length-2;break}}for(d=-1;++d<s.length;)s[d][1].type==="strikethroughSequenceTemporary"&&(s[d][1].type="data");return s}function o(s,u,d){const f=this.previous,h=this.events;let v=0;return T;function T(S){return f===126&&h[h.length-1][1].type!=="characterEscape"?d(S):(s.enter("strikethroughSequenceTemporary"),C(S))}function C(S){const E=yl(f);if(S===126)return v>1?d(S):(s.consume(S),v++,C);if(v<2&&!n)return d(S);const _=s.exit("strikethroughSequenceTemporary"),I=yl(S);return _._open=!I||I===2&&!!E,_._close=!E||E===2&&!!I,u(S)}}}class fP{constructor(){this.map=[]}add(e,n,i){mP(this,e,n,i)}consume(e){if(this.map.sort(function(o,s){return o[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];i.push(e.slice()),e.length=0;let r=i.pop();for(;r;){for(const o of r)e.push(o);r=i.pop()}this.map.length=0}}function mP(t,e,n,i){let r=0;if(!(n===0&&i.length===0)){for(;r<t.map.length;){if(t.map[r][0]===e){t.map[r][1]+=n,t.map[r][2].push(...i);return}r+=1}t.map.push([e,n,i])}}function pP(t,e){let n=!1;const i=[];for(;e<t.length;){const r=t[e];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=i.length-1;i[o]=i[o]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return i}function hP(){return{flow:{null:{name:"table",tokenize:gP,resolveAll:yP}}}}function gP(t,e,n){const i=this;let r=0,o=0,s;return u;function u(j){let Z=i.events.length-1;for(;Z>-1;){const ee=i.events[Z][1].type;if(ee==="lineEnding"||ee==="linePrefix")Z--;else break}const ne=Z>-1?i.events[Z][1].type:null,ae=ne==="tableHead"||ne==="tableRow"?R:d;return ae===R&&i.parser.lazy[i.now().line]?n(j):ae(j)}function d(j){return t.enter("tableHead"),t.enter("tableRow"),f(j)}function f(j){return j===124||(s=!0,o+=1),h(j)}function h(j){return j===null?n(j):Pe(j)?o>1?(o=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),C):n(j):Ke(j)?Qe(t,h,"whitespace")(j):(o+=1,s&&(s=!1,r+=1),j===124?(t.enter("tableCellDivider"),t.consume(j),t.exit("tableCellDivider"),s=!0,h):(t.enter("data"),v(j)))}function v(j){return j===null||j===124||gt(j)?(t.exit("data"),h(j)):(t.consume(j),j===92?T:v)}function T(j){return j===92||j===124?(t.consume(j),v):v(j)}function C(j){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(j):(t.enter("tableDelimiterRow"),s=!1,Ke(j)?Qe(t,S,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):S(j))}function S(j){return j===45||j===58?_(j):j===124?(s=!0,t.enter("tableCellDivider"),t.consume(j),t.exit("tableCellDivider"),E):L(j)}function E(j){return Ke(j)?Qe(t,_,"whitespace")(j):_(j)}function _(j){return j===58?(o+=1,s=!0,t.enter("tableDelimiterMarker"),t.consume(j),t.exit("tableDelimiterMarker"),I):j===45?(o+=1,I(j)):j===null||Pe(j)?P(j):L(j)}function I(j){return j===45?(t.enter("tableDelimiterFiller"),D(j)):L(j)}function D(j){return j===45?(t.consume(j),D):j===58?(s=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(j),t.exit("tableDelimiterMarker"),M):(t.exit("tableDelimiterFiller"),M(j))}function M(j){return Ke(j)?Qe(t,P,"whitespace")(j):P(j)}function P(j){return j===124?S(j):j===null||Pe(j)?!s||r!==o?L(j):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(j)):L(j)}function L(j){return n(j)}function R(j){return t.enter("tableRow"),B(j)}function B(j){return j===124?(t.enter("tableCellDivider"),t.consume(j),t.exit("tableCellDivider"),B):j===null||Pe(j)?(t.exit("tableRow"),e(j)):Ke(j)?Qe(t,B,"whitespace")(j):(t.enter("data"),q(j))}function q(j){return j===null||j===124||gt(j)?(t.exit("data"),B(j)):(t.consume(j),j===92?$:q)}function $(j){return j===92||j===124?(t.consume(j),q):q(j)}}function yP(t,e){let n=-1,i=!0,r=0,o=[0,0,0,0],s=[0,0,0,0],u=!1,d=0,f,h,v;const T=new fP;for(;++n<t.length;){const C=t[n],S=C[1];C[0]==="enter"?S.type==="tableHead"?(u=!1,d!==0&&(Yb(T,e,d,f,h),h=void 0,d=0),f={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},T.add(n,0,[["enter",f,e]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(i=!0,v=void 0,o=[0,0,0,0],s=[0,n+1,0,0],u&&(u=!1,h={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},T.add(n,0,[["enter",h,e]])),r=S.type==="tableDelimiterRow"?2:h?3:1):r&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(i=!1,s[2]===0&&(o[1]!==0&&(s[0]=s[1],v=zc(T,e,o,r,void 0,v),o=[0,0,0,0]),s[2]=n)):S.type==="tableCellDivider"&&(i?i=!1:(o[1]!==0&&(s[0]=s[1],v=zc(T,e,o,r,void 0,v)),o=s,s=[o[1],n,0,0])):S.type==="tableHead"?(u=!0,d=n):S.type==="tableRow"||S.type==="tableDelimiterRow"?(d=n,o[1]!==0?(s[0]=s[1],v=zc(T,e,o,r,n,v)):s[1]!==0&&(v=zc(T,e,s,r,n,v)),r=0):r&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(s[3]=n)}for(d!==0&&Yb(T,e,d,f,h),T.consume(e.events),n=-1;++n<e.events.length;){const C=e.events[n];C[0]==="enter"&&C[1].type==="table"&&(C[1]._align=pP(e.events,n))}return t}function zc(t,e,n,i,r,o){const s=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(o.end=Object.assign({},nl(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const d=nl(e.events,n[1]);if(o={type:s,start:Object.assign({},d),end:Object.assign({},d)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const f=nl(e.events,n[2]),h=nl(e.events,n[3]),v={type:u,start:Object.assign({},f),end:Object.assign({},h)};if(t.add(n[2],0,[["enter",v,e]]),i!==2){const T=e.events[n[2]],C=e.events[n[3]];if(T[1].end=Object.assign({},C[1].end),T[1].type="chunkText",T[1].contentType="text",n[3]>n[2]+1){const S=n[2]+1,E=n[3]-n[2]-1;t.add(S,E,[])}}t.add(n[3]+1,0,[["exit",v,e]])}return r!==void 0&&(o.end=Object.assign({},nl(e.events,r)),t.add(r,0,[["exit",o,e]]),o=void 0),o}function Yb(t,e,n,i,r){const o=[],s=nl(e.events,n);r&&(r.end=Object.assign({},s),o.push(["exit",r,e])),i.end=Object.assign({},s),o.push(["exit",i,e]),t.add(n+1,0,o)}function nl(t,e){const n=t[e],i=n[0]==="enter"?"start":"end";return n[1][i]}const vP={name:"tasklistCheck",tokenize:bP};function xP(){return{text:{91:vP}}}function bP(t,e,n){const i=this;return r;function r(d){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(d):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(d),t.exit("taskListCheckMarker"),o)}function o(d){return gt(d)?(t.enter("taskListCheckValueUnchecked"),t.consume(d),t.exit("taskListCheckValueUnchecked"),s):d===88||d===120?(t.enter("taskListCheckValueChecked"),t.consume(d),t.exit("taskListCheckValueChecked"),s):n(d)}function s(d){return d===93?(t.enter("taskListCheckMarker"),t.consume(d),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),u):n(d)}function u(d){return Pe(d)?e(d):Ke(d)?t.check({tokenize:TP},e,n)(d):n(d)}}function TP(t,e,n){return Qe(t,i,"whitespace");function i(r){return r===null?n(r):e(r)}}function CP(t){return dE([W4(),iP(),dP(t),hP(),xP()])}const SP={};function EP(t){const e=this,n=t||SP,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),o=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),s=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(CP(n)),o.push($4()),s.push(H4(n))}const ih="@",wP=5,AP=({textareaRef:t,onValueChange:e,disabled:n})=>{const i=(s,u=s)=>{if(!t.current)return;const{value:d,selectionStart:f,selectionEnd:h}=t.current,v=d.substring(f,h),T=`${d.substring(0,f)}${s}${v}${u}${d.substring(h)}`;e(T,f+s.length+v.length+u.length),setTimeout(()=>{var C;return(C=t.current)==null?void 0:C.focus()},0)},r=s=>{if(!t.current)return;const{value:u,selectionStart:d}=t.current;let f=d;for(;f>0&&u[f-1]!==`
`;)f--;const h=`${u.substring(0,f)}${s}${u.substring(f)}`;e(h,d+s.length),setTimeout(()=>{var v;return(v=t.current)==null?void 0:v.focus()},0)},o=[{name:"formatBold",tooltip:U.tooltipBold,action:()=>i("**","**"),icon:"formatBold"},{name:"formatItalic",tooltip:U.tooltipItalic,action:()=>i("*","*"),icon:"formatItalic"},{name:"listBullet",tooltip:U.tooltipUnorderedList,action:()=>r("- "),icon:"listBullet"},{name:"queueList",tooltip:U.tooltipOrderedList,action:()=>r("1. "),icon:"queueList"}];return y.jsx("div",{className:"flex items-center space-x-1 p-1 bg-slate-700 border border-slate-600 rounded-t-md",children:o.map(s=>y.jsx(ht,{content:s.tooltip,position:"top",offsetValue:4,children:y.jsx(we,{variant:"icon",size:"sm",onClick:s.action,disabled:n,className:"!p-1 text-gray-300 hover:text-purple-300","aria-label":s.tooltip,children:y.jsx(me,{name:s.icon,size:"sm"})})},s.name))})},tw=({value:t,onChange:e,onMentionsResolved:n,mentionUsers:i,placeholder:r,rows:o=3,className:s="",textareaClassName:u="",hasError:d,disabled:f,"data-testid":h})=>{const[v,T]=N.useState(""),[C,S]=N.useState([]),[E,_]=N.useState(!1),[I,D]=N.useState(0),[M,P]=N.useState(new Set),L=N.useRef(null),R=N.useRef(null),B=N.useRef(null),q=N.useId()+"-mention-suggestions-listbox";N.useEffect(()=>{if(v){const Q=i.filter(z=>z.username.toLowerCase().includes(v.toLowerCase())||z.displayName.toLowerCase().includes(v.toLowerCase())).slice(0,wP);S(Q),_(Q.length>0),D(0)}else _(!1),S([])},[v,i]);const $=(Q,z)=>{var w;e(Q);const G=z??((w=L.current)==null?void 0:w.selectionStart)??Q.length;let re="",de=-1;for(let H=G-1;H>=0;H--){if(Q[H]===ih&&(H===0||/\s/.test(Q[H-1]))){const ie=Q.substring(H+1,G);/\s/.test(ie)?de=-1:(re=ie,de=H,B.current=H);break}if(/\s/.test(Q[H]))break}de!==-1?T(re):(_(!1),T(""),B.current=null),Z(Q),z!==void 0&&L.current&&setTimeout(()=>{L.current&&(L.current.focus(),L.current.setSelectionRange(z,z))},0)},j=Q=>{$(Q.target.value)},Z=N.useCallback(Q=>{const z=new Set,G=/@([a-zA-Z0-9_.-]+)/g;let re;for(;(re=G.exec(Q))!==null;){const de=re[1],w=i.find(H=>H.username===de);w&&z.add(w.id)}P(z),n(Array.from(z))},[i,n]);N.useEffect(()=>{Z(t)},[]);const ne=Q=>{if(L.current&&B.current!==null){const z=t,G=L.current.selectionStart,re=z.substring(0,B.current),de=z.substring(G),w=`${re}${ih}${Q.username} ${de}`,H=(re+ih+Q.username+" ").length;$(w,H),M.add(Q.id),P(new Set(M)),n(Array.from(M)),_(!1),T(""),B.current=null,setTimeout(()=>{var ie;return(ie=L.current)==null?void 0:ie.focus()},0)}},ae=Q=>{E&&C.length>0&&(Q.key==="ArrowDown"?(Q.preventDefault(),D(z=>(z+1)%C.length)):Q.key==="ArrowUp"?(Q.preventDefault(),D(z=>(z-1+C.length)%C.length)):Q.key==="Enter"||Q.key==="Tab"?(Q.preventDefault(),ne(C[I])):Q.key==="Escape"&&(Q.preventDefault(),_(!1)))};N.useEffect(()=>{E&&R.current&&R.current.children[I]&&R.current.children[I].scrollIntoView({block:"nearest",inline:"nearest"})},[I,E]);let ee;if(E&&C.length>0&&I>=0&&I<C.length){const Q=C[I];Q&&Q.id!==void 0&&(ee=`mention-suggestion-${Q.id}-${I}`)}return y.jsxs("div",{className:`relative ${s}`,children:[y.jsx(AP,{textareaRef:L,onValueChange:$,disabled:f}),y.jsx(ao,{ref:L,value:t,onChange:j,onKeyDown:ae,placeholder:r,rows:o,className:`${u} !rounded-t-none`,hasError:d,disabled:f,"data-testid":h||"mention-textarea",role:"combobox","aria-autocomplete":"list","aria-expanded":E,"aria-controls":E?q:void 0,"aria-activedescendant":ee}),E&&C.length>0&&y.jsx("div",{className:"absolute z-10 mt-1 w-full bg-slate-700 border border-slate-600 rounded-md shadow-lg max-h-48 overflow-y-auto",children:y.jsx(hn,{axis:"y",className:"max-h-48",children:y.jsx("ul",{ref:R,role:"listbox",id:q,"aria-label":"Προτάσεις αναφοράς",children:C.map((Q,z)=>y.jsxs("li",{id:`mention-suggestion-${Q.id}-${z}`,role:"option","aria-selected":z===I,className:`p-2 hover:bg-slate-600 cursor-pointer flex items-center space-x-2
                              ${z===I?"bg-slate-600":""}`,onMouseDown:G=>G.preventDefault(),onClick:()=>ne(Q),children:[y.jsx(da,{name:Q.displayName,avatarUrl:Q.avatarUrl,sizeClasses:"w-6 h-6",textClasses:"text-xs"}),y.jsx("span",{className:"text-sm text-gray-200",children:Q.displayName}),y.jsxs("span",{className:"text-xs text-gray-400",children:["@",Q.username]})]},Q.id))})})}),E&&C.length===0&&v.length>0&&y.jsx("div",{className:"absolute z-10 mt-1 w-full bg-slate-700 border border-slate-600 rounded-md shadow-lg p-2 text-sm text-gray-400",children:U.noMentionMatches||"No users found"})]})},Zb=2,rh=3,Kb=["image/jpeg","image/png","application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],nw=De.memo(({note:t,contactDisplayName:e,onUpdateNote:n,onDeleteNote:i,onTogglePinNote:r,anyOperationLoading:o})=>{const[s,u]=N.useState(!1),[d,f]=N.useState(t.content),[h,v]=N.useState(t.mentionedUserIds||[]),[T,C]=N.useState([]),[S,E]=N.useState(t.attachments||[]),[_,I]=N.useState(!1),[D,M]=N.useState(""),P=N.useRef(null),L=()=>{f(t.content),v(t.mentionedUserIds||[]),E(t.attachments||[]),C([]),M(""),u(!0)},R=()=>{u(!1),M("")},B=async z=>{const G=z.map(de=>new Promise(w=>{const H=new FileReader;H.onload=ie=>{var O;w({id:Ce(),fileName:de.name,fileType:de.type,fileSize:de.size,url:(O=ie.target)==null?void 0:O.result,uploadedAt:new Date().toISOString()})},H.onerror=ie=>{console.error("File read error in NoteItem:",ie),fe.error(`${U.fileReadError}: ${de.name}`),w(null)},H.readAsDataURL(de)}));return(await Promise.all(G)).filter(de=>de!==null)},q=z=>z.startsWith("image/")?"fileImage":z==="application/pdf"?"filePdf":z.includes("wordprocessingml")||z==="application/msword"||z==="text/plain"?"fileText":["application/zip","application/x-rar-compressed","application/x-7z-compressed","application/x-tar"].includes(z)?"fileArchive":"fileGeneric",$=z=>{const G=Array.from(z.target.files||[]);if(!G.length)return;if(S.length+T.length+G.length>rh){fe.error(U.maxFilesError(rh)),P.current&&(P.current.value="");return}let de=S.reduce((H,ie)=>H+ie.fileSize,0)+T.reduce((H,ie)=>H+ie.size,0);const w=[];for(const H of G){if(!Kb.includes(H.type)){fe.error(`${U.fileTypeError}: ${H.name}`);continue}if(de+H.size>Zb*1024*1024){fe.error(U.maxFileSizeError(Zb));break}de+=H.size,w.push(H)}C(H=>[...H,...w]),P.current&&(P.current.value="")},j=z=>{C(G=>G.filter((re,de)=>de!==z))},Z=z=>{E(G=>G.filter(re=>re.id!==z))},ne=async()=>{if(!d.trim())return;I(!0);const z=await B(T),G=[...S,...z],re=await n(t.id,e,{content:d.trim(),mentionedUserIds:h,attachments:G});I(!1),re&&(u(!1),M(""))},ae=(z,G)=>{if(!G||G.length===0)return z;let re=z;return G.forEach(de=>{const w=Jt.find(H=>H.id===de);if(w){const H=new RegExp(`(?<!\\S)@${w.username}(?!\\S)`,"g");re=re.replace(H,`**@${w.username}**`)}}),re},ee=_||o,Q=N.useMemo(()=>t.attachments?D.trim()?t.attachments.filter(z=>z.fileName.toLowerCase().includes(D.toLowerCase())):t.attachments:[],[t.attachments,D]);return s?y.jsxs("div",{className:`text-[var(--font-size-xs)] text-gray-300 bg-slate-750 p-2 rounded-md shadow ${t.pinned?"border-l-2 border-purple-500":""} space-y-2`,children:[y.jsx(tw,{value:d,onChange:f,onMentionsResolved:v,mentionUsers:Jt,placeholder:U.newNotePlaceholder||"Επεξεργασία σημείωσης...",rows:3,textareaClassName:"w-full text-xs",hasError:!d.trim(),disabled:ee}),y.jsxs("div",{className:"mt-2 space-y-1",children:[(S.length>0||T.length>0)&&y.jsx("p",{className:"text-xs font-medium text-gray-400",children:U.selectedFilesTitle}),S.map(z=>y.jsxs("div",{className:"flex items-center justify-between text-xs p-1 bg-slate-600 rounded",children:[y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(me,{name:q(z.fileType),size:"xs"}),y.jsx("span",{className:"truncate max-w-[150px] sm:max-w-xs",title:z.fileName,children:z.fileName}),y.jsxs("span",{className:"text-gray-400",children:["(",(z.fileSize/1024).toFixed(1)," KB)"]})]}),y.jsx(ht,{content:U.removeAttachmentTooltip,children:y.jsx(we,{variant:"icon",size:"sm",onClick:()=>Z(z.id),disabled:ee,className:"!p-0.5",children:y.jsx(me,{name:"close",size:"xs"})})})]},z.id)),T.map((z,G)=>y.jsxs("div",{className:"flex items-center justify-between text-xs p-1 bg-slate-600 rounded",children:[y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(me,{name:q(z.type),size:"xs"}),y.jsx("span",{className:"truncate max-w-[150px] sm:max-w-xs",title:z.name,children:z.name}),y.jsxs("span",{className:"text-gray-400",children:["(",(z.size/1024).toFixed(1)," KB)"]})]}),y.jsx(ht,{content:U.removeAttachmentTooltip,children:y.jsx(we,{variant:"icon",size:"sm",onClick:()=>j(G),disabled:ee,className:"!p-0.5",children:y.jsx(me,{name:"close",size:"xs"})})})]},G)),y.jsx("input",{type:"file",multiple:!0,ref:P,onChange:$,className:"hidden",accept:Kb.join(",")}),y.jsx(we,{type:"button",variant:"link",size:"sm",leftIcon:y.jsx(me,{name:"paperclip",size:"xs"}),onClick:()=>{var z;return(z=P.current)==null?void 0:z.click()},disabled:ee||S.length+T.length>=rh,className:"!p-1 text-xs",children:U.addAttachmentsButton})]}),y.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[y.jsx(we,{onClick:R,variant:"secondary",size:"sm",disabled:ee,children:U.cancelNoteEditButton||"Άκυρο"}),y.jsx(we,{onClick:ne,variant:"primary",size:"sm",disabled:!d.trim()||ee,isLoading:_,children:U.saveNoteChangesButton||"Αποθήκευση"})]})]}):y.jsxs("div",{className:`text-[var(--font-size-xs)] text-gray-300 bg-slate-750 p-2 rounded-md shadow ${t.pinned?"border-l-2 border-purple-500":""}`,children:[y.jsx("div",{className:"markdown-content whitespace-pre-wrap break-words",children:y.jsx(dO,{remarkPlugins:[EP],children:ae(t.content,t.mentionedUserIds)})}),t.attachments&&t.attachments.length>0&&y.jsxs("div",{className:"mt-2 pt-1 border-t border-slate-600",children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("p",{className:"text-xs font-semibold text-gray-400",children:U.attachmentsSectionTitle}),t.attachments.length>1&&y.jsx(Oe,{type:"search",placeholder:U.searchAttachmentsPlaceholder||"Αναζήτηση...",value:D,onChange:z=>M(z.target.value),className:"!py-0.5 !px-1.5 text-xs !bg-slate-700 max-w-[150px]",startIcon:y.jsx(me,{name:"search",size:"xs"}),clearable:!0,onClear:()=>M(""),disabled:o})]}),Q.length>0?y.jsx("div",{className:"space-y-1",children:Q.map(z=>y.jsxs("a",{href:z.url,target:"_blank",rel:"noopener noreferrer",download:!z.fileType.startsWith("image/")&&z.fileType!=="application/pdf"?z.fileName:void 0,className:"flex items-center space-x-1.5 p-1 bg-slate-700 hover:bg-slate-600 rounded text-xs group",title:`${z.fileName} (${(z.fileSize/1024).toFixed(1)}KB)`,children:[y.jsx(me,{name:q(z.fileType),size:"xs",className:"text-gray-400 group-hover:text-purple-300"}),y.jsx("span",{className:"text-gray-300 group-hover:text-purple-300 truncate max-w-[180px] sm:max-w-sm",children:z.fileName}),y.jsxs("span",{className:"text-gray-500",children:["(",(z.fileSize/1024).toFixed(1),"KB)"]})]},z.id))}):y.jsx("p",{className:"text-xs text-gray-500 italic",children:D?U.noAttachmentsMatchSearch:U.noAttachmentsYet})]}),y.jsxs("div",{className:"flex justify-between items-center mt-1",children:[y.jsxs("p",{className:"text-[var(--font-size-xs)] text-gray-500 flex flex-wrap items-center gap-x-1",children:[y.jsx("span",{className:"font-medium",children:t.author.displayName}),y.jsxs("span",{children:["- ",new Date(t.createdAt).toLocaleDateString("el-GR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),y.jsxs("span",{className:"text-gray-400",children:["(",WC[t.type]||t.type,")"]}),y.jsxs("span",{className:"text-sky-400",children:["[",YC[t.visibility]||t.visibility,"]"]}),t.updatedAt!==t.createdAt&&y.jsx("span",{className:"italic",title:`Επεξεργάστηκε: ${new Date(t.updatedAt).toLocaleDateString("el-GR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,children:"(επεξεργ.)"})]}),y.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[y.jsx(ht,{content:t.pinned?U.unpinNoteButtonTooltip:U.pinNoteButtonTooltip,position:"top",children:y.jsx("button",{onClick:()=>r(t),className:`p-0.5 transition-colors ${t.pinned?"text-purple-400 hover:text-purple-300":"text-gray-500 hover:text-purple-400"}`,"aria-label":t.pinned?U.unpinNoteButtonTooltip:U.pinNoteButtonTooltip,disabled:o,children:y.jsx(me,{name:t.pinned?"pin":"pinOutline",size:"xs"})})}),y.jsx(ht,{content:U.editNoteButtonTooltip,position:"top",children:y.jsx("button",{onClick:L,className:"text-gray-500 hover:text-purple-400 transition-colors p-0.5","aria-label":U.editNoteButtonTooltip,disabled:o,children:y.jsx(me,{name:"edit",size:"xs"})})}),y.jsx(ht,{content:U.deleteNoteButtonTooltip,position:"top",children:y.jsx("button",{onClick:()=>i(t.id),className:"text-gray-500 hover:text-red-400 transition-colors p-0.5","aria-label":U.deleteNoteButtonTooltip,disabled:o,children:y.jsx(me,{name:"trash",size:"xs"})})})]})]})]})});nw.displayName="NoteItem";const Xb=2,ah=3,Jb=["image/jpeg","image/png","application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],iw=De.memo(({entityId:t,entityType:e,contactDisplayName:n,isVoipReady:i,isLoadingAddNoteProp:r,disabledByParent:o,handleAddNote:s})=>{const[u,d]=N.useState(""),[f,h]=N.useState([]),[v,T]=N.useState([]),[C,S]=N.useState("general"),[E,_]=N.useState("team"),I=N.useRef(null),D=N.useMemo(()=>IS.filter($=>$!=="system_event"),[]),M=$=>{const j=Array.from($.target.files||[]);if(!j.length)return;if(v.length+j.length>ah){fe.error(U.maxFilesError(ah)),I.current&&(I.current.value="");return}let Z=v.reduce((ae,ee)=>ae+ee.size,0);const ne=[];for(const ae of j){if(!Jb.includes(ae.type)){fe.error(`${U.fileTypeError}: ${ae.name}`);continue}if(Z+ae.size>Xb*1024*1024){fe.error(U.maxFileSizeError(Xb));break}Z+=ae.size,ne.push(ae)}T(ae=>[...ae,...ne]),I.current&&(I.current.value="")},P=$=>{T(j=>j.filter((Z,ne)=>ne!==$))},L=async $=>{const j=$.map(ne=>new Promise(ae=>{const ee=new FileReader;ee.onload=Q=>{var z;ae({id:Ce(),fileName:ne.name,fileType:ne.type,fileSize:ne.size,url:(z=Q.target)==null?void 0:z.result,uploadedAt:new Date().toISOString()})},ee.onerror=Q=>{console.error("File read error for new note:",Q),fe.error(`${U.fileReadError}: ${ne.name}`),ae(null)},ee.readAsDataURL(ne)}));return(await Promise.all(j)).filter(ne=>ne!==null)},R=$=>$.startsWith("image/")?"fileImage":$==="application/pdf"?"filePdf":$.includes("wordprocessingml")||$==="application/msword"||$==="text/plain"?"fileText":["application/zip","application/x-rar-compressed","application/x-7z-compressed","application/x-tar"].includes($)?"fileArchive":"fileGeneric",B=async()=>{if(!u.trim())return;const $="Εγώ",j=await L(v);await s(t,e,u.trim(),$,n,{type:C,visibility:E,mentionedUserIds:f,attachments:j})&&(d(""),h([]),T([]),S("general"),_("team"),I.current&&(I.current.value=""))},q=r||o;return y.jsxs("div",{className:"mt-2 space-y-2",children:[y.jsx(tw,{value:u,onChange:d,onMentionsResolved:h,mentionUsers:Jt,placeholder:U.newNotePlaceholder||"Πληκτρολογήστε τη σημείωσή σας...",rows:2,textareaClassName:"w-full text-xs",disabled:q,"data-testid":"new-note-textarea"}),y.jsxs("div",{className:"mt-2 space-y-1",children:[v.length>0&&y.jsx("p",{className:"text-xs font-medium text-gray-400",children:U.selectedFilesTitle}),v.map(($,j)=>y.jsxs("div",{className:"flex items-center justify-between text-xs p-1 bg-slate-600 rounded",children:[y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(me,{name:R($.type),size:"xs"}),y.jsx("span",{className:"truncate max-w-[150px] sm:max-w-xs",title:$.name,children:$.name}),y.jsxs("span",{className:"text-gray-400",children:["(",($.size/1024).toFixed(1)," KB)"]})]}),y.jsx(ht,{content:U.removeAttachmentTooltip,children:y.jsx(we,{variant:"icon",size:"sm",onClick:()=>P(j),disabled:q,className:"!p-0.5",children:y.jsx(me,{name:"close",size:"xs"})})})]},j)),y.jsx("input",{type:"file",multiple:!0,ref:I,onChange:M,className:"hidden",accept:Jb.join(","),disabled:q}),y.jsx(we,{type:"button",variant:"link",size:"sm",leftIcon:y.jsx(me,{name:"paperclip",size:"xs"}),onClick:()=>{var $;return($=I.current)==null?void 0:$.click()},disabled:q||v.length>=ah,className:"!p-1 text-xs",children:U.addAttachmentsButton})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-2 space-y-2 sm:space-y-0",children:[y.jsx(Ee,{label:U.noteTypeLabel,htmlFor:`new-note-type-${t}`,className:"mb-0 flex-1",children:y.jsx(mi,{id:`new-note-type-${t}`,name:"newNoteType",value:C,onChange:$=>S($.target.value),disabled:q,className:"w-full text-xs",children:D.map($=>y.jsx("option",{value:$,children:WC[$]||$},$))})}),y.jsx(Ee,{label:U.noteVisibilityLabel,htmlFor:`new-note-visibility-${t}`,className:"mb-0 flex-1",children:y.jsx(mi,{id:`new-note-visibility-${t}`,name:"newNoteVisibility",value:E,onChange:$=>_($.target.value),disabled:q,className:"w-full text-xs",children:NS.map($=>y.jsx("option",{value:$,children:YC[$]||$},$))})})]}),y.jsx(we,{onClick:B,variant:"secondary",size:"sm",className:"mt-2",disabled:!u.trim()||!i||q,isLoading:r,children:U.addNoteButton||"Προσθήκη Σημείωσης"})]})});iw.displayName="AddNoteForm";const _P=({searchTerm:t,onSearchTermChange:e,filterCriteria:n,onFilterCriteriaChange:i,onClearFilters:r,disabled:o})=>{const s=()=>{i({...n,showOnlyPinned:!n.showOnlyPinned})},u=()=>{i({...n,showOnlyMyNotes:!n.showOnlyMyNotes})},d=v=>{i({...n,filterByTag:v.target.value})},f=()=>{i({...n,filterByTag:""})},h=t.trim()!==""||n.showOnlyPinned||n.showOnlyMyNotes||n.filterByTag.trim()!=="";return y.jsxs("div",{className:"mb-3 space-y-2 p-2 bg-slate-750 rounded-md",children:[y.jsx(Oe,{type:"search",placeholder:U.searchNotesPlaceholder,value:t,onChange:v=>e(v.target.value),className:"w-full text-xs !bg-slate-700",startIcon:y.jsx(me,{name:"search",size:"sm"}),clearable:!0,onClear:()=>e(""),disabled:o,"data-testid":"note-search-input"}),y.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[y.jsx(we,{variant:n.showOnlyPinned?"primary":"ghost",size:"sm",onClick:s,className:"text-xs",disabled:o,"data-testid":"pinned-filter-button",children:U.filterByPinnedButtonLabel}),y.jsx(we,{variant:n.showOnlyMyNotes?"primary":"ghost",size:"sm",onClick:u,className:"text-xs",disabled:o,"data-testid":"my-notes-filter-button",children:U.filterByMyNotesButtonLabel}),y.jsx(Oe,{type:"text",placeholder:U.filterByTagPlaceholder,value:n.filterByTag,onChange:d,className:"flex-grow min-w-[120px] text-xs !bg-slate-700",clearable:!0,onClear:f,disabled:o,"data-testid":"tag-filter-input"}),h&&y.jsx(ht,{content:U.clearNoteFiltersButtonLabel,position:"top",children:y.jsx(we,{variant:"icon",size:"sm",onClick:r,disabled:o,"data-testid":"clear-filters-button",children:y.jsx(me,{name:"close",size:"sm"})})})]})]})},NP=()=>{const[t,e]=N.useState(!1),[n,i]=N.useState(!1),[r,o]=N.useState(!1),s=N.useRef(void 0),u=sa(S=>S.addNote),d=sa(S=>S.deleteNote),f=sa(S=>S.updateNote),h=On(S=>S.addNotification),v=N.useCallback(async(S,E,_,I,D,M)=>{e(!0),s.current&&fe.dismiss(s.current),s.current=fe.loading(U.addingNote||"Προσθήκη σημείωσης...");try{const P={entityId:S,entityType:E,content:_,authorDisplayName:I,...M},L=await Ug(P);return u(L),fe.success(U.addNoteSuccessNotification||"Η σημείωση προστέθηκε!",{id:s.current}),L.mentionedUserIds&&L.mentionedUserIds.length>0&&L.mentionedUserIds.forEach(R=>{const B=Jt.find(q=>q.id===R);if(B&&L.author.userId!==B.id){const q=`Ο χρήστης ${L.author.displayName} σας ανέφερε (@${B.username}) στις σημειώσεις της επαφής «${D}».`;h({type:"mention",title:"Νέα Αναφορά",message:q,relatedEntityId:L.entityId,relatedEntityType:"contact",link:`/contacts/${L.entityId}`,icon:"user"})}}),L}catch(P){return console.error("Error in handleAddNote (useContactNotes):",P),fe.error(P.message||U.addNoteErrorNotification||"Σφάλμα προσθήκης σημείωσης.",{id:s.current}),null}finally{e(!1)}},[u,h]),T=N.useCallback(async S=>{i(!0),s.current&&fe.dismiss(s.current),s.current=fe.loading(U.deletingNote||"Διαγραφή σημείωσης...");try{return await vM(S),d(S),fe.success(U.deleteNoteSuccessNotification||"Η σημείωση διαγράφηκε!",{id:s.current}),!0}catch(E){return console.error("Error in handleDeleteNote (useContactNotes):",E),fe.error(E.message||U.deleteNoteErrorNotification||"Σφάλμα διαγραφής σημείωσης.",{id:s.current}),!1}finally{i(!1)}},[d]),C=N.useCallback(async(S,E,_)=>{var I;o(!0),s.current&&fe.dismiss(s.current),s.current=fe.loading(U.updatingNote||"Ενημέρωση σημείωσης...");try{const D=await yM(S,_);return D?(f(D),fe.success(U.updateNoteSuccessNotification||"Η σημείωση ενημερώθηκε!",{id:s.current}),D.mentionedUserIds&&D.mentionedUserIds.length>0&&((I=_.mentionedUserIds)==null||I.forEach(M=>{const P=Jt.find(L=>L.id===M);if(P&&D.author.userId!==P.id){const L=`Ο χρήστης ${D.author.displayName} σας ανέφερε (@${P.username}) σε μια ενημερωμένη σημείωση για την επαφή «${E}».`;h({type:"mention",title:"Ενημέρωση Αναφοράς",message:L,relatedEntityId:D.entityId,relatedEntityType:"contact",link:`/contacts/${D.entityId}`,icon:"user"})}})),D):(fe.error(U.updateNoteErrorNotification||"Σφάλμα: Η σημείωση δεν βρέθηκε για ενημέρωση.",{id:s.current}),null)}catch(D){return console.error("Error in handleUpdateNote (useContactNotes):",D),fe.error(D.message||U.updateNoteErrorNotification||"Σφάλμα ενημέρωσης σημείωσης.",{id:s.current}),null}finally{o(!1)}},[f,h]);return{handleAddNote:v,isLoadingAddNote:t,handleDeleteNote:T,isLoadingDeleteNote:n,handleUpdateNote:C,isLoadingUpdateNote:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let IP,DP;function kP(){return{geminiUrl:IP,vertexUrl:DP}}function MP(t,e,n){var i,r,o;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const s=kP();return t.vertexai?(r=s.vertexUrl)!==null&&r!==void 0?r:e:(o=s.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Al{}function Ve(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const o=e[r];return o!=null?String(o):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const d=t[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const h=d[f];g(h,e.slice(o+1),n[f])}else for(const f of d)g(f,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const d=t[u];g(d[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function p(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in t){const o=t[r];return Array.isArray(o)?o.map(s=>p(s,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qb;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Qb||(Qb={}));var eT;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(eT||(eT={}));var Gi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Gi||(Gi={}));var tT;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(tT||(tT={}));var nT;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(nT||(nT={}));var iT;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(iT||(iT={}));var rT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(rT||(rT={}));var aT;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(aT||(aT={}));var oT;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(oT||(oT={}));var lT;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(lT||(lT={}));var sT;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sT||(sT={}));var uT;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(uT||(uT={}));var cT;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(cT||(cT={}));var kd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(kd||(kd={}));var dT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dT||(dT={}));var Jh;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Jh||(Jh={}));var fT;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(fT||(fT={}));var mT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(mT||(mT={}));var pT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(pT||(pT={}));var hT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hT||(hT={}));var gT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(gT||(gT={}));var yT;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(yT||(yT={}));var vT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(vT||(vT={}));var xT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(xT||(xT={}));var bT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(bT||(bT={}));var TT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(TT||(TT={}));var CT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(CT||(CT={}));var ST;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ST||(ST={}));var ET;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ET||(ET={}));var wT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(wT||(wT={}));var AT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(AT||(AT={}));var _T;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(_T||(_T={}));var NT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(NT||(NT={}));var IT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(IT||(IT={}));var DT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(DT||(DT={}));var kT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kT||(kT={}));var MT;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(MT||(MT={}));var RT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(RT||(RT={}));var rl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(rl||(rl={}));class Rs{get text(){var e,n,i,r,o,s,u,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const v=[];for(const T of(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[C,S]of Object.entries(T))C!=="text"&&C!=="thought"&&(S!==null||S!==void 0)&&v.push(C);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;h=!0,f+=T.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,i,r,o,s,u,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const v of(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[T,C]of Object.entries(v))T!=="inlineData"&&(C!==null||C!==void 0)&&h.push(T);v.inlineData&&typeof v.inlineData.data=="string"&&(f+=atob(v.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,r,o,s,u,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,r,o,s,u,d,f;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,r,o,s,u,d,f;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class LT{}class OT{}class RP{}class LP{}class PT{}class UT{}class jT{}class OP{}class zT{}class VT{}class FT{}class PP{}class Qh{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class UP{}class jP{}class zP{get text(){var e,n,i;let r="",o=!1;const s=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&s.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,r+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,n,i;let r="";const o=[];for(const s of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,d]of Object.entries(s))u!=="inlineData"&&d!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class VP{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function rw(t,e){const n=bt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function aw(t,e){return Array.isArray(e)?e.map(n=>Md(t,n)):[Md(t,e)]}function Md(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function FP(t,e){const n=Md(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function BP(t,e){const n=Md(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function BT(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function ow(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>BT(t,n)):[BT(t,e)]}function eg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function $T(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function HT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function En(t,e){if(e==null)throw new Error("ContentUnion is required");return eg(e)?e:{role:"user",parts:ow(t,e)}}function lw(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=En(t,n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=En(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>En(t,n)):[En(t,e)]}function Ai(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if($T(e)||HT(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[En(t,e)]}const n=[],i=[],r=eg(e[0]);for(const o of e){const s=eg(o);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)n.push(o);else{if($T(o)||HT(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return r||n.push({role:"user",parts:ow(t,i)}),n}const $P=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),GT=pn(["string","number","integer","object","array","boolean","null"]),HP=sM([GT,qt(GT)]);function GP(t=!0){const e=dM(()=>{const n=Mt({type:HP.optional(),format:xe().optional(),title:xe().optional(),description:xe().optional(),default:nb().optional(),items:e.optional(),minItems:Wo.string().optional(),maxItems:Wo.string().optional(),enum:qt(nb()).optional(),properties:cM(xe(),e).optional(),required:qt(xe()).optional(),minProperties:Wo.string().optional(),maxProperties:Wo.string().optional(),propertyOrdering:qt(xe()).optional(),minimum:gl().optional(),maximum:gl().optional(),minLength:Wo.string().optional(),maxLength:Wo.string().optional(),pattern:xe().optional(),anyOf:qt(e).optional(),additionalProperties:Fi().optional()});return t?n.strict():n});return e}function qP(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Gi).includes(n[0].toUpperCase())?n[0].toUpperCase():Gi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Gi).includes(i.toUpperCase())?i.toUpperCase():Gi.TYPE_UNSPECIFIED})}}function sl(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&qP(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Gi).includes(u.toUpperCase())?u.toUpperCase():Gi.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=sl(u);else if(i.includes(s)){const d=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}d.push(sl(f))}e[s]=d}else if(r.includes(s)){const d={};for(const[f,h]of Object.entries(u))d[f]=sl(h);e[s]=d}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Rd(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=GP().parse(e);return sl(n)}else return sl(e)}function sw(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function iy(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function hu(t,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=Rd(t,n.parameters)),n.response&&(n.response=Rd(t,n.response));return e}function gu(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const i of e)n.push(i);return n}function WP(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function xa(t,e){if(typeof e!="string")throw new Error("name must be a string");return WP(t,e,"cachedContents")}function uw(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ir(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function YP(t){return t!=null&&typeof t=="object"&&"name"in t}function ZP(t){return t!=null&&typeof t=="object"&&"video"in t}function KP(t){return t!=null&&typeof t=="object"&&"uri"in t}function cw(t,e){var n;let i;if(YP(e)&&(i=e.name),!(KP(e)&&(i=e.uri,i===void 0))&&!(ZP(e)&&(i=(n=e.video)===null||n===void 0?void 0:n.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function dw(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function fw(t,e){for(const n of["models","tunedModels","publisherModels"])if(XP(e,n))return e[n];return[]}function XP(t,e){return t!==null&&typeof t=="object"&&e in t}function JP(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:sl(rf(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function QP(t,e={}){const n=[],i=new Set;for(const r of t){const o=r.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const s=JP(r,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function e6(t){const e=[];for(const n of t)e.push(rf(n));return e}function t6(t){const e={};for(const[n,i]of Object.entries(t)){const r=i;e[n]=rf(r)}return e}function rf(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),r={};for(const[o,s]of Object.entries(t))if(e.has(o))r[o]=rf(s);else if(n.has(o))r[o]=e6(s);else if(i.has(o))r[o]=t6(s);else if(o==="type"){const u=s.toUpperCase();r[o]=Object.values(Gi).includes(u)?u:Gi.TYPE_UNSPECIFIED}else $P.has(o)&&(r[o]=s);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n6(t,e){const n={},i=p(e,["fps"]);i!=null&&g(n,["fps"],i);const r=p(e,["endOffset"]);r!=null&&g(n,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&g(n,["startOffset"],o),n}function i6(t,e){const n={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["data"]);i!=null&&g(n,["data"],i);const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function r6(t,e){const n={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function a6(t,e){const n={},i=p(e,["videoMetadata"]);i!=null&&g(n,["videoMetadata"],n6(t,i));const r=p(e,["thought"]);r!=null&&g(n,["thought"],r);const o=p(e,["inlineData"]);o!=null&&g(n,["inlineData"],i6(t,o));const s=p(e,["fileData"]);s!=null&&g(n,["fileData"],r6(t,s));const u=p(e,["thoughtSignature"]);u!=null&&g(n,["thoughtSignature"],u);const d=p(e,["codeExecutionResult"]);d!=null&&g(n,["codeExecutionResult"],d);const f=p(e,["executableCode"]);f!=null&&g(n,["executableCode"],f);const h=p(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const v=p(e,["functionResponse"]);v!=null&&g(n,["functionResponse"],v);const T=p(e,["text"]);return T!=null&&g(n,["text"],T),n}function qT(t,e){const n={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>a6(t,s))),g(n,["parts"],o)}const r=p(e,["role"]);return r!=null&&g(n,["role"],r),n}function o6(t,e){const n={},i=p(e,["behavior"]);i!=null&&g(n,["behavior"],i);const r=p(e,["description"]);r!=null&&g(n,["description"],r);const o=p(e,["name"]);o!=null&&g(n,["name"],o);const s=p(e,["parameters"]);s!=null&&g(n,["parameters"],s);const u=p(e,["response"]);return u!=null&&g(n,["response"],u),n}function l6(t,e){const n={},i=p(e,["startTime"]);i!=null&&g(n,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&g(n,["endTime"],r),n}function s6(t,e){const n={},i=p(e,["timeRangeFilter"]);return i!=null&&g(n,["timeRangeFilter"],l6(t,i)),n}function u6(t,e){const n={},i=p(e,["mode"]);i!=null&&g(n,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&g(n,["dynamicThreshold"],r),n}function c6(t,e){const n={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&g(n,["dynamicRetrievalConfig"],u6(t,i)),n}function d6(){return{}}function f6(t,e){const n={},i=p(e,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>o6(t,f))),g(n,["functionDeclarations"],d)}if(p(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(e,["googleSearch"]);r!=null&&g(n,["googleSearch"],s6(t,r));const o=p(e,["googleSearchRetrieval"]);if(o!=null&&g(n,["googleSearchRetrieval"],c6(t,o)),p(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(e,["urlContext"])!=null&&g(n,["urlContext"],d6());const u=p(e,["codeExecution"]);return u!=null&&g(n,["codeExecution"],u),n}function m6(t,e){const n={},i=p(e,["mode"]);i!=null&&g(n,["mode"],i);const r=p(e,["allowedFunctionNames"]);return r!=null&&g(n,["allowedFunctionNames"],r),n}function p6(t,e){const n={},i=p(e,["latitude"]);i!=null&&g(n,["latitude"],i);const r=p(e,["longitude"]);return r!=null&&g(n,["longitude"],r),n}function h6(t,e){const n={},i=p(e,["latLng"]);i!=null&&g(n,["latLng"],p6(t,i));const r=p(e,["languageCode"]);return r!=null&&g(n,["languageCode"],r),n}function g6(t,e){const n={},i=p(e,["functionCallingConfig"]);i!=null&&g(n,["functionCallingConfig"],m6(t,i));const r=p(e,["retrievalConfig"]);return r!=null&&g(n,["retrievalConfig"],h6(t,r)),n}function y6(t,e,n){const i={},r=p(e,["ttl"]);n!==void 0&&r!=null&&g(n,["ttl"],r);const o=p(e,["expireTime"]);n!==void 0&&o!=null&&g(n,["expireTime"],o);const s=p(e,["displayName"]);n!==void 0&&s!=null&&g(n,["displayName"],s);const u=p(e,["contents"]);if(n!==void 0&&u!=null){let v=Ai(t,u);Array.isArray(v)&&(v=v.map(T=>qT(t,T))),g(n,["contents"],v)}const d=p(e,["systemInstruction"]);n!==void 0&&d!=null&&g(n,["systemInstruction"],qT(t,En(t,d)));const f=p(e,["tools"]);if(n!==void 0&&f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>f6(t,T))),g(n,["tools"],v)}const h=p(e,["toolConfig"]);if(n!==void 0&&h!=null&&g(n,["toolConfig"],g6(t,h)),p(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function v6(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],rw(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],y6(t,r,n)),n}function x6(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],xa(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function b6(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],xa(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function T6(t,e,n){const i={},r=p(e,["ttl"]);n!==void 0&&r!=null&&g(n,["ttl"],r);const o=p(e,["expireTime"]);return n!==void 0&&o!=null&&g(n,["expireTime"],o),i}function C6(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],xa(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],T6(t,r,n)),n}function S6(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const o=p(e,["pageToken"]);return n!==void 0&&o!=null&&g(n,["_query","pageToken"],o),i}function E6(t,e){const n={},i=p(e,["config"]);return i!=null&&g(n,["config"],S6(t,i,n)),n}function w6(t,e){const n={},i=p(e,["fps"]);i!=null&&g(n,["fps"],i);const r=p(e,["endOffset"]);r!=null&&g(n,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&g(n,["startOffset"],o),n}function A6(t,e){const n={},i=p(e,["displayName"]);i!=null&&g(n,["displayName"],i);const r=p(e,["data"]);r!=null&&g(n,["data"],r);const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function _6(t,e){const n={},i=p(e,["displayName"]);i!=null&&g(n,["displayName"],i);const r=p(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function N6(t,e){const n={},i=p(e,["videoMetadata"]);i!=null&&g(n,["videoMetadata"],w6(t,i));const r=p(e,["thought"]);r!=null&&g(n,["thought"],r);const o=p(e,["inlineData"]);o!=null&&g(n,["inlineData"],A6(t,o));const s=p(e,["fileData"]);s!=null&&g(n,["fileData"],_6(t,s));const u=p(e,["thoughtSignature"]);u!=null&&g(n,["thoughtSignature"],u);const d=p(e,["codeExecutionResult"]);d!=null&&g(n,["codeExecutionResult"],d);const f=p(e,["executableCode"]);f!=null&&g(n,["executableCode"],f);const h=p(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const v=p(e,["functionResponse"]);v!=null&&g(n,["functionResponse"],v);const T=p(e,["text"]);return T!=null&&g(n,["text"],T),n}function WT(t,e){const n={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>N6(t,s))),g(n,["parts"],o)}const r=p(e,["role"]);return r!=null&&g(n,["role"],r),n}function I6(t,e){const n={};if(p(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=p(e,["description"]);i!=null&&g(n,["description"],i);const r=p(e,["name"]);r!=null&&g(n,["name"],r);const o=p(e,["parameters"]);o!=null&&g(n,["parameters"],o);const s=p(e,["response"]);return s!=null&&g(n,["response"],s),n}function D6(t,e){const n={},i=p(e,["startTime"]);i!=null&&g(n,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&g(n,["endTime"],r),n}function k6(t,e){const n={},i=p(e,["timeRangeFilter"]);return i!=null&&g(n,["timeRangeFilter"],D6(t,i)),n}function M6(t,e){const n={},i=p(e,["mode"]);i!=null&&g(n,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&g(n,["dynamicThreshold"],r),n}function R6(t,e){const n={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&g(n,["dynamicRetrievalConfig"],M6(t,i)),n}function L6(){return{}}function O6(t,e){const n={},i=p(e,["apiKeyString"]);return i!=null&&g(n,["apiKeyString"],i),n}function P6(t,e){const n={},i=p(e,["apiKeyConfig"]);i!=null&&g(n,["apiKeyConfig"],O6(t,i));const r=p(e,["authType"]);r!=null&&g(n,["authType"],r);const o=p(e,["googleServiceAccountConfig"]);o!=null&&g(n,["googleServiceAccountConfig"],o);const s=p(e,["httpBasicAuthConfig"]);s!=null&&g(n,["httpBasicAuthConfig"],s);const u=p(e,["oauthConfig"]);u!=null&&g(n,["oauthConfig"],u);const d=p(e,["oidcConfig"]);return d!=null&&g(n,["oidcConfig"],d),n}function U6(t,e){const n={},i=p(e,["authConfig"]);return i!=null&&g(n,["authConfig"],P6(t,i)),n}function j6(){return{}}function z6(t,e){const n={},i=p(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>I6(t,T))),g(n,["functionDeclarations"],v)}const r=p(e,["retrieval"]);r!=null&&g(n,["retrieval"],r);const o=p(e,["googleSearch"]);o!=null&&g(n,["googleSearch"],k6(t,o));const s=p(e,["googleSearchRetrieval"]);s!=null&&g(n,["googleSearchRetrieval"],R6(t,s)),p(e,["enterpriseWebSearch"])!=null&&g(n,["enterpriseWebSearch"],L6());const d=p(e,["googleMaps"]);d!=null&&g(n,["googleMaps"],U6(t,d)),p(e,["urlContext"])!=null&&g(n,["urlContext"],j6());const h=p(e,["codeExecution"]);return h!=null&&g(n,["codeExecution"],h),n}function V6(t,e){const n={},i=p(e,["mode"]);i!=null&&g(n,["mode"],i);const r=p(e,["allowedFunctionNames"]);return r!=null&&g(n,["allowedFunctionNames"],r),n}function F6(t,e){const n={},i=p(e,["latitude"]);i!=null&&g(n,["latitude"],i);const r=p(e,["longitude"]);return r!=null&&g(n,["longitude"],r),n}function B6(t,e){const n={},i=p(e,["latLng"]);i!=null&&g(n,["latLng"],F6(t,i));const r=p(e,["languageCode"]);return r!=null&&g(n,["languageCode"],r),n}function $6(t,e){const n={},i=p(e,["functionCallingConfig"]);i!=null&&g(n,["functionCallingConfig"],V6(t,i));const r=p(e,["retrievalConfig"]);return r!=null&&g(n,["retrievalConfig"],B6(t,r)),n}function H6(t,e,n){const i={},r=p(e,["ttl"]);n!==void 0&&r!=null&&g(n,["ttl"],r);const o=p(e,["expireTime"]);n!==void 0&&o!=null&&g(n,["expireTime"],o);const s=p(e,["displayName"]);n!==void 0&&s!=null&&g(n,["displayName"],s);const u=p(e,["contents"]);if(n!==void 0&&u!=null){let T=Ai(t,u);Array.isArray(T)&&(T=T.map(C=>WT(t,C))),g(n,["contents"],T)}const d=p(e,["systemInstruction"]);n!==void 0&&d!=null&&g(n,["systemInstruction"],WT(t,En(t,d)));const f=p(e,["tools"]);if(n!==void 0&&f!=null){let T=f;Array.isArray(T)&&(T=T.map(C=>z6(t,C))),g(n,["tools"],T)}const h=p(e,["toolConfig"]);n!==void 0&&h!=null&&g(n,["toolConfig"],$6(t,h));const v=p(e,["kmsKeyName"]);return n!==void 0&&v!=null&&g(n,["encryption_spec","kmsKeyName"],v),i}function G6(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],rw(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],H6(t,r,n)),n}function q6(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],xa(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function W6(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],xa(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function Y6(t,e,n){const i={},r=p(e,["ttl"]);n!==void 0&&r!=null&&g(n,["ttl"],r);const o=p(e,["expireTime"]);return n!==void 0&&o!=null&&g(n,["expireTime"],o),i}function Z6(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],xa(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],Y6(t,r,n)),n}function K6(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const o=p(e,["pageToken"]);return n!==void 0&&o!=null&&g(n,["_query","pageToken"],o),i}function X6(t,e){const n={},i=p(e,["config"]);return i!=null&&g(n,["config"],K6(t,i,n)),n}function Jc(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["name"],i);const r=p(e,["displayName"]);r!=null&&g(n,["displayName"],r);const o=p(e,["model"]);o!=null&&g(n,["model"],o);const s=p(e,["createTime"]);s!=null&&g(n,["createTime"],s);const u=p(e,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(e,["expireTime"]);d!=null&&g(n,["expireTime"],d);const f=p(e,["usageMetadata"]);return f!=null&&g(n,["usageMetadata"],f),n}function J6(){return{}}function Q6(t,e){const n={},i=p(e,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const r=p(e,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Jc(t,s))),g(n,["cachedContents"],o)}return n}function Qc(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["name"],i);const r=p(e,["displayName"]);r!=null&&g(n,["displayName"],r);const o=p(e,["model"]);o!=null&&g(n,["model"],o);const s=p(e,["createTime"]);s!=null&&g(n,["createTime"],s);const u=p(e,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(e,["expireTime"]);d!=null&&g(n,["expireTime"],d);const f=p(e,["usageMetadata"]);return f!=null&&g(n,["usageMetadata"],f),n}function e7(){return{}}function t7(t,e){const n={},i=p(e,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const r=p(e,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Qc(t,s))),g(n,["cachedContents"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(vl||(vl={}));class af{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};i?typeof i=="object"?s=Object.assign({},i):s=i:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n7 extends Al{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new af(vl.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=G6(this.apiClient,e);return u=Ve("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Qc(this.apiClient,h))}else{const f=v6(this.apiClient,e);return u=Ve("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Jc(this.apiClient,h))}}async get(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=q6(this.apiClient,e);return u=Ve("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Qc(this.apiClient,h))}else{const f=x6(this.apiClient,e);return u=Ve("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Jc(this.apiClient,h))}}async delete(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=W6(this.apiClient,e);return u=Ve("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=e7(),v=new VT;return Object.assign(v,h),v})}else{const f=b6(this.apiClient,e);return u=Ve("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(()=>{const h=J6(),v=new VT;return Object.assign(v,h),v})}}async update(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=Z6(this.apiClient,e);return u=Ve("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Qc(this.apiClient,h))}else{const f=C6(this.apiClient,e);return u=Ve("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Jc(this.apiClient,h))}}async listInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=X6(this.apiClient,e);return u=Ve("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const v=t7(this.apiClient,h),T=new FT;return Object.assign(T,v),T})}else{const f=E6(this.apiClient,e);return u=Ve("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const v=Q6(this.apiClient,h),T=new FT;return Object.assign(T,v),T})}}}function YT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function St(t){return this instanceof St?(this.v=t,this):new St(t)}function ul(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(C){return function(S){return Promise.resolve(S).then(C,v)}}function u(C,S){i[C]&&(r[C]=function(E){return new Promise(function(_,I){o.push([C,E,_,I])>1||d(C,E)})},S&&(r[C]=S(r[C])))}function d(C,S){try{f(i[C](S))}catch(E){T(o[0][3],E)}}function f(C){C.value instanceof St?Promise.resolve(C.value.v).then(h,v):T(o[0][2],C)}function h(C){d("next",C)}function v(C){d("throw",C)}function T(C,S){C(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Gs(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof YT=="function"?YT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(u,d){s=t[o](s),r(u,d,s.done,s.value)})}}function r(o,s,u,d){Promise.resolve(d).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i7(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:mw(n)}function mw(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function r7(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ZT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let o=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),o&&!mw(t[i])&&(o=!1),i++;o?e.push(...r):e.pop()}return e}class a7{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new o7(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class o7{constructor(e,n,i,r={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),r7(o)}async sendMessage(e){var n;await this.sendPromise;const i=En(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const d=await r,f=(s=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=d.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let T=[];h!=null&&(T=(u=h.slice(v))!==null&&u!==void 0?u:[]);const C=f?[f]:[];this.recordHistory(i,C,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=En(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,i)}getHistory(e=!1){const n=e?ZT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,r;return ul(this,arguments,function*(){var s,u,d,f;const h=[];try{for(var v=!0,T=Gs(e),C;C=yield St(T.next()),s=C.done,!s;v=!0){f=C.value,v=!1;const S=f;if(i7(S)){const E=(r=(i=S.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;E!==void 0&&h.push(E)}yield yield St(S)}}catch(S){u={error:S}}finally{try{!v&&!s&&(d=T.return)&&(yield St(d.call(T)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(o=>o.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...ZT(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l7(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const o=p(e,["pageToken"]);return n!==void 0&&o!=null&&g(n,["_query","pageToken"],o),i}function s7(t,e){const n={},i=p(e,["config"]);return i!=null&&g(n,["config"],l7(t,i,n)),n}function u7(t,e){const n={},i=p(e,["details"]);i!=null&&g(n,["details"],i);const r=p(e,["message"]);r!=null&&g(n,["message"],r);const o=p(e,["code"]);return o!=null&&g(n,["code"],o),n}function c7(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["name"],i);const r=p(e,["displayName"]);r!=null&&g(n,["displayName"],r);const o=p(e,["mimeType"]);o!=null&&g(n,["mimeType"],o);const s=p(e,["sizeBytes"]);s!=null&&g(n,["sizeBytes"],s);const u=p(e,["createTime"]);u!=null&&g(n,["createTime"],u);const d=p(e,["expirationTime"]);d!=null&&g(n,["expirationTime"],d);const f=p(e,["updateTime"]);f!=null&&g(n,["updateTime"],f);const h=p(e,["sha256Hash"]);h!=null&&g(n,["sha256Hash"],h);const v=p(e,["uri"]);v!=null&&g(n,["uri"],v);const T=p(e,["downloadUri"]);T!=null&&g(n,["downloadUri"],T);const C=p(e,["state"]);C!=null&&g(n,["state"],C);const S=p(e,["source"]);S!=null&&g(n,["source"],S);const E=p(e,["videoMetadata"]);E!=null&&g(n,["videoMetadata"],E);const _=p(e,["error"]);return _!=null&&g(n,["error"],u7(t,_)),n}function d7(t,e){const n={},i=p(e,["file"]);i!=null&&g(n,["file"],c7(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function f7(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","file"],cw(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function m7(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","file"],cw(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function p7(t,e){const n={},i=p(e,["details"]);i!=null&&g(n,["details"],i);const r=p(e,["message"]);r!=null&&g(n,["message"],r);const o=p(e,["code"]);return o!=null&&g(n,["code"],o),n}function tg(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["name"],i);const r=p(e,["displayName"]);r!=null&&g(n,["displayName"],r);const o=p(e,["mimeType"]);o!=null&&g(n,["mimeType"],o);const s=p(e,["sizeBytes"]);s!=null&&g(n,["sizeBytes"],s);const u=p(e,["createTime"]);u!=null&&g(n,["createTime"],u);const d=p(e,["expirationTime"]);d!=null&&g(n,["expirationTime"],d);const f=p(e,["updateTime"]);f!=null&&g(n,["updateTime"],f);const h=p(e,["sha256Hash"]);h!=null&&g(n,["sha256Hash"],h);const v=p(e,["uri"]);v!=null&&g(n,["uri"],v);const T=p(e,["downloadUri"]);T!=null&&g(n,["downloadUri"],T);const C=p(e,["state"]);C!=null&&g(n,["state"],C);const S=p(e,["source"]);S!=null&&g(n,["source"],S);const E=p(e,["videoMetadata"]);E!=null&&g(n,["videoMetadata"],E);const _=p(e,["error"]);return _!=null&&g(n,["error"],p7(t,_)),n}function h7(t,e){const n={},i=p(e,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const r=p(e,["files"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>tg(t,s))),g(n,["files"],o)}return n}function g7(){return{}}function y7(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v7 extends Al{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new af(vl.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>tg(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=s7(this.apiClient,e);return o=Ve("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const f=h7(this.apiClient,d),h=new PP;return Object.assign(h,f),h})}}async createInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d7(this.apiClient,e);return o=Ve("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(()=>{const d=g7(),f=new UP;return Object.assign(f,d),f})}}async get(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=f7(this.apiClient,e);return o=Ve("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>tg(this.apiClient,d))}}async delete(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=m7(this.apiClient,e);return o=Ve("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(()=>{const d=y7(),f=new jP;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x7(t,e){const n={},i=p(e,["voiceName"]);return i!=null&&g(n,["voiceName"],i),n}function b7(t,e){const n={},i=p(e,["voiceName"]);return i!=null&&g(n,["voiceName"],i),n}function pw(t,e){const n={},i=p(e,["prebuiltVoiceConfig"]);return i!=null&&g(n,["prebuiltVoiceConfig"],x7(t,i)),n}function T7(t,e){const n={},i=p(e,["prebuiltVoiceConfig"]);return i!=null&&g(n,["prebuiltVoiceConfig"],b7(t,i)),n}function C7(t,e){const n={},i=p(e,["speaker"]);i!=null&&g(n,["speaker"],i);const r=p(e,["voiceConfig"]);return r!=null&&g(n,["voiceConfig"],pw(t,r)),n}function S7(t,e){const n={},i=p(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>C7(t,o))),g(n,["speakerVoiceConfigs"],r)}return n}function E7(t,e){const n={},i=p(e,["voiceConfig"]);i!=null&&g(n,["voiceConfig"],pw(t,i));const r=p(e,["multiSpeakerVoiceConfig"]);r!=null&&g(n,["multiSpeakerVoiceConfig"],S7(t,r));const o=p(e,["languageCode"]);return o!=null&&g(n,["languageCode"],o),n}function w7(t,e){const n={},i=p(e,["voiceConfig"]);if(i!=null&&g(n,["voiceConfig"],T7(t,i)),p(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(e,["languageCode"]);return r!=null&&g(n,["languageCode"],r),n}function A7(t,e){const n={},i=p(e,["fps"]);i!=null&&g(n,["fps"],i);const r=p(e,["endOffset"]);r!=null&&g(n,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&g(n,["startOffset"],o),n}function _7(t,e){const n={},i=p(e,["fps"]);i!=null&&g(n,["fps"],i);const r=p(e,["endOffset"]);r!=null&&g(n,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&g(n,["startOffset"],o),n}function N7(t,e){const n={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["data"]);i!=null&&g(n,["data"],i);const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function I7(t,e){const n={},i=p(e,["displayName"]);i!=null&&g(n,["displayName"],i);const r=p(e,["data"]);r!=null&&g(n,["data"],r);const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function D7(t,e){const n={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function k7(t,e){const n={},i=p(e,["displayName"]);i!=null&&g(n,["displayName"],i);const r=p(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function M7(t,e){const n={},i=p(e,["videoMetadata"]);i!=null&&g(n,["videoMetadata"],A7(t,i));const r=p(e,["thought"]);r!=null&&g(n,["thought"],r);const o=p(e,["inlineData"]);o!=null&&g(n,["inlineData"],N7(t,o));const s=p(e,["fileData"]);s!=null&&g(n,["fileData"],D7(t,s));const u=p(e,["thoughtSignature"]);u!=null&&g(n,["thoughtSignature"],u);const d=p(e,["codeExecutionResult"]);d!=null&&g(n,["codeExecutionResult"],d);const f=p(e,["executableCode"]);f!=null&&g(n,["executableCode"],f);const h=p(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const v=p(e,["functionResponse"]);v!=null&&g(n,["functionResponse"],v);const T=p(e,["text"]);return T!=null&&g(n,["text"],T),n}function R7(t,e){const n={},i=p(e,["videoMetadata"]);i!=null&&g(n,["videoMetadata"],_7(t,i));const r=p(e,["thought"]);r!=null&&g(n,["thought"],r);const o=p(e,["inlineData"]);o!=null&&g(n,["inlineData"],I7(t,o));const s=p(e,["fileData"]);s!=null&&g(n,["fileData"],k7(t,s));const u=p(e,["thoughtSignature"]);u!=null&&g(n,["thoughtSignature"],u);const d=p(e,["codeExecutionResult"]);d!=null&&g(n,["codeExecutionResult"],d);const f=p(e,["executableCode"]);f!=null&&g(n,["executableCode"],f);const h=p(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const v=p(e,["functionResponse"]);v!=null&&g(n,["functionResponse"],v);const T=p(e,["text"]);return T!=null&&g(n,["text"],T),n}function L7(t,e){const n={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>M7(t,s))),g(n,["parts"],o)}const r=p(e,["role"]);return r!=null&&g(n,["role"],r),n}function O7(t,e){const n={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>R7(t,s))),g(n,["parts"],o)}const r=p(e,["role"]);return r!=null&&g(n,["role"],r),n}function P7(t,e){const n={},i=p(e,["behavior"]);i!=null&&g(n,["behavior"],i);const r=p(e,["description"]);r!=null&&g(n,["description"],r);const o=p(e,["name"]);o!=null&&g(n,["name"],o);const s=p(e,["parameters"]);s!=null&&g(n,["parameters"],s);const u=p(e,["response"]);return u!=null&&g(n,["response"],u),n}function U7(t,e){const n={};if(p(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=p(e,["description"]);i!=null&&g(n,["description"],i);const r=p(e,["name"]);r!=null&&g(n,["name"],r);const o=p(e,["parameters"]);o!=null&&g(n,["parameters"],o);const s=p(e,["response"]);return s!=null&&g(n,["response"],s),n}function j7(t,e){const n={},i=p(e,["startTime"]);i!=null&&g(n,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&g(n,["endTime"],r),n}function z7(t,e){const n={},i=p(e,["startTime"]);i!=null&&g(n,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&g(n,["endTime"],r),n}function V7(t,e){const n={},i=p(e,["timeRangeFilter"]);return i!=null&&g(n,["timeRangeFilter"],j7(t,i)),n}function F7(t,e){const n={},i=p(e,["timeRangeFilter"]);return i!=null&&g(n,["timeRangeFilter"],z7(t,i)),n}function B7(t,e){const n={},i=p(e,["mode"]);i!=null&&g(n,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&g(n,["dynamicThreshold"],r),n}function $7(t,e){const n={},i=p(e,["mode"]);i!=null&&g(n,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&g(n,["dynamicThreshold"],r),n}function H7(t,e){const n={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&g(n,["dynamicRetrievalConfig"],B7(t,i)),n}function G7(t,e){const n={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&g(n,["dynamicRetrievalConfig"],$7(t,i)),n}function q7(){return{}}function W7(t,e){const n={},i=p(e,["apiKeyString"]);return i!=null&&g(n,["apiKeyString"],i),n}function Y7(t,e){const n={},i=p(e,["apiKeyConfig"]);i!=null&&g(n,["apiKeyConfig"],W7(t,i));const r=p(e,["authType"]);r!=null&&g(n,["authType"],r);const o=p(e,["googleServiceAccountConfig"]);o!=null&&g(n,["googleServiceAccountConfig"],o);const s=p(e,["httpBasicAuthConfig"]);s!=null&&g(n,["httpBasicAuthConfig"],s);const u=p(e,["oauthConfig"]);u!=null&&g(n,["oauthConfig"],u);const d=p(e,["oidcConfig"]);return d!=null&&g(n,["oidcConfig"],d),n}function Z7(t,e){const n={},i=p(e,["authConfig"]);return i!=null&&g(n,["authConfig"],Y7(t,i)),n}function K7(){return{}}function X7(){return{}}function J7(t,e){const n={},i=p(e,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>P7(t,f))),g(n,["functionDeclarations"],d)}if(p(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(e,["googleSearch"]);r!=null&&g(n,["googleSearch"],V7(t,r));const o=p(e,["googleSearchRetrieval"]);if(o!=null&&g(n,["googleSearchRetrieval"],H7(t,o)),p(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(e,["urlContext"])!=null&&g(n,["urlContext"],K7());const u=p(e,["codeExecution"]);return u!=null&&g(n,["codeExecution"],u),n}function Q7(t,e){const n={},i=p(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>U7(t,T))),g(n,["functionDeclarations"],v)}const r=p(e,["retrieval"]);r!=null&&g(n,["retrieval"],r);const o=p(e,["googleSearch"]);o!=null&&g(n,["googleSearch"],F7(t,o));const s=p(e,["googleSearchRetrieval"]);s!=null&&g(n,["googleSearchRetrieval"],G7(t,s)),p(e,["enterpriseWebSearch"])!=null&&g(n,["enterpriseWebSearch"],q7());const d=p(e,["googleMaps"]);d!=null&&g(n,["googleMaps"],Z7(t,d)),p(e,["urlContext"])!=null&&g(n,["urlContext"],X7());const h=p(e,["codeExecution"]);return h!=null&&g(n,["codeExecution"],h),n}function eU(t,e){const n={},i=p(e,["handle"]);if(i!=null&&g(n,["handle"],i),p(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function tU(t,e){const n={},i=p(e,["handle"]);i!=null&&g(n,["handle"],i);const r=p(e,["transparent"]);return r!=null&&g(n,["transparent"],r),n}function KT(){return{}}function XT(){return{}}function nU(t,e){const n={},i=p(e,["disabled"]);i!=null&&g(n,["disabled"],i);const r=p(e,["startOfSpeechSensitivity"]);r!=null&&g(n,["startOfSpeechSensitivity"],r);const o=p(e,["endOfSpeechSensitivity"]);o!=null&&g(n,["endOfSpeechSensitivity"],o);const s=p(e,["prefixPaddingMs"]);s!=null&&g(n,["prefixPaddingMs"],s);const u=p(e,["silenceDurationMs"]);return u!=null&&g(n,["silenceDurationMs"],u),n}function iU(t,e){const n={},i=p(e,["disabled"]);i!=null&&g(n,["disabled"],i);const r=p(e,["startOfSpeechSensitivity"]);r!=null&&g(n,["startOfSpeechSensitivity"],r);const o=p(e,["endOfSpeechSensitivity"]);o!=null&&g(n,["endOfSpeechSensitivity"],o);const s=p(e,["prefixPaddingMs"]);s!=null&&g(n,["prefixPaddingMs"],s);const u=p(e,["silenceDurationMs"]);return u!=null&&g(n,["silenceDurationMs"],u),n}function rU(t,e){const n={},i=p(e,["automaticActivityDetection"]);i!=null&&g(n,["automaticActivityDetection"],nU(t,i));const r=p(e,["activityHandling"]);r!=null&&g(n,["activityHandling"],r);const o=p(e,["turnCoverage"]);return o!=null&&g(n,["turnCoverage"],o),n}function aU(t,e){const n={},i=p(e,["automaticActivityDetection"]);i!=null&&g(n,["automaticActivityDetection"],iU(t,i));const r=p(e,["activityHandling"]);r!=null&&g(n,["activityHandling"],r);const o=p(e,["turnCoverage"]);return o!=null&&g(n,["turnCoverage"],o),n}function oU(t,e){const n={},i=p(e,["targetTokens"]);return i!=null&&g(n,["targetTokens"],i),n}function lU(t,e){const n={},i=p(e,["targetTokens"]);return i!=null&&g(n,["targetTokens"],i),n}function sU(t,e){const n={},i=p(e,["triggerTokens"]);i!=null&&g(n,["triggerTokens"],i);const r=p(e,["slidingWindow"]);return r!=null&&g(n,["slidingWindow"],oU(t,r)),n}function uU(t,e){const n={},i=p(e,["triggerTokens"]);i!=null&&g(n,["triggerTokens"],i);const r=p(e,["slidingWindow"]);return r!=null&&g(n,["slidingWindow"],lU(t,r)),n}function cU(t,e){const n={},i=p(e,["proactiveAudio"]);return i!=null&&g(n,["proactiveAudio"],i),n}function dU(t,e){const n={},i=p(e,["proactiveAudio"]);return i!=null&&g(n,["proactiveAudio"],i),n}function fU(t,e,n){const i={},r=p(e,["generationConfig"]);n!==void 0&&r!=null&&g(n,["setup","generationConfig"],r);const o=p(e,["responseModalities"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig","responseModalities"],o);const s=p(e,["temperature"]);n!==void 0&&s!=null&&g(n,["setup","generationConfig","temperature"],s);const u=p(e,["topP"]);n!==void 0&&u!=null&&g(n,["setup","generationConfig","topP"],u);const d=p(e,["topK"]);n!==void 0&&d!=null&&g(n,["setup","generationConfig","topK"],d);const f=p(e,["maxOutputTokens"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","maxOutputTokens"],f);const h=p(e,["mediaResolution"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","mediaResolution"],h);const v=p(e,["seed"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","seed"],v);const T=p(e,["speechConfig"]);n!==void 0&&T!=null&&g(n,["setup","generationConfig","speechConfig"],E7(t,iy(t,T)));const C=p(e,["enableAffectiveDialog"]);n!==void 0&&C!=null&&g(n,["setup","generationConfig","enableAffectiveDialog"],C);const S=p(e,["systemInstruction"]);n!==void 0&&S!=null&&g(n,["setup","systemInstruction"],L7(t,En(t,S)));const E=p(e,["tools"]);if(n!==void 0&&E!=null){let R=gu(t,E);Array.isArray(R)&&(R=R.map(B=>J7(t,hu(t,B)))),g(n,["setup","tools"],R)}const _=p(e,["sessionResumption"]);n!==void 0&&_!=null&&g(n,["setup","sessionResumption"],eU(t,_));const I=p(e,["inputAudioTranscription"]);n!==void 0&&I!=null&&g(n,["setup","inputAudioTranscription"],KT());const D=p(e,["outputAudioTranscription"]);n!==void 0&&D!=null&&g(n,["setup","outputAudioTranscription"],KT());const M=p(e,["realtimeInputConfig"]);n!==void 0&&M!=null&&g(n,["setup","realtimeInputConfig"],rU(t,M));const P=p(e,["contextWindowCompression"]);n!==void 0&&P!=null&&g(n,["setup","contextWindowCompression"],sU(t,P));const L=p(e,["proactivity"]);return n!==void 0&&L!=null&&g(n,["setup","proactivity"],cU(t,L)),i}function mU(t,e,n){const i={},r=p(e,["generationConfig"]);n!==void 0&&r!=null&&g(n,["setup","generationConfig"],r);const o=p(e,["responseModalities"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig","responseModalities"],o);const s=p(e,["temperature"]);n!==void 0&&s!=null&&g(n,["setup","generationConfig","temperature"],s);const u=p(e,["topP"]);n!==void 0&&u!=null&&g(n,["setup","generationConfig","topP"],u);const d=p(e,["topK"]);n!==void 0&&d!=null&&g(n,["setup","generationConfig","topK"],d);const f=p(e,["maxOutputTokens"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","maxOutputTokens"],f);const h=p(e,["mediaResolution"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","mediaResolution"],h);const v=p(e,["seed"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","seed"],v);const T=p(e,["speechConfig"]);n!==void 0&&T!=null&&g(n,["setup","generationConfig","speechConfig"],w7(t,iy(t,T)));const C=p(e,["enableAffectiveDialog"]);n!==void 0&&C!=null&&g(n,["setup","generationConfig","enableAffectiveDialog"],C);const S=p(e,["systemInstruction"]);n!==void 0&&S!=null&&g(n,["setup","systemInstruction"],O7(t,En(t,S)));const E=p(e,["tools"]);if(n!==void 0&&E!=null){let R=gu(t,E);Array.isArray(R)&&(R=R.map(B=>Q7(t,hu(t,B)))),g(n,["setup","tools"],R)}const _=p(e,["sessionResumption"]);n!==void 0&&_!=null&&g(n,["setup","sessionResumption"],tU(t,_));const I=p(e,["inputAudioTranscription"]);n!==void 0&&I!=null&&g(n,["setup","inputAudioTranscription"],XT());const D=p(e,["outputAudioTranscription"]);n!==void 0&&D!=null&&g(n,["setup","outputAudioTranscription"],XT());const M=p(e,["realtimeInputConfig"]);n!==void 0&&M!=null&&g(n,["setup","realtimeInputConfig"],aU(t,M));const P=p(e,["contextWindowCompression"]);n!==void 0&&P!=null&&g(n,["setup","contextWindowCompression"],uU(t,P));const L=p(e,["proactivity"]);return n!==void 0&&L!=null&&g(n,["setup","proactivity"],dU(t,L)),i}function pU(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],bt(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],fU(t,r,n)),n}function hU(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],bt(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],mU(t,r,n)),n}function gU(){return{}}function yU(){return{}}function vU(){return{}}function xU(){return{}}function bU(t,e){const n={},i=p(e,["media"]);i!=null&&g(n,["mediaChunks"],aw(t,i));const r=p(e,["audio"]);r!=null&&g(n,["audio"],BP(t,r));const o=p(e,["audioStreamEnd"]);o!=null&&g(n,["audioStreamEnd"],o);const s=p(e,["video"]);s!=null&&g(n,["video"],FP(t,s));const u=p(e,["text"]);return u!=null&&g(n,["text"],u),p(e,["activityStart"])!=null&&g(n,["activityStart"],gU()),p(e,["activityEnd"])!=null&&g(n,["activityEnd"],vU()),n}function TU(t,e){const n={},i=p(e,["media"]);if(i!=null&&g(n,["mediaChunks"],aw(t,i)),p(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=p(e,["audioStreamEnd"]);if(r!=null&&g(n,["audioStreamEnd"],r),p(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(p(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return p(e,["activityStart"])!=null&&g(n,["activityStart"],yU()),p(e,["activityEnd"])!=null&&g(n,["activityEnd"],xU()),n}function hw(t,e){const n={},i=p(e,["text"]);i!=null&&g(n,["text"],i);const r=p(e,["weight"]);return r!=null&&g(n,["weight"],r),n}function CU(t,e){const n={},i=p(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>hw(t,o))),g(n,["weightedPrompts"],r)}return n}function gw(t,e){const n={},i=p(e,["temperature"]);i!=null&&g(n,["temperature"],i);const r=p(e,["topK"]);r!=null&&g(n,["topK"],r);const o=p(e,["seed"]);o!=null&&g(n,["seed"],o);const s=p(e,["guidance"]);s!=null&&g(n,["guidance"],s);const u=p(e,["bpm"]);u!=null&&g(n,["bpm"],u);const d=p(e,["density"]);d!=null&&g(n,["density"],d);const f=p(e,["brightness"]);f!=null&&g(n,["brightness"],f);const h=p(e,["scale"]);h!=null&&g(n,["scale"],h);const v=p(e,["muteBass"]);v!=null&&g(n,["muteBass"],v);const T=p(e,["muteDrums"]);T!=null&&g(n,["muteDrums"],T);const C=p(e,["onlyBassAndDrums"]);return C!=null&&g(n,["onlyBassAndDrums"],C),n}function SU(t,e){const n={},i=p(e,["musicGenerationConfig"]);return i!=null&&g(n,["musicGenerationConfig"],gw(t,i)),n}function yw(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["model"],i),n}function vw(t,e){const n={},i=p(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>hw(t,o))),g(n,["weightedPrompts"],r)}return n}function ng(t,e){const n={},i=p(e,["setup"]);i!=null&&g(n,["setup"],yw(t,i));const r=p(e,["clientContent"]);r!=null&&g(n,["clientContent"],vw(t,r));const o=p(e,["musicGenerationConfig"]);o!=null&&g(n,["musicGenerationConfig"],gw(t,o));const s=p(e,["playbackControl"]);return s!=null&&g(n,["playbackControl"],s),n}function EU(){return{}}function wU(){return{}}function AU(t,e){const n={},i=p(e,["fps"]);i!=null&&g(n,["fps"],i);const r=p(e,["endOffset"]);r!=null&&g(n,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&g(n,["startOffset"],o),n}function _U(t,e){const n={},i=p(e,["fps"]);i!=null&&g(n,["fps"],i);const r=p(e,["endOffset"]);r!=null&&g(n,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&g(n,["startOffset"],o),n}function NU(t,e){const n={},i=p(e,["data"]);i!=null&&g(n,["data"],i);const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function IU(t,e){const n={},i=p(e,["displayName"]);i!=null&&g(n,["displayName"],i);const r=p(e,["data"]);r!=null&&g(n,["data"],r);const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function DU(t,e){const n={},i=p(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function kU(t,e){const n={},i=p(e,["displayName"]);i!=null&&g(n,["displayName"],i);const r=p(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function MU(t,e){const n={},i=p(e,["videoMetadata"]);i!=null&&g(n,["videoMetadata"],AU(t,i));const r=p(e,["thought"]);r!=null&&g(n,["thought"],r);const o=p(e,["inlineData"]);o!=null&&g(n,["inlineData"],NU(t,o));const s=p(e,["fileData"]);s!=null&&g(n,["fileData"],DU(t,s));const u=p(e,["thoughtSignature"]);u!=null&&g(n,["thoughtSignature"],u);const d=p(e,["codeExecutionResult"]);d!=null&&g(n,["codeExecutionResult"],d);const f=p(e,["executableCode"]);f!=null&&g(n,["executableCode"],f);const h=p(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const v=p(e,["functionResponse"]);v!=null&&g(n,["functionResponse"],v);const T=p(e,["text"]);return T!=null&&g(n,["text"],T),n}function RU(t,e){const n={},i=p(e,["videoMetadata"]);i!=null&&g(n,["videoMetadata"],_U(t,i));const r=p(e,["thought"]);r!=null&&g(n,["thought"],r);const o=p(e,["inlineData"]);o!=null&&g(n,["inlineData"],IU(t,o));const s=p(e,["fileData"]);s!=null&&g(n,["fileData"],kU(t,s));const u=p(e,["thoughtSignature"]);u!=null&&g(n,["thoughtSignature"],u);const d=p(e,["codeExecutionResult"]);d!=null&&g(n,["codeExecutionResult"],d);const f=p(e,["executableCode"]);f!=null&&g(n,["executableCode"],f);const h=p(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const v=p(e,["functionResponse"]);v!=null&&g(n,["functionResponse"],v);const T=p(e,["text"]);return T!=null&&g(n,["text"],T),n}function LU(t,e){const n={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>MU(t,s))),g(n,["parts"],o)}const r=p(e,["role"]);return r!=null&&g(n,["role"],r),n}function OU(t,e){const n={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>RU(t,s))),g(n,["parts"],o)}const r=p(e,["role"]);return r!=null&&g(n,["role"],r),n}function JT(t,e){const n={},i=p(e,["text"]);i!=null&&g(n,["text"],i);const r=p(e,["finished"]);return r!=null&&g(n,["finished"],r),n}function QT(t,e){const n={},i=p(e,["text"]);i!=null&&g(n,["text"],i);const r=p(e,["finished"]);return r!=null&&g(n,["finished"],r),n}function PU(t,e){const n={},i=p(e,["retrievedUrl"]);i!=null&&g(n,["retrievedUrl"],i);const r=p(e,["urlRetrievalStatus"]);return r!=null&&g(n,["urlRetrievalStatus"],r),n}function UU(t,e){const n={},i=p(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>PU(t,o))),g(n,["urlMetadata"],r)}return n}function jU(t,e){const n={},i=p(e,["modelTurn"]);i!=null&&g(n,["modelTurn"],LU(t,i));const r=p(e,["turnComplete"]);r!=null&&g(n,["turnComplete"],r);const o=p(e,["interrupted"]);o!=null&&g(n,["interrupted"],o);const s=p(e,["groundingMetadata"]);s!=null&&g(n,["groundingMetadata"],s);const u=p(e,["generationComplete"]);u!=null&&g(n,["generationComplete"],u);const d=p(e,["inputTranscription"]);d!=null&&g(n,["inputTranscription"],JT(t,d));const f=p(e,["outputTranscription"]);f!=null&&g(n,["outputTranscription"],JT(t,f));const h=p(e,["urlContextMetadata"]);return h!=null&&g(n,["urlContextMetadata"],UU(t,h)),n}function zU(t,e){const n={},i=p(e,["modelTurn"]);i!=null&&g(n,["modelTurn"],OU(t,i));const r=p(e,["turnComplete"]);r!=null&&g(n,["turnComplete"],r);const o=p(e,["interrupted"]);o!=null&&g(n,["interrupted"],o);const s=p(e,["groundingMetadata"]);s!=null&&g(n,["groundingMetadata"],s);const u=p(e,["generationComplete"]);u!=null&&g(n,["generationComplete"],u);const d=p(e,["inputTranscription"]);d!=null&&g(n,["inputTranscription"],QT(t,d));const f=p(e,["outputTranscription"]);return f!=null&&g(n,["outputTranscription"],QT(t,f)),n}function VU(t,e){const n={},i=p(e,["id"]);i!=null&&g(n,["id"],i);const r=p(e,["args"]);r!=null&&g(n,["args"],r);const o=p(e,["name"]);return o!=null&&g(n,["name"],o),n}function FU(t,e){const n={},i=p(e,["args"]);i!=null&&g(n,["args"],i);const r=p(e,["name"]);return r!=null&&g(n,["name"],r),n}function BU(t,e){const n={},i=p(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>VU(t,o))),g(n,["functionCalls"],r)}return n}function $U(t,e){const n={},i=p(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>FU(t,o))),g(n,["functionCalls"],r)}return n}function HU(t,e){const n={},i=p(e,["ids"]);return i!=null&&g(n,["ids"],i),n}function GU(t,e){const n={},i=p(e,["ids"]);return i!=null&&g(n,["ids"],i),n}function Vc(t,e){const n={},i=p(e,["modality"]);i!=null&&g(n,["modality"],i);const r=p(e,["tokenCount"]);return r!=null&&g(n,["tokenCount"],r),n}function Fc(t,e){const n={},i=p(e,["modality"]);i!=null&&g(n,["modality"],i);const r=p(e,["tokenCount"]);return r!=null&&g(n,["tokenCount"],r),n}function qU(t,e){const n={},i=p(e,["promptTokenCount"]);i!=null&&g(n,["promptTokenCount"],i);const r=p(e,["cachedContentTokenCount"]);r!=null&&g(n,["cachedContentTokenCount"],r);const o=p(e,["responseTokenCount"]);o!=null&&g(n,["responseTokenCount"],o);const s=p(e,["toolUsePromptTokenCount"]);s!=null&&g(n,["toolUsePromptTokenCount"],s);const u=p(e,["thoughtsTokenCount"]);u!=null&&g(n,["thoughtsTokenCount"],u);const d=p(e,["totalTokenCount"]);d!=null&&g(n,["totalTokenCount"],d);const f=p(e,["promptTokensDetails"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(S=>Vc(t,S))),g(n,["promptTokensDetails"],C)}const h=p(e,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(S=>Vc(t,S))),g(n,["cacheTokensDetails"],C)}const v=p(e,["responseTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(S=>Vc(t,S))),g(n,["responseTokensDetails"],C)}const T=p(e,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(S=>Vc(t,S))),g(n,["toolUsePromptTokensDetails"],C)}return n}function WU(t,e){const n={},i=p(e,["promptTokenCount"]);i!=null&&g(n,["promptTokenCount"],i);const r=p(e,["cachedContentTokenCount"]);r!=null&&g(n,["cachedContentTokenCount"],r);const o=p(e,["candidatesTokenCount"]);o!=null&&g(n,["responseTokenCount"],o);const s=p(e,["toolUsePromptTokenCount"]);s!=null&&g(n,["toolUsePromptTokenCount"],s);const u=p(e,["thoughtsTokenCount"]);u!=null&&g(n,["thoughtsTokenCount"],u);const d=p(e,["totalTokenCount"]);d!=null&&g(n,["totalTokenCount"],d);const f=p(e,["promptTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(E=>Fc(t,E))),g(n,["promptTokensDetails"],S)}const h=p(e,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(E=>Fc(t,E))),g(n,["cacheTokensDetails"],S)}const v=p(e,["candidatesTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>Fc(t,E))),g(n,["responseTokensDetails"],S)}const T=p(e,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(E=>Fc(t,E))),g(n,["toolUsePromptTokensDetails"],S)}const C=p(e,["trafficType"]);return C!=null&&g(n,["trafficType"],C),n}function YU(t,e){const n={},i=p(e,["timeLeft"]);return i!=null&&g(n,["timeLeft"],i),n}function ZU(t,e){const n={},i=p(e,["timeLeft"]);return i!=null&&g(n,["timeLeft"],i),n}function KU(t,e){const n={},i=p(e,["newHandle"]);i!=null&&g(n,["newHandle"],i);const r=p(e,["resumable"]);r!=null&&g(n,["resumable"],r);const o=p(e,["lastConsumedClientMessageIndex"]);return o!=null&&g(n,["lastConsumedClientMessageIndex"],o),n}function XU(t,e){const n={},i=p(e,["newHandle"]);i!=null&&g(n,["newHandle"],i);const r=p(e,["resumable"]);r!=null&&g(n,["resumable"],r);const o=p(e,["lastConsumedClientMessageIndex"]);return o!=null&&g(n,["lastConsumedClientMessageIndex"],o),n}function JU(t,e){const n={};p(e,["setupComplete"])!=null&&g(n,["setupComplete"],EU());const r=p(e,["serverContent"]);r!=null&&g(n,["serverContent"],jU(t,r));const o=p(e,["toolCall"]);o!=null&&g(n,["toolCall"],BU(t,o));const s=p(e,["toolCallCancellation"]);s!=null&&g(n,["toolCallCancellation"],HU(t,s));const u=p(e,["usageMetadata"]);u!=null&&g(n,["usageMetadata"],qU(t,u));const d=p(e,["goAway"]);d!=null&&g(n,["goAway"],YU(t,d));const f=p(e,["sessionResumptionUpdate"]);return f!=null&&g(n,["sessionResumptionUpdate"],KU(t,f)),n}function QU(t,e){const n={};p(e,["setupComplete"])!=null&&g(n,["setupComplete"],wU());const r=p(e,["serverContent"]);r!=null&&g(n,["serverContent"],zU(t,r));const o=p(e,["toolCall"]);o!=null&&g(n,["toolCall"],$U(t,o));const s=p(e,["toolCallCancellation"]);s!=null&&g(n,["toolCallCancellation"],GU(t,s));const u=p(e,["usageMetadata"]);u!=null&&g(n,["usageMetadata"],WU(t,u));const d=p(e,["goAway"]);d!=null&&g(n,["goAway"],ZU(t,d));const f=p(e,["sessionResumptionUpdate"]);return f!=null&&g(n,["sessionResumptionUpdate"],XU(t,f)),n}function ej(){return{}}function tj(t,e){const n={},i=p(e,["text"]);i!=null&&g(n,["text"],i);const r=p(e,["weight"]);return r!=null&&g(n,["weight"],r),n}function nj(t,e){const n={},i=p(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>tj(t,o))),g(n,["weightedPrompts"],r)}return n}function ij(t,e){const n={},i=p(e,["temperature"]);i!=null&&g(n,["temperature"],i);const r=p(e,["topK"]);r!=null&&g(n,["topK"],r);const o=p(e,["seed"]);o!=null&&g(n,["seed"],o);const s=p(e,["guidance"]);s!=null&&g(n,["guidance"],s);const u=p(e,["bpm"]);u!=null&&g(n,["bpm"],u);const d=p(e,["density"]);d!=null&&g(n,["density"],d);const f=p(e,["brightness"]);f!=null&&g(n,["brightness"],f);const h=p(e,["scale"]);h!=null&&g(n,["scale"],h);const v=p(e,["muteBass"]);v!=null&&g(n,["muteBass"],v);const T=p(e,["muteDrums"]);T!=null&&g(n,["muteDrums"],T);const C=p(e,["onlyBassAndDrums"]);return C!=null&&g(n,["onlyBassAndDrums"],C),n}function rj(t,e){const n={},i=p(e,["clientContent"]);i!=null&&g(n,["clientContent"],nj(t,i));const r=p(e,["musicGenerationConfig"]);return r!=null&&g(n,["musicGenerationConfig"],ij(t,r)),n}function aj(t,e){const n={},i=p(e,["data"]);i!=null&&g(n,["data"],i);const r=p(e,["mimeType"]);r!=null&&g(n,["mimeType"],r);const o=p(e,["sourceMetadata"]);return o!=null&&g(n,["sourceMetadata"],rj(t,o)),n}function oj(t,e){const n={},i=p(e,["audioChunks"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>aj(t,o))),g(n,["audioChunks"],r)}return n}function lj(t,e){const n={},i=p(e,["text"]);i!=null&&g(n,["text"],i);const r=p(e,["filteredReason"]);return r!=null&&g(n,["filteredReason"],r),n}function sj(t,e){const n={};p(e,["setupComplete"])!=null&&g(n,["setupComplete"],ej());const r=p(e,["serverContent"]);r!=null&&g(n,["serverContent"],oj(t,r));const o=p(e,["filteredPrompt"]);return o!=null&&g(n,["filteredPrompt"],lj(t,o)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uj(t,e){const n={},i=p(e,["fps"]);i!=null&&g(n,["fps"],i);const r=p(e,["endOffset"]);r!=null&&g(n,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&g(n,["startOffset"],o),n}function cj(t,e){const n={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["data"]);i!=null&&g(n,["data"],i);const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function dj(t,e){const n={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function fj(t,e){const n={},i=p(e,["videoMetadata"]);i!=null&&g(n,["videoMetadata"],uj(t,i));const r=p(e,["thought"]);r!=null&&g(n,["thought"],r);const o=p(e,["inlineData"]);o!=null&&g(n,["inlineData"],cj(t,o));const s=p(e,["fileData"]);s!=null&&g(n,["fileData"],dj(t,s));const u=p(e,["thoughtSignature"]);u!=null&&g(n,["thoughtSignature"],u);const d=p(e,["codeExecutionResult"]);d!=null&&g(n,["codeExecutionResult"],d);const f=p(e,["executableCode"]);f!=null&&g(n,["executableCode"],f);const h=p(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const v=p(e,["functionResponse"]);v!=null&&g(n,["functionResponse"],v);const T=p(e,["text"]);return T!=null&&g(n,["text"],T),n}function of(t,e){const n={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>fj(t,s))),g(n,["parts"],o)}const r=p(e,["role"]);return r!=null&&g(n,["role"],r),n}function mj(t,e){const n={},i=p(e,["anyOf"]);i!=null&&g(n,["anyOf"],i);const r=p(e,["default"]);r!=null&&g(n,["default"],r);const o=p(e,["description"]);o!=null&&g(n,["description"],o);const s=p(e,["enum"]);s!=null&&g(n,["enum"],s);const u=p(e,["example"]);u!=null&&g(n,["example"],u);const d=p(e,["format"]);d!=null&&g(n,["format"],d);const f=p(e,["items"]);f!=null&&g(n,["items"],f);const h=p(e,["maxItems"]);h!=null&&g(n,["maxItems"],h);const v=p(e,["maxLength"]);v!=null&&g(n,["maxLength"],v);const T=p(e,["maxProperties"]);T!=null&&g(n,["maxProperties"],T);const C=p(e,["maximum"]);C!=null&&g(n,["maximum"],C);const S=p(e,["minItems"]);S!=null&&g(n,["minItems"],S);const E=p(e,["minLength"]);E!=null&&g(n,["minLength"],E);const _=p(e,["minProperties"]);_!=null&&g(n,["minProperties"],_);const I=p(e,["minimum"]);I!=null&&g(n,["minimum"],I);const D=p(e,["nullable"]);D!=null&&g(n,["nullable"],D);const M=p(e,["pattern"]);M!=null&&g(n,["pattern"],M);const P=p(e,["properties"]);P!=null&&g(n,["properties"],P);const L=p(e,["propertyOrdering"]);L!=null&&g(n,["propertyOrdering"],L);const R=p(e,["required"]);R!=null&&g(n,["required"],R);const B=p(e,["title"]);B!=null&&g(n,["title"],B);const q=p(e,["type"]);return q!=null&&g(n,["type"],q),n}function pj(t,e){const n={};if(p(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(e,["category"]);i!=null&&g(n,["category"],i);const r=p(e,["threshold"]);return r!=null&&g(n,["threshold"],r),n}function hj(t,e){const n={},i=p(e,["behavior"]);i!=null&&g(n,["behavior"],i);const r=p(e,["description"]);r!=null&&g(n,["description"],r);const o=p(e,["name"]);o!=null&&g(n,["name"],o);const s=p(e,["parameters"]);s!=null&&g(n,["parameters"],s);const u=p(e,["response"]);return u!=null&&g(n,["response"],u),n}function gj(t,e){const n={},i=p(e,["startTime"]);i!=null&&g(n,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&g(n,["endTime"],r),n}function yj(t,e){const n={},i=p(e,["timeRangeFilter"]);return i!=null&&g(n,["timeRangeFilter"],gj(t,i)),n}function vj(t,e){const n={},i=p(e,["mode"]);i!=null&&g(n,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&g(n,["dynamicThreshold"],r),n}function xj(t,e){const n={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&g(n,["dynamicRetrievalConfig"],vj(t,i)),n}function bj(){return{}}function Tj(t,e){const n={},i=p(e,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>hj(t,f))),g(n,["functionDeclarations"],d)}if(p(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(e,["googleSearch"]);r!=null&&g(n,["googleSearch"],yj(t,r));const o=p(e,["googleSearchRetrieval"]);if(o!=null&&g(n,["googleSearchRetrieval"],xj(t,o)),p(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(e,["urlContext"])!=null&&g(n,["urlContext"],bj());const u=p(e,["codeExecution"]);return u!=null&&g(n,["codeExecution"],u),n}function Cj(t,e){const n={},i=p(e,["mode"]);i!=null&&g(n,["mode"],i);const r=p(e,["allowedFunctionNames"]);return r!=null&&g(n,["allowedFunctionNames"],r),n}function Sj(t,e){const n={},i=p(e,["latitude"]);i!=null&&g(n,["latitude"],i);const r=p(e,["longitude"]);return r!=null&&g(n,["longitude"],r),n}function Ej(t,e){const n={},i=p(e,["latLng"]);i!=null&&g(n,["latLng"],Sj(t,i));const r=p(e,["languageCode"]);return r!=null&&g(n,["languageCode"],r),n}function wj(t,e){const n={},i=p(e,["functionCallingConfig"]);i!=null&&g(n,["functionCallingConfig"],Cj(t,i));const r=p(e,["retrievalConfig"]);return r!=null&&g(n,["retrievalConfig"],Ej(t,r)),n}function Aj(t,e){const n={},i=p(e,["voiceName"]);return i!=null&&g(n,["voiceName"],i),n}function xw(t,e){const n={},i=p(e,["prebuiltVoiceConfig"]);return i!=null&&g(n,["prebuiltVoiceConfig"],Aj(t,i)),n}function _j(t,e){const n={},i=p(e,["speaker"]);i!=null&&g(n,["speaker"],i);const r=p(e,["voiceConfig"]);return r!=null&&g(n,["voiceConfig"],xw(t,r)),n}function Nj(t,e){const n={},i=p(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>_j(t,o))),g(n,["speakerVoiceConfigs"],r)}return n}function Ij(t,e){const n={},i=p(e,["voiceConfig"]);i!=null&&g(n,["voiceConfig"],xw(t,i));const r=p(e,["multiSpeakerVoiceConfig"]);r!=null&&g(n,["multiSpeakerVoiceConfig"],Nj(t,r));const o=p(e,["languageCode"]);return o!=null&&g(n,["languageCode"],o),n}function Dj(t,e){const n={},i=p(e,["includeThoughts"]);i!=null&&g(n,["includeThoughts"],i);const r=p(e,["thinkingBudget"]);return r!=null&&g(n,["thinkingBudget"],r),n}function kj(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],of(t,En(t,r)));const o=p(e,["temperature"]);o!=null&&g(i,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(i,["topP"],s);const u=p(e,["topK"]);u!=null&&g(i,["topK"],u);const d=p(e,["candidateCount"]);d!=null&&g(i,["candidateCount"],d);const f=p(e,["maxOutputTokens"]);f!=null&&g(i,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&g(i,["stopSequences"],h);const v=p(e,["responseLogprobs"]);v!=null&&g(i,["responseLogprobs"],v);const T=p(e,["logprobs"]);T!=null&&g(i,["logprobs"],T);const C=p(e,["presencePenalty"]);C!=null&&g(i,["presencePenalty"],C);const S=p(e,["frequencyPenalty"]);S!=null&&g(i,["frequencyPenalty"],S);const E=p(e,["seed"]);E!=null&&g(i,["seed"],E);const _=p(e,["responseMimeType"]);_!=null&&g(i,["responseMimeType"],_);const I=p(e,["responseSchema"]);if(I!=null&&g(i,["responseSchema"],mj(t,Rd(t,I))),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=p(e,["safetySettings"]);if(n!==void 0&&D!=null){let j=D;Array.isArray(j)&&(j=j.map(Z=>pj(t,Z))),g(n,["safetySettings"],j)}const M=p(e,["tools"]);if(n!==void 0&&M!=null){let j=gu(t,M);Array.isArray(j)&&(j=j.map(Z=>Tj(t,hu(t,Z)))),g(n,["tools"],j)}const P=p(e,["toolConfig"]);if(n!==void 0&&P!=null&&g(n,["toolConfig"],wj(t,P)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=p(e,["cachedContent"]);n!==void 0&&L!=null&&g(n,["cachedContent"],xa(t,L));const R=p(e,["responseModalities"]);R!=null&&g(i,["responseModalities"],R);const B=p(e,["mediaResolution"]);B!=null&&g(i,["mediaResolution"],B);const q=p(e,["speechConfig"]);if(q!=null&&g(i,["speechConfig"],Ij(t,sw(t,q))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=p(e,["thinkingConfig"]);return $!=null&&g(i,["thinkingConfig"],Dj(t,$)),i}function eC(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["contents"]);if(r!=null){let s=Ai(t,r);Array.isArray(s)&&(s=s.map(u=>of(t,u))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],kj(t,o,n)),n}function Mj(t,e,n){const i={},r=p(e,["taskType"]);n!==void 0&&r!=null&&g(n,["requests[]","taskType"],r);const o=p(e,["title"]);n!==void 0&&o!=null&&g(n,["requests[]","title"],o);const s=p(e,["outputDimensionality"]);if(n!==void 0&&s!=null&&g(n,["requests[]","outputDimensionality"],s),p(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Rj(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["contents"]);r!=null&&g(n,["requests[]","content"],lw(t,r));const o=p(e,["config"]);o!=null&&g(n,["config"],Mj(t,o,n));const s=p(e,["model"]);return s!==void 0&&g(n,["requests[]","model"],bt(t,s)),n}function Lj(t,e,n){const i={};if(p(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(e,["numberOfImages"]);n!==void 0&&r!=null&&g(n,["parameters","sampleCount"],r);const o=p(e,["aspectRatio"]);n!==void 0&&o!=null&&g(n,["parameters","aspectRatio"],o);const s=p(e,["guidanceScale"]);if(n!==void 0&&s!=null&&g(n,["parameters","guidanceScale"],s),p(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=p(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&g(n,["parameters","safetySetting"],u);const d=p(e,["personGeneration"]);n!==void 0&&d!=null&&g(n,["parameters","personGeneration"],d);const f=p(e,["includeSafetyAttributes"]);n!==void 0&&f!=null&&g(n,["parameters","includeSafetyAttributes"],f);const h=p(e,["includeRaiReason"]);n!==void 0&&h!=null&&g(n,["parameters","includeRaiReason"],h);const v=p(e,["language"]);n!==void 0&&v!=null&&g(n,["parameters","language"],v);const T=p(e,["outputMimeType"]);n!==void 0&&T!=null&&g(n,["parameters","outputOptions","mimeType"],T);const C=p(e,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&g(n,["parameters","outputOptions","compressionQuality"],C),p(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function Oj(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const o=p(e,["config"]);return o!=null&&g(n,["config"],Lj(t,o,n)),n}function Pj(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","name"],bt(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function Uj(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&g(n,["_url","models_url"],dw(t,u)),i}function jj(t,e){const n={},i=p(e,["config"]);return i!=null&&g(n,["config"],Uj(t,i,n)),n}function zj(t,e,n){const i={},r=p(e,["displayName"]);n!==void 0&&r!=null&&g(n,["displayName"],r);const o=p(e,["description"]);n!==void 0&&o!=null&&g(n,["description"],o);const s=p(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&g(n,["defaultCheckpointId"],s),i}function Vj(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","name"],bt(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],zj(t,r,n)),n}function Fj(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","name"],bt(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function Bj(t,e){const n={};if(p(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function $j(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["contents"]);if(r!=null){let s=Ai(t,r);Array.isArray(s)&&(s=s.map(u=>of(t,u))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["config"],Bj(t,o)),n}function Hj(t,e){const n={};if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=p(e,["imageBytes"]);i!=null&&g(n,["bytesBase64Encoded"],Ir(t,i));const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function Gj(t,e,n){const i={},r=p(e,["numberOfVideos"]);if(n!==void 0&&r!=null&&g(n,["parameters","sampleCount"],r),p(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=p(e,["durationSeconds"]);if(n!==void 0&&o!=null&&g(n,["parameters","durationSeconds"],o),p(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(e,["aspectRatio"]);if(n!==void 0&&s!=null&&g(n,["parameters","aspectRatio"],s),p(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=p(e,["personGeneration"]);if(n!==void 0&&u!=null&&g(n,["parameters","personGeneration"],u),p(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=p(e,["negativePrompt"]);n!==void 0&&d!=null&&g(n,["parameters","negativePrompt"],d);const f=p(e,["enhancePrompt"]);if(n!==void 0&&f!=null&&g(n,["parameters","enhancePrompt"],f),p(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(p(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return i}function qj(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const o=p(e,["image"]);if(o!=null&&g(n,["instances[0]","image"],Hj(t,o)),p(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=p(e,["config"]);return s!=null&&g(n,["config"],Gj(t,s,n)),n}function Wj(t,e){const n={},i=p(e,["fps"]);i!=null&&g(n,["fps"],i);const r=p(e,["endOffset"]);r!=null&&g(n,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&g(n,["startOffset"],o),n}function Yj(t,e){const n={},i=p(e,["displayName"]);i!=null&&g(n,["displayName"],i);const r=p(e,["data"]);r!=null&&g(n,["data"],r);const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function Zj(t,e){const n={},i=p(e,["displayName"]);i!=null&&g(n,["displayName"],i);const r=p(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function Kj(t,e){const n={},i=p(e,["videoMetadata"]);i!=null&&g(n,["videoMetadata"],Wj(t,i));const r=p(e,["thought"]);r!=null&&g(n,["thought"],r);const o=p(e,["inlineData"]);o!=null&&g(n,["inlineData"],Yj(t,o));const s=p(e,["fileData"]);s!=null&&g(n,["fileData"],Zj(t,s));const u=p(e,["thoughtSignature"]);u!=null&&g(n,["thoughtSignature"],u);const d=p(e,["codeExecutionResult"]);d!=null&&g(n,["codeExecutionResult"],d);const f=p(e,["executableCode"]);f!=null&&g(n,["executableCode"],f);const h=p(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const v=p(e,["functionResponse"]);v!=null&&g(n,["functionResponse"],v);const T=p(e,["text"]);return T!=null&&g(n,["text"],T),n}function _l(t,e){const n={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Kj(t,s))),g(n,["parts"],o)}const r=p(e,["role"]);return r!=null&&g(n,["role"],r),n}function Xj(t,e){const n={},i=p(e,["anyOf"]);i!=null&&g(n,["anyOf"],i);const r=p(e,["default"]);r!=null&&g(n,["default"],r);const o=p(e,["description"]);o!=null&&g(n,["description"],o);const s=p(e,["enum"]);s!=null&&g(n,["enum"],s);const u=p(e,["example"]);u!=null&&g(n,["example"],u);const d=p(e,["format"]);d!=null&&g(n,["format"],d);const f=p(e,["items"]);f!=null&&g(n,["items"],f);const h=p(e,["maxItems"]);h!=null&&g(n,["maxItems"],h);const v=p(e,["maxLength"]);v!=null&&g(n,["maxLength"],v);const T=p(e,["maxProperties"]);T!=null&&g(n,["maxProperties"],T);const C=p(e,["maximum"]);C!=null&&g(n,["maximum"],C);const S=p(e,["minItems"]);S!=null&&g(n,["minItems"],S);const E=p(e,["minLength"]);E!=null&&g(n,["minLength"],E);const _=p(e,["minProperties"]);_!=null&&g(n,["minProperties"],_);const I=p(e,["minimum"]);I!=null&&g(n,["minimum"],I);const D=p(e,["nullable"]);D!=null&&g(n,["nullable"],D);const M=p(e,["pattern"]);M!=null&&g(n,["pattern"],M);const P=p(e,["properties"]);P!=null&&g(n,["properties"],P);const L=p(e,["propertyOrdering"]);L!=null&&g(n,["propertyOrdering"],L);const R=p(e,["required"]);R!=null&&g(n,["required"],R);const B=p(e,["title"]);B!=null&&g(n,["title"],B);const q=p(e,["type"]);return q!=null&&g(n,["type"],q),n}function Jj(t,e){const n={},i=p(e,["featureSelectionPreference"]);return i!=null&&g(n,["featureSelectionPreference"],i),n}function Qj(t,e){const n={},i=p(e,["method"]);i!=null&&g(n,["method"],i);const r=p(e,["category"]);r!=null&&g(n,["category"],r);const o=p(e,["threshold"]);return o!=null&&g(n,["threshold"],o),n}function e9(t,e){const n={};if(p(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=p(e,["description"]);i!=null&&g(n,["description"],i);const r=p(e,["name"]);r!=null&&g(n,["name"],r);const o=p(e,["parameters"]);o!=null&&g(n,["parameters"],o);const s=p(e,["response"]);return s!=null&&g(n,["response"],s),n}function t9(t,e){const n={},i=p(e,["startTime"]);i!=null&&g(n,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&g(n,["endTime"],r),n}function n9(t,e){const n={},i=p(e,["timeRangeFilter"]);return i!=null&&g(n,["timeRangeFilter"],t9(t,i)),n}function i9(t,e){const n={},i=p(e,["mode"]);i!=null&&g(n,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&g(n,["dynamicThreshold"],r),n}function r9(t,e){const n={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&g(n,["dynamicRetrievalConfig"],i9(t,i)),n}function a9(){return{}}function o9(t,e){const n={},i=p(e,["apiKeyString"]);return i!=null&&g(n,["apiKeyString"],i),n}function l9(t,e){const n={},i=p(e,["apiKeyConfig"]);i!=null&&g(n,["apiKeyConfig"],o9(t,i));const r=p(e,["authType"]);r!=null&&g(n,["authType"],r);const o=p(e,["googleServiceAccountConfig"]);o!=null&&g(n,["googleServiceAccountConfig"],o);const s=p(e,["httpBasicAuthConfig"]);s!=null&&g(n,["httpBasicAuthConfig"],s);const u=p(e,["oauthConfig"]);u!=null&&g(n,["oauthConfig"],u);const d=p(e,["oidcConfig"]);return d!=null&&g(n,["oidcConfig"],d),n}function s9(t,e){const n={},i=p(e,["authConfig"]);return i!=null&&g(n,["authConfig"],l9(t,i)),n}function u9(){return{}}function bw(t,e){const n={},i=p(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>e9(t,T))),g(n,["functionDeclarations"],v)}const r=p(e,["retrieval"]);r!=null&&g(n,["retrieval"],r);const o=p(e,["googleSearch"]);o!=null&&g(n,["googleSearch"],n9(t,o));const s=p(e,["googleSearchRetrieval"]);s!=null&&g(n,["googleSearchRetrieval"],r9(t,s)),p(e,["enterpriseWebSearch"])!=null&&g(n,["enterpriseWebSearch"],a9());const d=p(e,["googleMaps"]);d!=null&&g(n,["googleMaps"],s9(t,d)),p(e,["urlContext"])!=null&&g(n,["urlContext"],u9());const h=p(e,["codeExecution"]);return h!=null&&g(n,["codeExecution"],h),n}function c9(t,e){const n={},i=p(e,["mode"]);i!=null&&g(n,["mode"],i);const r=p(e,["allowedFunctionNames"]);return r!=null&&g(n,["allowedFunctionNames"],r),n}function d9(t,e){const n={},i=p(e,["latitude"]);i!=null&&g(n,["latitude"],i);const r=p(e,["longitude"]);return r!=null&&g(n,["longitude"],r),n}function f9(t,e){const n={},i=p(e,["latLng"]);i!=null&&g(n,["latLng"],d9(t,i));const r=p(e,["languageCode"]);return r!=null&&g(n,["languageCode"],r),n}function m9(t,e){const n={},i=p(e,["functionCallingConfig"]);i!=null&&g(n,["functionCallingConfig"],c9(t,i));const r=p(e,["retrievalConfig"]);return r!=null&&g(n,["retrievalConfig"],f9(t,r)),n}function p9(t,e){const n={},i=p(e,["voiceName"]);return i!=null&&g(n,["voiceName"],i),n}function h9(t,e){const n={},i=p(e,["prebuiltVoiceConfig"]);return i!=null&&g(n,["prebuiltVoiceConfig"],p9(t,i)),n}function g9(t,e){const n={},i=p(e,["voiceConfig"]);if(i!=null&&g(n,["voiceConfig"],h9(t,i)),p(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(e,["languageCode"]);return r!=null&&g(n,["languageCode"],r),n}function y9(t,e){const n={},i=p(e,["includeThoughts"]);i!=null&&g(n,["includeThoughts"],i);const r=p(e,["thinkingBudget"]);return r!=null&&g(n,["thinkingBudget"],r),n}function v9(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],_l(t,En(t,r)));const o=p(e,["temperature"]);o!=null&&g(i,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(i,["topP"],s);const u=p(e,["topK"]);u!=null&&g(i,["topK"],u);const d=p(e,["candidateCount"]);d!=null&&g(i,["candidateCount"],d);const f=p(e,["maxOutputTokens"]);f!=null&&g(i,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&g(i,["stopSequences"],h);const v=p(e,["responseLogprobs"]);v!=null&&g(i,["responseLogprobs"],v);const T=p(e,["logprobs"]);T!=null&&g(i,["logprobs"],T);const C=p(e,["presencePenalty"]);C!=null&&g(i,["presencePenalty"],C);const S=p(e,["frequencyPenalty"]);S!=null&&g(i,["frequencyPenalty"],S);const E=p(e,["seed"]);E!=null&&g(i,["seed"],E);const _=p(e,["responseMimeType"]);_!=null&&g(i,["responseMimeType"],_);const I=p(e,["responseSchema"]);I!=null&&g(i,["responseSchema"],Xj(t,Rd(t,I)));const D=p(e,["routingConfig"]);D!=null&&g(i,["routingConfig"],D);const M=p(e,["modelSelectionConfig"]);M!=null&&g(i,["modelConfig"],Jj(t,M));const P=p(e,["safetySettings"]);if(n!==void 0&&P!=null){let ee=P;Array.isArray(ee)&&(ee=ee.map(Q=>Qj(t,Q))),g(n,["safetySettings"],ee)}const L=p(e,["tools"]);if(n!==void 0&&L!=null){let ee=gu(t,L);Array.isArray(ee)&&(ee=ee.map(Q=>bw(t,hu(t,Q)))),g(n,["tools"],ee)}const R=p(e,["toolConfig"]);n!==void 0&&R!=null&&g(n,["toolConfig"],m9(t,R));const B=p(e,["labels"]);n!==void 0&&B!=null&&g(n,["labels"],B);const q=p(e,["cachedContent"]);n!==void 0&&q!=null&&g(n,["cachedContent"],xa(t,q));const $=p(e,["responseModalities"]);$!=null&&g(i,["responseModalities"],$);const j=p(e,["mediaResolution"]);j!=null&&g(i,["mediaResolution"],j);const Z=p(e,["speechConfig"]);Z!=null&&g(i,["speechConfig"],g9(t,sw(t,Z)));const ne=p(e,["audioTimestamp"]);ne!=null&&g(i,["audioTimestamp"],ne);const ae=p(e,["thinkingConfig"]);return ae!=null&&g(i,["thinkingConfig"],y9(t,ae)),i}function tC(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["contents"]);if(r!=null){let s=Ai(t,r);Array.isArray(s)&&(s=s.map(u=>_l(t,u))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],v9(t,o,n)),n}function x9(t,e,n){const i={},r=p(e,["taskType"]);n!==void 0&&r!=null&&g(n,["instances[]","task_type"],r);const o=p(e,["title"]);n!==void 0&&o!=null&&g(n,["instances[]","title"],o);const s=p(e,["outputDimensionality"]);n!==void 0&&s!=null&&g(n,["parameters","outputDimensionality"],s);const u=p(e,["mimeType"]);n!==void 0&&u!=null&&g(n,["instances[]","mimeType"],u);const d=p(e,["autoTruncate"]);return n!==void 0&&d!=null&&g(n,["parameters","autoTruncate"],d),i}function b9(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["contents"]);r!=null&&g(n,["instances[]","content"],lw(t,r));const o=p(e,["config"]);return o!=null&&g(n,["config"],x9(t,o,n)),n}function T9(t,e,n){const i={},r=p(e,["outputGcsUri"]);n!==void 0&&r!=null&&g(n,["parameters","storageUri"],r);const o=p(e,["negativePrompt"]);n!==void 0&&o!=null&&g(n,["parameters","negativePrompt"],o);const s=p(e,["numberOfImages"]);n!==void 0&&s!=null&&g(n,["parameters","sampleCount"],s);const u=p(e,["aspectRatio"]);n!==void 0&&u!=null&&g(n,["parameters","aspectRatio"],u);const d=p(e,["guidanceScale"]);n!==void 0&&d!=null&&g(n,["parameters","guidanceScale"],d);const f=p(e,["seed"]);n!==void 0&&f!=null&&g(n,["parameters","seed"],f);const h=p(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&g(n,["parameters","safetySetting"],h);const v=p(e,["personGeneration"]);n!==void 0&&v!=null&&g(n,["parameters","personGeneration"],v);const T=p(e,["includeSafetyAttributes"]);n!==void 0&&T!=null&&g(n,["parameters","includeSafetyAttributes"],T);const C=p(e,["includeRaiReason"]);n!==void 0&&C!=null&&g(n,["parameters","includeRaiReason"],C);const S=p(e,["language"]);n!==void 0&&S!=null&&g(n,["parameters","language"],S);const E=p(e,["outputMimeType"]);n!==void 0&&E!=null&&g(n,["parameters","outputOptions","mimeType"],E);const _=p(e,["outputCompressionQuality"]);n!==void 0&&_!=null&&g(n,["parameters","outputOptions","compressionQuality"],_);const I=p(e,["addWatermark"]);n!==void 0&&I!=null&&g(n,["parameters","addWatermark"],I);const D=p(e,["enhancePrompt"]);return n!==void 0&&D!=null&&g(n,["parameters","enhancePrompt"],D),i}function C9(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const o=p(e,["config"]);return o!=null&&g(n,["config"],T9(t,o,n)),n}function lf(t,e){const n={},i=p(e,["gcsUri"]);i!=null&&g(n,["gcsUri"],i);const r=p(e,["imageBytes"]);r!=null&&g(n,["bytesBase64Encoded"],Ir(t,r));const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function S9(t,e){const n={},i=p(e,["maskMode"]);i!=null&&g(n,["maskMode"],i);const r=p(e,["segmentationClasses"]);r!=null&&g(n,["maskClasses"],r);const o=p(e,["maskDilation"]);return o!=null&&g(n,["dilation"],o),n}function E9(t,e){const n={},i=p(e,["controlType"]);i!=null&&g(n,["controlType"],i);const r=p(e,["enableControlImageComputation"]);return r!=null&&g(n,["computeControl"],r),n}function w9(t,e){const n={},i=p(e,["styleDescription"]);return i!=null&&g(n,["styleDescription"],i),n}function A9(t,e){const n={},i=p(e,["subjectType"]);i!=null&&g(n,["subjectType"],i);const r=p(e,["subjectDescription"]);return r!=null&&g(n,["subjectDescription"],r),n}function _9(t,e){const n={},i=p(e,["referenceImage"]);i!=null&&g(n,["referenceImage"],lf(t,i));const r=p(e,["referenceId"]);r!=null&&g(n,["referenceId"],r);const o=p(e,["referenceType"]);o!=null&&g(n,["referenceType"],o);const s=p(e,["maskImageConfig"]);s!=null&&g(n,["maskImageConfig"],S9(t,s));const u=p(e,["controlImageConfig"]);u!=null&&g(n,["controlImageConfig"],E9(t,u));const d=p(e,["styleImageConfig"]);d!=null&&g(n,["styleImageConfig"],w9(t,d));const f=p(e,["subjectImageConfig"]);return f!=null&&g(n,["subjectImageConfig"],A9(t,f)),n}function N9(t,e,n){const i={},r=p(e,["outputGcsUri"]);n!==void 0&&r!=null&&g(n,["parameters","storageUri"],r);const o=p(e,["negativePrompt"]);n!==void 0&&o!=null&&g(n,["parameters","negativePrompt"],o);const s=p(e,["numberOfImages"]);n!==void 0&&s!=null&&g(n,["parameters","sampleCount"],s);const u=p(e,["aspectRatio"]);n!==void 0&&u!=null&&g(n,["parameters","aspectRatio"],u);const d=p(e,["guidanceScale"]);n!==void 0&&d!=null&&g(n,["parameters","guidanceScale"],d);const f=p(e,["seed"]);n!==void 0&&f!=null&&g(n,["parameters","seed"],f);const h=p(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&g(n,["parameters","safetySetting"],h);const v=p(e,["personGeneration"]);n!==void 0&&v!=null&&g(n,["parameters","personGeneration"],v);const T=p(e,["includeSafetyAttributes"]);n!==void 0&&T!=null&&g(n,["parameters","includeSafetyAttributes"],T);const C=p(e,["includeRaiReason"]);n!==void 0&&C!=null&&g(n,["parameters","includeRaiReason"],C);const S=p(e,["language"]);n!==void 0&&S!=null&&g(n,["parameters","language"],S);const E=p(e,["outputMimeType"]);n!==void 0&&E!=null&&g(n,["parameters","outputOptions","mimeType"],E);const _=p(e,["outputCompressionQuality"]);n!==void 0&&_!=null&&g(n,["parameters","outputOptions","compressionQuality"],_);const I=p(e,["editMode"]);n!==void 0&&I!=null&&g(n,["parameters","editMode"],I);const D=p(e,["baseSteps"]);return n!==void 0&&D!=null&&g(n,["parameters","editConfig","baseSteps"],D),i}function I9(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const o=p(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>_9(t,d))),g(n,["instances[0]","referenceImages"],u)}const s=p(e,["config"]);return s!=null&&g(n,["config"],N9(t,s,n)),n}function D9(t,e,n){const i={},r=p(e,["includeRaiReason"]);n!==void 0&&r!=null&&g(n,["parameters","includeRaiReason"],r);const o=p(e,["outputMimeType"]);n!==void 0&&o!=null&&g(n,["parameters","outputOptions","mimeType"],o);const s=p(e,["outputCompressionQuality"]);n!==void 0&&s!=null&&g(n,["parameters","outputOptions","compressionQuality"],s);const u=p(e,["numberOfImages"]);n!==void 0&&u!=null&&g(n,["parameters","sampleCount"],u);const d=p(e,["mode"]);return n!==void 0&&d!=null&&g(n,["parameters","mode"],d),i}function k9(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["image"]);r!=null&&g(n,["instances[0]","image"],lf(t,r));const o=p(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=p(e,["config"]);return s!=null&&g(n,["config"],D9(t,s,n)),n}function M9(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","name"],bt(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function R9(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&g(n,["_url","models_url"],dw(t,u)),i}function L9(t,e){const n={},i=p(e,["config"]);return i!=null&&g(n,["config"],R9(t,i,n)),n}function O9(t,e,n){const i={},r=p(e,["displayName"]);n!==void 0&&r!=null&&g(n,["displayName"],r);const o=p(e,["description"]);n!==void 0&&o!=null&&g(n,["description"],o);const s=p(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&g(n,["defaultCheckpointId"],s),i}function P9(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],O9(t,r,n)),n}function U9(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","name"],bt(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function j9(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],_l(t,En(t,r)));const o=p(e,["tools"]);if(n!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>bw(t,d))),g(n,["tools"],u)}const s=p(e,["generationConfig"]);return n!==void 0&&s!=null&&g(n,["generationConfig"],s),i}function z9(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["contents"]);if(r!=null){let s=Ai(t,r);Array.isArray(s)&&(s=s.map(u=>_l(t,u))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["config"],j9(t,o,n)),n}function V9(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["contents"]);if(r!=null){let s=Ai(t,r);Array.isArray(s)&&(s=s.map(u=>_l(t,u))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["config"],o),n}function F9(t,e){const n={},i=p(e,["uri"]);i!=null&&g(n,["gcsUri"],i);const r=p(e,["videoBytes"]);r!=null&&g(n,["bytesBase64Encoded"],Ir(t,r));const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function B9(t,e,n){const i={},r=p(e,["numberOfVideos"]);n!==void 0&&r!=null&&g(n,["parameters","sampleCount"],r);const o=p(e,["outputGcsUri"]);n!==void 0&&o!=null&&g(n,["parameters","storageUri"],o);const s=p(e,["fps"]);n!==void 0&&s!=null&&g(n,["parameters","fps"],s);const u=p(e,["durationSeconds"]);n!==void 0&&u!=null&&g(n,["parameters","durationSeconds"],u);const d=p(e,["seed"]);n!==void 0&&d!=null&&g(n,["parameters","seed"],d);const f=p(e,["aspectRatio"]);n!==void 0&&f!=null&&g(n,["parameters","aspectRatio"],f);const h=p(e,["resolution"]);n!==void 0&&h!=null&&g(n,["parameters","resolution"],h);const v=p(e,["personGeneration"]);n!==void 0&&v!=null&&g(n,["parameters","personGeneration"],v);const T=p(e,["pubsubTopic"]);n!==void 0&&T!=null&&g(n,["parameters","pubsubTopic"],T);const C=p(e,["negativePrompt"]);n!==void 0&&C!=null&&g(n,["parameters","negativePrompt"],C);const S=p(e,["enhancePrompt"]);n!==void 0&&S!=null&&g(n,["parameters","enhancePrompt"],S);const E=p(e,["generateAudio"]);n!==void 0&&E!=null&&g(n,["parameters","generateAudio"],E);const _=p(e,["lastFrame"]);return n!==void 0&&_!=null&&g(n,["instances[0]","lastFrame"],lf(t,_)),i}function $9(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],bt(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],lf(t,o));const s=p(e,["video"]);s!=null&&g(n,["instances[0]","video"],F9(t,s));const u=p(e,["config"]);return u!=null&&g(n,["config"],B9(t,u,n)),n}function H9(t,e){const n={},i=p(e,["fps"]);i!=null&&g(n,["fps"],i);const r=p(e,["endOffset"]);r!=null&&g(n,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&g(n,["startOffset"],o),n}function G9(t,e){const n={},i=p(e,["data"]);i!=null&&g(n,["data"],i);const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function q9(t,e){const n={},i=p(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function W9(t,e){const n={},i=p(e,["videoMetadata"]);i!=null&&g(n,["videoMetadata"],H9(t,i));const r=p(e,["thought"]);r!=null&&g(n,["thought"],r);const o=p(e,["inlineData"]);o!=null&&g(n,["inlineData"],G9(t,o));const s=p(e,["fileData"]);s!=null&&g(n,["fileData"],q9(t,s));const u=p(e,["thoughtSignature"]);u!=null&&g(n,["thoughtSignature"],u);const d=p(e,["codeExecutionResult"]);d!=null&&g(n,["codeExecutionResult"],d);const f=p(e,["executableCode"]);f!=null&&g(n,["executableCode"],f);const h=p(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const v=p(e,["functionResponse"]);v!=null&&g(n,["functionResponse"],v);const T=p(e,["text"]);return T!=null&&g(n,["text"],T),n}function Y9(t,e){const n={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>W9(t,s))),g(n,["parts"],o)}const r=p(e,["role"]);return r!=null&&g(n,["role"],r),n}function Z9(t,e){const n={},i=p(e,["citationSources"]);return i!=null&&g(n,["citations"],i),n}function K9(t,e){const n={},i=p(e,["retrievedUrl"]);i!=null&&g(n,["retrievedUrl"],i);const r=p(e,["urlRetrievalStatus"]);return r!=null&&g(n,["urlRetrievalStatus"],r),n}function X9(t,e){const n={},i=p(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>K9(t,o))),g(n,["urlMetadata"],r)}return n}function J9(t,e){const n={},i=p(e,["content"]);i!=null&&g(n,["content"],Y9(t,i));const r=p(e,["citationMetadata"]);r!=null&&g(n,["citationMetadata"],Z9(t,r));const o=p(e,["tokenCount"]);o!=null&&g(n,["tokenCount"],o);const s=p(e,["finishReason"]);s!=null&&g(n,["finishReason"],s);const u=p(e,["urlContextMetadata"]);u!=null&&g(n,["urlContextMetadata"],X9(t,u));const d=p(e,["avgLogprobs"]);d!=null&&g(n,["avgLogprobs"],d);const f=p(e,["groundingMetadata"]);f!=null&&g(n,["groundingMetadata"],f);const h=p(e,["index"]);h!=null&&g(n,["index"],h);const v=p(e,["logprobsResult"]);v!=null&&g(n,["logprobsResult"],v);const T=p(e,["safetyRatings"]);return T!=null&&g(n,["safetyRatings"],T),n}function nC(t,e){const n={},i=p(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>J9(t,d))),g(n,["candidates"],u)}const r=p(e,["modelVersion"]);r!=null&&g(n,["modelVersion"],r);const o=p(e,["promptFeedback"]);o!=null&&g(n,["promptFeedback"],o);const s=p(e,["usageMetadata"]);return s!=null&&g(n,["usageMetadata"],s),n}function Q9(t,e){const n={},i=p(e,["values"]);return i!=null&&g(n,["values"],i),n}function ez(){return{}}function tz(t,e){const n={},i=p(e,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Q9(t,s))),g(n,["embeddings"],o)}return p(e,["metadata"])!=null&&g(n,["metadata"],ez()),n}function nz(t,e){const n={},i=p(e,["bytesBase64Encoded"]);i!=null&&g(n,["imageBytes"],Ir(t,i));const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function Tw(t,e){const n={},i=p(e,["safetyAttributes","categories"]);i!=null&&g(n,["categories"],i);const r=p(e,["safetyAttributes","scores"]);r!=null&&g(n,["scores"],r);const o=p(e,["contentType"]);return o!=null&&g(n,["contentType"],o),n}function iz(t,e){const n={},i=p(e,["_self"]);i!=null&&g(n,["image"],nz(t,i));const r=p(e,["raiFilteredReason"]);r!=null&&g(n,["raiFilteredReason"],r);const o=p(e,["_self"]);return o!=null&&g(n,["safetyAttributes"],Tw(t,o)),n}function rz(t,e){const n={},i=p(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>iz(t,s))),g(n,["generatedImages"],o)}const r=p(e,["positivePromptSafetyAttributes"]);return r!=null&&g(n,["positivePromptSafetyAttributes"],Tw(t,r)),n}function az(t,e){const n={},i=p(e,["baseModel"]);i!=null&&g(n,["baseModel"],i);const r=p(e,["createTime"]);r!=null&&g(n,["createTime"],r);const o=p(e,["updateTime"]);return o!=null&&g(n,["updateTime"],o),n}function ig(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["name"],i);const r=p(e,["displayName"]);r!=null&&g(n,["displayName"],r);const o=p(e,["description"]);o!=null&&g(n,["description"],o);const s=p(e,["version"]);s!=null&&g(n,["version"],s);const u=p(e,["_self"]);u!=null&&g(n,["tunedModelInfo"],az(t,u));const d=p(e,["inputTokenLimit"]);d!=null&&g(n,["inputTokenLimit"],d);const f=p(e,["outputTokenLimit"]);f!=null&&g(n,["outputTokenLimit"],f);const h=p(e,["supportedGenerationMethods"]);return h!=null&&g(n,["supportedActions"],h),n}function oz(t,e){const n={},i=p(e,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const r=p(e,["_self"]);if(r!=null){let o=fw(t,r);Array.isArray(o)&&(o=o.map(s=>ig(t,s))),g(n,["models"],o)}return n}function lz(){return{}}function sz(t,e){const n={},i=p(e,["totalTokens"]);i!=null&&g(n,["totalTokens"],i);const r=p(e,["cachedContentTokenCount"]);return r!=null&&g(n,["cachedContentTokenCount"],r),n}function uz(t,e){const n={},i=p(e,["video","uri"]);i!=null&&g(n,["uri"],i);const r=p(e,["video","encodedVideo"]);r!=null&&g(n,["videoBytes"],Ir(t,r));const o=p(e,["encoding"]);return o!=null&&g(n,["mimeType"],o),n}function cz(t,e){const n={},i=p(e,["_self"]);return i!=null&&g(n,["video"],uz(t,i)),n}function dz(t,e){const n={},i=p(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>cz(t,u))),g(n,["generatedVideos"],s)}const r=p(e,["raiMediaFilteredCount"]);r!=null&&g(n,["raiMediaFilteredCount"],r);const o=p(e,["raiMediaFilteredReasons"]);return o!=null&&g(n,["raiMediaFilteredReasons"],o),n}function fz(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["name"],i);const r=p(e,["metadata"]);r!=null&&g(n,["metadata"],r);const o=p(e,["done"]);o!=null&&g(n,["done"],o);const s=p(e,["error"]);s!=null&&g(n,["error"],s);const u=p(e,["response","generateVideoResponse"]);return u!=null&&g(n,["response"],dz(t,u)),n}function mz(t,e){const n={},i=p(e,["fps"]);i!=null&&g(n,["fps"],i);const r=p(e,["endOffset"]);r!=null&&g(n,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&g(n,["startOffset"],o),n}function pz(t,e){const n={},i=p(e,["displayName"]);i!=null&&g(n,["displayName"],i);const r=p(e,["data"]);r!=null&&g(n,["data"],r);const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function hz(t,e){const n={},i=p(e,["displayName"]);i!=null&&g(n,["displayName"],i);const r=p(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function gz(t,e){const n={},i=p(e,["videoMetadata"]);i!=null&&g(n,["videoMetadata"],mz(t,i));const r=p(e,["thought"]);r!=null&&g(n,["thought"],r);const o=p(e,["inlineData"]);o!=null&&g(n,["inlineData"],pz(t,o));const s=p(e,["fileData"]);s!=null&&g(n,["fileData"],hz(t,s));const u=p(e,["thoughtSignature"]);u!=null&&g(n,["thoughtSignature"],u);const d=p(e,["codeExecutionResult"]);d!=null&&g(n,["codeExecutionResult"],d);const f=p(e,["executableCode"]);f!=null&&g(n,["executableCode"],f);const h=p(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const v=p(e,["functionResponse"]);v!=null&&g(n,["functionResponse"],v);const T=p(e,["text"]);return T!=null&&g(n,["text"],T),n}function yz(t,e){const n={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>gz(t,s))),g(n,["parts"],o)}const r=p(e,["role"]);return r!=null&&g(n,["role"],r),n}function vz(t,e){const n={},i=p(e,["citations"]);return i!=null&&g(n,["citations"],i),n}function xz(t,e){const n={},i=p(e,["retrievedUrl"]);i!=null&&g(n,["retrievedUrl"],i);const r=p(e,["urlRetrievalStatus"]);return r!=null&&g(n,["urlRetrievalStatus"],r),n}function bz(t,e){const n={},i=p(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>xz(t,o))),g(n,["urlMetadata"],r)}return n}function Tz(t,e){const n={},i=p(e,["content"]);i!=null&&g(n,["content"],yz(t,i));const r=p(e,["citationMetadata"]);r!=null&&g(n,["citationMetadata"],vz(t,r));const o=p(e,["finishMessage"]);o!=null&&g(n,["finishMessage"],o);const s=p(e,["finishReason"]);s!=null&&g(n,["finishReason"],s);const u=p(e,["urlContextMetadata"]);u!=null&&g(n,["urlContextMetadata"],bz(t,u));const d=p(e,["avgLogprobs"]);d!=null&&g(n,["avgLogprobs"],d);const f=p(e,["groundingMetadata"]);f!=null&&g(n,["groundingMetadata"],f);const h=p(e,["index"]);h!=null&&g(n,["index"],h);const v=p(e,["logprobsResult"]);v!=null&&g(n,["logprobsResult"],v);const T=p(e,["safetyRatings"]);return T!=null&&g(n,["safetyRatings"],T),n}function iC(t,e){const n={},i=p(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>Tz(t,h))),g(n,["candidates"],f)}const r=p(e,["createTime"]);r!=null&&g(n,["createTime"],r);const o=p(e,["responseId"]);o!=null&&g(n,["responseId"],o);const s=p(e,["modelVersion"]);s!=null&&g(n,["modelVersion"],s);const u=p(e,["promptFeedback"]);u!=null&&g(n,["promptFeedback"],u);const d=p(e,["usageMetadata"]);return d!=null&&g(n,["usageMetadata"],d),n}function Cz(t,e){const n={},i=p(e,["truncated"]);i!=null&&g(n,["truncated"],i);const r=p(e,["token_count"]);return r!=null&&g(n,["tokenCount"],r),n}function Sz(t,e){const n={},i=p(e,["values"]);i!=null&&g(n,["values"],i);const r=p(e,["statistics"]);return r!=null&&g(n,["statistics"],Cz(t,r)),n}function Ez(t,e){const n={},i=p(e,["billableCharacterCount"]);return i!=null&&g(n,["billableCharacterCount"],i),n}function wz(t,e){const n={},i=p(e,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Sz(t,s))),g(n,["embeddings"],o)}const r=p(e,["metadata"]);return r!=null&&g(n,["metadata"],Ez(t,r)),n}function Az(t,e){const n={},i=p(e,["gcsUri"]);i!=null&&g(n,["gcsUri"],i);const r=p(e,["bytesBase64Encoded"]);r!=null&&g(n,["imageBytes"],Ir(t,r));const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function Cw(t,e){const n={},i=p(e,["safetyAttributes","categories"]);i!=null&&g(n,["categories"],i);const r=p(e,["safetyAttributes","scores"]);r!=null&&g(n,["scores"],r);const o=p(e,["contentType"]);return o!=null&&g(n,["contentType"],o),n}function ry(t,e){const n={},i=p(e,["_self"]);i!=null&&g(n,["image"],Az(t,i));const r=p(e,["raiFilteredReason"]);r!=null&&g(n,["raiFilteredReason"],r);const o=p(e,["_self"]);o!=null&&g(n,["safetyAttributes"],Cw(t,o));const s=p(e,["prompt"]);return s!=null&&g(n,["enhancedPrompt"],s),n}function _z(t,e){const n={},i=p(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ry(t,s))),g(n,["generatedImages"],o)}const r=p(e,["positivePromptSafetyAttributes"]);return r!=null&&g(n,["positivePromptSafetyAttributes"],Cw(t,r)),n}function Nz(t,e){const n={},i=p(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>ry(t,o))),g(n,["generatedImages"],r)}return n}function Iz(t,e){const n={},i=p(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>ry(t,o))),g(n,["generatedImages"],r)}return n}function Dz(t,e){const n={},i=p(e,["endpoint"]);i!=null&&g(n,["name"],i);const r=p(e,["deployedModelId"]);return r!=null&&g(n,["deployedModelId"],r),n}function kz(t,e){const n={},i=p(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&g(n,["baseModel"],i);const r=p(e,["createTime"]);r!=null&&g(n,["createTime"],r);const o=p(e,["updateTime"]);return o!=null&&g(n,["updateTime"],o),n}function Mz(t,e){const n={},i=p(e,["checkpointId"]);i!=null&&g(n,["checkpointId"],i);const r=p(e,["epoch"]);r!=null&&g(n,["epoch"],r);const o=p(e,["step"]);return o!=null&&g(n,["step"],o),n}function rg(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["name"],i);const r=p(e,["displayName"]);r!=null&&g(n,["displayName"],r);const o=p(e,["description"]);o!=null&&g(n,["description"],o);const s=p(e,["versionId"]);s!=null&&g(n,["version"],s);const u=p(e,["deployedModels"]);if(u!=null){let T=u;Array.isArray(T)&&(T=T.map(C=>Dz(t,C))),g(n,["endpoints"],T)}const d=p(e,["labels"]);d!=null&&g(n,["labels"],d);const f=p(e,["_self"]);f!=null&&g(n,["tunedModelInfo"],kz(t,f));const h=p(e,["defaultCheckpointId"]);h!=null&&g(n,["defaultCheckpointId"],h);const v=p(e,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>Mz(t,C))),g(n,["checkpoints"],T)}return n}function Rz(t,e){const n={},i=p(e,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const r=p(e,["_self"]);if(r!=null){let o=fw(t,r);Array.isArray(o)&&(o=o.map(s=>rg(t,s))),g(n,["models"],o)}return n}function Lz(){return{}}function Oz(t,e){const n={},i=p(e,["totalTokens"]);return i!=null&&g(n,["totalTokens"],i),n}function Pz(t,e){const n={},i=p(e,["tokensInfo"]);return i!=null&&g(n,["tokensInfo"],i),n}function Uz(t,e){const n={},i=p(e,["gcsUri"]);i!=null&&g(n,["uri"],i);const r=p(e,["bytesBase64Encoded"]);r!=null&&g(n,["videoBytes"],Ir(t,r));const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function jz(t,e){const n={},i=p(e,["_self"]);return i!=null&&g(n,["video"],Uz(t,i)),n}function zz(t,e){const n={},i=p(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>jz(t,u))),g(n,["generatedVideos"],s)}const r=p(e,["raiMediaFilteredCount"]);r!=null&&g(n,["raiMediaFilteredCount"],r);const o=p(e,["raiMediaFilteredReasons"]);return o!=null&&g(n,["raiMediaFilteredReasons"],o),n}function Vz(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["name"],i);const r=p(e,["metadata"]);r!=null&&g(n,["metadata"],r);const o=p(e,["done"]);o!=null&&g(n,["done"],o);const s=p(e,["error"]);s!=null&&g(n,["error"],s);const u=p(e,["response"]);return u!=null&&g(n,["response"],zz(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fz="Content-Type",Bz="X-Server-Timeout",$z="User-Agent",ag="x-goog-api-client",Hz="1.5.1",Gz=`google-genai-sdk/${Hz}`,qz="v1beta1",Wz="v1beta",rC=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Sw extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class og extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class Yz{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:qz,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Wz,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))r.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(n))typeof o=="object"?i[r]=Object.assign(Object.assign({},i[r]),o):o!==void 0&&(i[r]=o);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const r=new AbortController,o=r.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>r.abort(),n.timeout),i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await aC(r),new Qh(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await aC(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return ul(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:d}=yield St(r.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d);try{const v=JSON.parse(f);if("error"in v){const T=JSON.parse(JSON.stringify(v.error)),C=T.status,S=T.code,E=`got status: ${C}. ${JSON.stringify(v)}`;if(S>=400&&S<500)throw new Sw(E);if(S>=500&&S<600)throw new og(E)}}catch(v){const T=v;if(T.name==="ClientError"||T.name==="ServerError")throw v}s+=f;let h=s.match(rC);for(;h;){const v=h[1];try{const T=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield St(new Qh(T)),s=s.slice(h[0].length),h=s.match(rC)}catch(T){throw new Error(`exception parsing stream chunk ${v}. ${T}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=Gz+" "+this.clientOptions.userAgentExtra;return e[$z]=n,e[ag]=n,e[Fz]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))n.append(i,r);e.timeout&&e.timeout>0&&n.append(Bz,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);r.sizeBytes=String(s.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const d=await this.fetchUploadUrl(r,n);return o.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let r={};n!=null&&n.httpOptions?r=n.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:Ve("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:r});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=s==null?void 0:s.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function aC(t){var e;if(t===void 0)throw new og("response is undefined");if(!t.ok){const n=t.status,i=t.statusText;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=`got status: ${n} ${i}. ${JSON.stringify(r)}`;throw n>=400&&n<500?new Sw(o):n>=500&&n<600?new og(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zz="mcp_used/unknown";function Ew(t){for(const e of t)if(ay(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function ww(t){var e;const n=(e=t[ag])!==null&&e!==void 0?e:"";t[ag]=(n+` ${Zz}`).trimStart()}function Kz(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>ay(r)))!==null&&i!==void 0?i:!1}function Xz(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>!ay(r)))!==null&&i!==void 0?i:!1}function ay(t){return t!==null&&typeof t=="object"&&t instanceof oy}function Jz(t,e=100){return ul(this,arguments,function*(){let i,r=0;for(;r<e;){const o=yield St(t.listTools({cursor:i}));for(const s of o.tools)yield yield St(s),r++;if(!o.nextCursor)break;i=o.nextCursor}})}class oy{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new oy(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var u=!0,d=(n=void 0,Gs(Jz(h))),f;f=await d.next(),e=f.done,!e;u=!0){r=f.value,u=!1;const v=r;s.push(v);const T=v.name;if(o[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);o[T]=h}}catch(v){n={error:v}}finally{try{!u&&!e&&(i=d.return)&&await i.call(d)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),QP(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await r.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Qz(t,e,n){const i=new VP;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data);const o=sj(t,r);Object.assign(i,o),e(i)}class eV{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=iV(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(M=>{f=M}),v=e.callbacks,T=function(){f({})},C=this.apiClient,S={onopen:T,onmessage:M=>{Qz(C,v.onmessage,M)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(M){},onclose:(i=v==null?void 0:v.onclose)!==null&&i!==void 0?i:function(M){}},E=this.webSocketFactory.create(d,nV(s),S);E.connect(),await h;const _=bt(this.apiClient,e.model),I=yw(this.apiClient,{model:_}),D=ng(this.apiClient,{setup:I});return E.send(JSON.stringify(D)),new tV(E,this.apiClient)}}class tV{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=CU(this.apiClient,e),i=vw(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=SU(this.apiClient,e),i=ng(this.apiClient,n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=ng(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(rl.PLAY)}pause(){this.sendPlaybackControl(rl.PAUSE)}stop(){this.sendPlaybackControl(rl.STOP)}resetContext(){this.sendPlaybackControl(rl.RESET_CONTEXT)}close(){this.conn.close()}}function nV(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function iV(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rV="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function aV(t,e,n){const i=new zP;let r;if(n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),t.isVertexAI()){const o=QU(t,r);Object.assign(i,o)}else{const o=JU(t,r);Object.assign(i,o)}e(i)}class oV{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new eV(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,o,s,u;const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const v=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Ew(e.config.tools)&&ww(v);const T=cV(v);if(this.apiClient.isVertexAI())h=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T);else{const $=this.apiClient.getApiKey();let j="BidiGenerateContent",Z="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),j="BidiGenerateContentConstrained",Z="access_token"),h=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${j}?${Z}=${$}`}let C=()=>{};const S=new Promise($=>{C=$}),E=e.callbacks,_=function(){var $;($=E==null?void 0:E.onopen)===null||$===void 0||$.call(E),C({})},I=this.apiClient,D={onopen:_,onmessage:$=>{aV(I,E.onmessage,$)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function($){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function($){}},M=this.webSocketFactory.create(h,uV(T),D);M.connect(),await S;let P=bt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const $=this.apiClient.getProject(),j=this.apiClient.getLocation();P=`projects/${$}/locations/${j}/`+P}let L={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[kd.AUDIO]}:e.config.responseModalities=[kd.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],B=[];for(const $ of R)if(this.isCallableTool($)){const j=$;B.push(await j.tool())}else B.push($);B.length>0&&(e.config.tools=B);const q={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=hU(this.apiClient,q):L=pU(this.apiClient,q),delete L.config,M.send(JSON.stringify(L)),new sV(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const lV={turnComplete:!0};class sV{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Ai(e,n.turns),e.isVertexAI()?i=i.map(r=>_l(e,r)):i=i.map(r=>of(e,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(rV)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},lV),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:TU(this.apiClient,e)}:n={realtimeInput:bU(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function uV(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function cV(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oC=10;function lC(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ed(s)){r=!0;break}if(!r)return!0;const o=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ed(t){return"callTool"in t&&typeof t.callTool=="function"}function sC(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dV extends Al{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,o,s,u;const d=await this.processParamsForMcpUsage(n);if(!Kz(n)||lC(n.config))return await this.generateContentInternal(d);if(Xz(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,h;const v=Ai(this.apiClient,d.contents),T=(o=(r=(i=d.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:oC;let C=0;for(;C<T&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const S=f.candidates[0].content,E=[];for(const _ of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(ed(_)){const D=await _.callTool(f.functionCalls);E.push(...D)}C++,h={role:"user",parts:E},d.contents=Ai(this.apiClient,d.contents),d.contents.push(S),d.contents.push(h),sC(d.config)&&(v.push(S),v.push(h))}return sC(d.config)&&(f.automaticFunctionCallingHistory=v),f},this.generateContentStream=async n=>{if(lC(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let o;const s=[];if(i!=null&&i.generatedImages)for(const d of i.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:s.push(d);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o}:u={generatedImages:s},u}),this.list=async n=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new af(vl.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var n,i,r;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async d=>ed(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&Ew(e.config.tools)){const d=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),ww(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,i,r;const o=new Map;for(const s of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(ed(s)){const u=s,d=await u.tool();for(const f of(r=d.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,i,r;const o=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:oC;let s=!1,u=0;const d=await this.initAfcToolsMap(e);return function(f,h,v){var T,C;return ul(this,arguments,function*(){for(var S,E,_,I;u<o;){s&&(u++,s=!1);const L=yield St(f.processParamsForMcpUsage(v)),R=yield St(f.generateContentStreamInternal(L)),B=[],q=[];try{for(var D=!0,M=(E=void 0,Gs(R)),P;P=yield St(M.next()),S=P.done,!S;D=!0){I=P.value,D=!1;const $=I;if(yield yield St($),$.candidates&&(!((T=$.candidates[0])===null||T===void 0)&&T.content)){q.push($.candidates[0].content);for(const j of(C=$.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(u<o&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(j.functionCall.name)){const Z=yield St(h.get(j.functionCall.name).callTool([j.functionCall]));B.push(...Z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch($){E={error:$}}finally{try{!D&&!S&&(_=M.return)&&(yield St(_.call(M)))}finally{if(E)throw E.error}}if(B.length>0){s=!0;const $=new Rs;$.candidates=[{content:{role:"user",parts:B}}],yield yield St($);const j=[];j.push(...q),j.push({role:"user",parts:B});const Z=Ai(f.apiClient,v.contents).concat(j);v.contents=Z}else break}})}(this,d,e)}async generateContentInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=tC(this.apiClient,e);return u=Ve("{model}:generateContent",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const v=iC(this.apiClient,h),T=new Rs;return Object.assign(T,v),T})}else{const f=eC(this.apiClient,e);return u=Ve("{model}:generateContent",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const v=nC(this.apiClient,h),T=new Rs;return Object.assign(T,v),T})}}async generateContentStreamInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=tC(this.apiClient,e);u=Ve("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f.config,delete f._url,delete f._query;const h=this.apiClient;return s=h.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(v){return ul(this,arguments,function*(){var T,C,S,E;try{for(var _=!0,I=Gs(v),D;D=yield St(I.next()),T=D.done,!T;_=!0){E=D.value,_=!1;const P=iC(h,yield St(E.json())),L=new Rs;Object.assign(L,P),yield yield St(L)}}catch(M){C={error:M}}finally{try{!_&&!T&&(S=I.return)&&(yield St(S.call(I)))}finally{if(C)throw C.error}}})})}else{const f=eC(this.apiClient,e);u=Ve("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f.config,delete f._url,delete f._query;const h=this.apiClient;return s=h.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(v){return ul(this,arguments,function*(){var T,C,S,E;try{for(var _=!0,I=Gs(v),D;D=yield St(I.next()),T=D.done,!T;_=!0){E=D.value,_=!1;const P=nC(h,yield St(E.json())),L=new Rs;Object.assign(L,P),yield yield St(L)}}catch(M){C={error:M}}finally{try{!_&&!T&&(S=I.return)&&(yield St(S.call(I)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=b9(this.apiClient,e);return u=Ve("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const v=wz(this.apiClient,h),T=new LT;return Object.assign(T,v),T})}else{const f=Rj(this.apiClient,e);return u=Ve("{model}:batchEmbedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const v=tz(this.apiClient,h),T=new LT;return Object.assign(T,v),T})}}async generateImagesInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=C9(this.apiClient,e);return u=Ve("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const v=_z(this.apiClient,h),T=new OT;return Object.assign(T,v),T})}else{const f=Oj(this.apiClient,e);return u=Ve("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const v=rz(this.apiClient,h),T=new OT;return Object.assign(T,v),T})}}async editImageInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=I9(this.apiClient,e);return o=Ve("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const f=Nz(this.apiClient,d),h=new RP;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=k9(this.apiClient,e);return o=Ve("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const f=Iz(this.apiClient,d),h=new LP;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=M9(this.apiClient,e);return u=Ve("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>rg(this.apiClient,h))}else{const f=Pj(this.apiClient,e);return u=Ve("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>ig(this.apiClient,h))}}async listInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=L9(this.apiClient,e);return u=Ve("{models_url}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const v=Rz(this.apiClient,h),T=new PT;return Object.assign(T,v),T})}else{const f=jj(this.apiClient,e);return u=Ve("{models_url}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const v=oz(this.apiClient,h),T=new PT;return Object.assign(T,v),T})}}async update(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=P9(this.apiClient,e);return u=Ve("{model}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>rg(this.apiClient,h))}else{const f=Vj(this.apiClient,e);return u=Ve("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>ig(this.apiClient,h))}}async delete(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=U9(this.apiClient,e);return u=Ve("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=Lz(),v=new UT;return Object.assign(v,h),v})}else{const f=Fj(this.apiClient,e);return u=Ve("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(()=>{const h=lz(),v=new UT;return Object.assign(v,h),v})}}async countTokens(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=z9(this.apiClient,e);return u=Ve("{model}:countTokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const v=Oz(this.apiClient,h),T=new jT;return Object.assign(T,v),T})}else{const f=$j(this.apiClient,e);return u=Ve("{model}:countTokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const v=sz(this.apiClient,h),T=new jT;return Object.assign(T,v),T})}}async computeTokens(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=V9(this.apiClient,e);return o=Ve("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const f=Pz(this.apiClient,d),h=new OP;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=$9(this.apiClient,e);return u=Ve("{model}:predictLongRunning",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Vz(this.apiClient,h))}else{const f=qj(this.apiClient,e);return u=Ve("{model}:predictLongRunning",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>fz(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fV(t,e){const n={},i=p(e,["operationName"]);i!=null&&g(n,["_url","operationName"],i);const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function mV(t,e){const n={},i=p(e,["operationName"]);i!=null&&g(n,["_url","operationName"],i);const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function pV(t,e){const n={},i=p(e,["operationName"]);i!=null&&g(n,["operationName"],i);const r=p(e,["resourceName"]);r!=null&&g(n,["_url","resourceName"],r);const o=p(e,["config"]);return o!=null&&g(n,["config"],o),n}function hV(t,e){const n={},i=p(e,["video","uri"]);i!=null&&g(n,["uri"],i);const r=p(e,["video","encodedVideo"]);r!=null&&g(n,["videoBytes"],Ir(t,r));const o=p(e,["encoding"]);return o!=null&&g(n,["mimeType"],o),n}function gV(t,e){const n={},i=p(e,["_self"]);return i!=null&&g(n,["video"],hV(t,i)),n}function yV(t,e){const n={},i=p(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>gV(t,u))),g(n,["generatedVideos"],s)}const r=p(e,["raiMediaFilteredCount"]);r!=null&&g(n,["raiMediaFilteredCount"],r);const o=p(e,["raiMediaFilteredReasons"]);return o!=null&&g(n,["raiMediaFilteredReasons"],o),n}function vV(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["name"],i);const r=p(e,["metadata"]);r!=null&&g(n,["metadata"],r);const o=p(e,["done"]);o!=null&&g(n,["done"],o);const s=p(e,["error"]);s!=null&&g(n,["error"],s);const u=p(e,["response","generateVideoResponse"]);return u!=null&&g(n,["response"],yV(t,u)),n}function xV(t,e){const n={},i=p(e,["gcsUri"]);i!=null&&g(n,["uri"],i);const r=p(e,["bytesBase64Encoded"]);r!=null&&g(n,["videoBytes"],Ir(t,r));const o=p(e,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function bV(t,e){const n={},i=p(e,["_self"]);return i!=null&&g(n,["video"],xV(t,i)),n}function TV(t,e){const n={},i=p(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>bV(t,u))),g(n,["generatedVideos"],s)}const r=p(e,["raiMediaFilteredCount"]);r!=null&&g(n,["raiMediaFilteredCount"],r);const o=p(e,["raiMediaFilteredReasons"]);return o!=null&&g(n,["raiMediaFilteredReasons"],o),n}function uC(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["name"],i);const r=p(e,["metadata"]);r!=null&&g(n,["metadata"],r);const o=p(e,["done"]);o!=null&&g(n,["done"],o);const s=p(e,["error"]);s!=null&&g(n,["error"],s);const u=p(e,["response"]);return u!=null&&g(n,["response"],TV(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CV extends Al{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=mV(this.apiClient,e);return u=Ve("{operationName}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>uC(this.apiClient,h))}else{const f=fV(this.apiClient,e);return u=Ve("{operationName}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>vV(this.apiClient,h))}}async fetchPredictVideosOperationInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=pV(this.apiClient,e);return o=Ve("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>uC(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SV(t,e){const n={},i=p(e,["voiceName"]);return i!=null&&g(n,["voiceName"],i),n}function Aw(t,e){const n={},i=p(e,["prebuiltVoiceConfig"]);return i!=null&&g(n,["prebuiltVoiceConfig"],SV(t,i)),n}function EV(t,e){const n={},i=p(e,["speaker"]);i!=null&&g(n,["speaker"],i);const r=p(e,["voiceConfig"]);return r!=null&&g(n,["voiceConfig"],Aw(t,r)),n}function wV(t,e){const n={},i=p(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>EV(t,o))),g(n,["speakerVoiceConfigs"],r)}return n}function AV(t,e){const n={},i=p(e,["voiceConfig"]);i!=null&&g(n,["voiceConfig"],Aw(t,i));const r=p(e,["multiSpeakerVoiceConfig"]);r!=null&&g(n,["multiSpeakerVoiceConfig"],wV(t,r));const o=p(e,["languageCode"]);return o!=null&&g(n,["languageCode"],o),n}function _V(t,e){const n={},i=p(e,["fps"]);i!=null&&g(n,["fps"],i);const r=p(e,["endOffset"]);r!=null&&g(n,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&g(n,["startOffset"],o),n}function NV(t,e){const n={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["data"]);i!=null&&g(n,["data"],i);const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function IV(t,e){const n={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const r=p(e,["mimeType"]);return r!=null&&g(n,["mimeType"],r),n}function DV(t,e){const n={},i=p(e,["videoMetadata"]);i!=null&&g(n,["videoMetadata"],_V(t,i));const r=p(e,["thought"]);r!=null&&g(n,["thought"],r);const o=p(e,["inlineData"]);o!=null&&g(n,["inlineData"],NV(t,o));const s=p(e,["fileData"]);s!=null&&g(n,["fileData"],IV(t,s));const u=p(e,["thoughtSignature"]);u!=null&&g(n,["thoughtSignature"],u);const d=p(e,["codeExecutionResult"]);d!=null&&g(n,["codeExecutionResult"],d);const f=p(e,["executableCode"]);f!=null&&g(n,["executableCode"],f);const h=p(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const v=p(e,["functionResponse"]);v!=null&&g(n,["functionResponse"],v);const T=p(e,["text"]);return T!=null&&g(n,["text"],T),n}function kV(t,e){const n={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>DV(t,s))),g(n,["parts"],o)}const r=p(e,["role"]);return r!=null&&g(n,["role"],r),n}function MV(t,e){const n={},i=p(e,["behavior"]);i!=null&&g(n,["behavior"],i);const r=p(e,["description"]);r!=null&&g(n,["description"],r);const o=p(e,["name"]);o!=null&&g(n,["name"],o);const s=p(e,["parameters"]);s!=null&&g(n,["parameters"],s);const u=p(e,["response"]);return u!=null&&g(n,["response"],u),n}function RV(t,e){const n={},i=p(e,["startTime"]);i!=null&&g(n,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&g(n,["endTime"],r),n}function LV(t,e){const n={},i=p(e,["timeRangeFilter"]);return i!=null&&g(n,["timeRangeFilter"],RV(t,i)),n}function OV(t,e){const n={},i=p(e,["mode"]);i!=null&&g(n,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&g(n,["dynamicThreshold"],r),n}function PV(t,e){const n={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&g(n,["dynamicRetrievalConfig"],OV(t,i)),n}function UV(){return{}}function jV(t,e){const n={},i=p(e,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>MV(t,f))),g(n,["functionDeclarations"],d)}if(p(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(e,["googleSearch"]);r!=null&&g(n,["googleSearch"],LV(t,r));const o=p(e,["googleSearchRetrieval"]);if(o!=null&&g(n,["googleSearchRetrieval"],PV(t,o)),p(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(e,["urlContext"])!=null&&g(n,["urlContext"],UV());const u=p(e,["codeExecution"]);return u!=null&&g(n,["codeExecution"],u),n}function zV(t,e){const n={},i=p(e,["handle"]);if(i!=null&&g(n,["handle"],i),p(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function cC(){return{}}function VV(t,e){const n={},i=p(e,["disabled"]);i!=null&&g(n,["disabled"],i);const r=p(e,["startOfSpeechSensitivity"]);r!=null&&g(n,["startOfSpeechSensitivity"],r);const o=p(e,["endOfSpeechSensitivity"]);o!=null&&g(n,["endOfSpeechSensitivity"],o);const s=p(e,["prefixPaddingMs"]);s!=null&&g(n,["prefixPaddingMs"],s);const u=p(e,["silenceDurationMs"]);return u!=null&&g(n,["silenceDurationMs"],u),n}function FV(t,e){const n={},i=p(e,["automaticActivityDetection"]);i!=null&&g(n,["automaticActivityDetection"],VV(t,i));const r=p(e,["activityHandling"]);r!=null&&g(n,["activityHandling"],r);const o=p(e,["turnCoverage"]);return o!=null&&g(n,["turnCoverage"],o),n}function BV(t,e){const n={},i=p(e,["targetTokens"]);return i!=null&&g(n,["targetTokens"],i),n}function $V(t,e){const n={},i=p(e,["triggerTokens"]);i!=null&&g(n,["triggerTokens"],i);const r=p(e,["slidingWindow"]);return r!=null&&g(n,["slidingWindow"],BV(t,r)),n}function HV(t,e){const n={},i=p(e,["proactiveAudio"]);return i!=null&&g(n,["proactiveAudio"],i),n}function GV(t,e,n){const i={},r=p(e,["generationConfig"]);n!==void 0&&r!=null&&g(n,["setup","generationConfig"],r);const o=p(e,["responseModalities"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig","responseModalities"],o);const s=p(e,["temperature"]);n!==void 0&&s!=null&&g(n,["setup","generationConfig","temperature"],s);const u=p(e,["topP"]);n!==void 0&&u!=null&&g(n,["setup","generationConfig","topP"],u);const d=p(e,["topK"]);n!==void 0&&d!=null&&g(n,["setup","generationConfig","topK"],d);const f=p(e,["maxOutputTokens"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","maxOutputTokens"],f);const h=p(e,["mediaResolution"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","mediaResolution"],h);const v=p(e,["seed"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","seed"],v);const T=p(e,["speechConfig"]);n!==void 0&&T!=null&&g(n,["setup","generationConfig","speechConfig"],AV(t,iy(t,T)));const C=p(e,["enableAffectiveDialog"]);n!==void 0&&C!=null&&g(n,["setup","generationConfig","enableAffectiveDialog"],C);const S=p(e,["systemInstruction"]);n!==void 0&&S!=null&&g(n,["setup","systemInstruction"],kV(t,En(t,S)));const E=p(e,["tools"]);if(n!==void 0&&E!=null){let R=gu(t,E);Array.isArray(R)&&(R=R.map(B=>jV(t,hu(t,B)))),g(n,["setup","tools"],R)}const _=p(e,["sessionResumption"]);n!==void 0&&_!=null&&g(n,["setup","sessionResumption"],zV(t,_));const I=p(e,["inputAudioTranscription"]);n!==void 0&&I!=null&&g(n,["setup","inputAudioTranscription"],cC());const D=p(e,["outputAudioTranscription"]);n!==void 0&&D!=null&&g(n,["setup","outputAudioTranscription"],cC());const M=p(e,["realtimeInputConfig"]);n!==void 0&&M!=null&&g(n,["setup","realtimeInputConfig"],FV(t,M));const P=p(e,["contextWindowCompression"]);n!==void 0&&P!=null&&g(n,["setup","contextWindowCompression"],$V(t,P));const L=p(e,["proactivity"]);return n!==void 0&&L!=null&&g(n,["setup","proactivity"],HV(t,L)),i}function qV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],bt(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],GV(t,r,n)),n}function WV(t,e,n){const i={},r=p(e,["expireTime"]);n!==void 0&&r!=null&&g(n,["expireTime"],r);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const s=p(e,["uses"]);n!==void 0&&s!=null&&g(n,["uses"],s);const u=p(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&g(n,["bidiGenerateContentSetup"],qV(t,u));const d=p(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&g(n,["fieldMask"],d),i}function YV(t,e){const n={},i=p(e,["config"]);return i!=null&&g(n,["config"],WV(t,i,n)),n}function ZV(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["name"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KV(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(o=>`${n}.${o}`);e.push(...r)}else e.push(n)}return e.join(",")}function XV(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const o=KV(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(f=>s.includes(f)?`generationConfig.${f}`:f));const d=[];o&&d.push(o),u.length>0&&d.push(...u),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class JV extends Al{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=YV(this.apiClient,e);o=Ve("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const d=XV(u,e.config);return r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>ZV(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QV(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],i);const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function eF(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);return n!==void 0&&s!=null&&g(n,["_query","filter"],s),i}function tF(t,e){const n={},i=p(e,["config"]);return i!=null&&g(n,["config"],eF(t,i,n)),n}function nF(t,e){const n={},i=p(e,["textInput"]);i!=null&&g(n,["textInput"],i);const r=p(e,["output"]);return r!=null&&g(n,["output"],r),n}function iF(t,e){const n={};if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=p(e,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>nF(t,o))),g(n,["examples","examples"],r)}return n}function rF(t,e,n){const i={};if(p(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(e,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&g(n,["displayName"],r),p(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(e,["epochCount"]);n!==void 0&&o!=null&&g(n,["tuningTask","hyperparameters","epochCount"],o);const s=p(e,["learningRateMultiplier"]);if(s!=null&&g(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),p(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=p(e,["batchSize"]);n!==void 0&&u!=null&&g(n,["tuningTask","hyperparameters","batchSize"],u);const d=p(e,["learningRate"]);return n!==void 0&&d!=null&&g(n,["tuningTask","hyperparameters","learningRate"],d),i}function aF(t,e){const n={},i=p(e,["baseModel"]);i!=null&&g(n,["baseModel"],i);const r=p(e,["trainingDataset"]);r!=null&&g(n,["tuningTask","trainingData"],iF(t,r));const o=p(e,["config"]);return o!=null&&g(n,["config"],rF(t,o,n)),n}function oF(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],i);const r=p(e,["config"]);return r!=null&&g(n,["config"],r),n}function lF(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);return n!==void 0&&s!=null&&g(n,["_query","filter"],s),i}function sF(t,e){const n={},i=p(e,["config"]);return i!=null&&g(n,["config"],lF(t,i,n)),n}function uF(t,e,n){const i={},r=p(e,["gcsUri"]);if(n!==void 0&&r!=null&&g(n,["supervisedTuningSpec","trainingDatasetUri"],r),p(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function cF(t,e){const n={},i=p(e,["gcsUri"]);return i!=null&&g(n,["validationDatasetUri"],i),n}function dF(t,e,n){const i={},r=p(e,["validationDataset"]);n!==void 0&&r!=null&&g(n,["supervisedTuningSpec"],cF(t,r));const o=p(e,["tunedModelDisplayName"]);n!==void 0&&o!=null&&g(n,["tunedModelDisplayName"],o);const s=p(e,["description"]);n!==void 0&&s!=null&&g(n,["description"],s);const u=p(e,["epochCount"]);n!==void 0&&u!=null&&g(n,["supervisedTuningSpec","hyperParameters","epochCount"],u);const d=p(e,["learningRateMultiplier"]);n!==void 0&&d!=null&&g(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const f=p(e,["exportLastCheckpointOnly"]);n!==void 0&&f!=null&&g(n,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const h=p(e,["adapterSize"]);if(n!==void 0&&h!=null&&g(n,["supervisedTuningSpec","hyperParameters","adapterSize"],h),p(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function fF(t,e){const n={},i=p(e,["baseModel"]);i!=null&&g(n,["baseModel"],i);const r=p(e,["trainingDataset"]);r!=null&&g(n,["supervisedTuningSpec","trainingDatasetUri"],uF(t,r,n));const o=p(e,["config"]);return o!=null&&g(n,["config"],dF(t,o,n)),n}function mF(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["model"],i);const r=p(e,["name"]);return r!=null&&g(n,["endpoint"],r),n}function _w(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["name"],i);const r=p(e,["state"]);r!=null&&g(n,["state"],uw(t,r));const o=p(e,["createTime"]);o!=null&&g(n,["createTime"],o);const s=p(e,["tuningTask","startTime"]);s!=null&&g(n,["startTime"],s);const u=p(e,["tuningTask","completeTime"]);u!=null&&g(n,["endTime"],u);const d=p(e,["updateTime"]);d!=null&&g(n,["updateTime"],d);const f=p(e,["description"]);f!=null&&g(n,["description"],f);const h=p(e,["baseModel"]);h!=null&&g(n,["baseModel"],h);const v=p(e,["_self"]);v!=null&&g(n,["tunedModel"],mF(t,v));const T=p(e,["distillationSpec"]);T!=null&&g(n,["distillationSpec"],T);const C=p(e,["experiment"]);C!=null&&g(n,["experiment"],C);const S=p(e,["labels"]);S!=null&&g(n,["labels"],S);const E=p(e,["pipelineJob"]);E!=null&&g(n,["pipelineJob"],E);const _=p(e,["serviceAccount"]);_!=null&&g(n,["serviceAccount"],_);const I=p(e,["tunedModelDisplayName"]);return I!=null&&g(n,["tunedModelDisplayName"],I),n}function pF(t,e){const n={},i=p(e,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const r=p(e,["tunedModels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>_w(t,s))),g(n,["tuningJobs"],o)}return n}function hF(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["name"],i);const r=p(e,["metadata"]);r!=null&&g(n,["metadata"],r);const o=p(e,["done"]);o!=null&&g(n,["done"],o);const s=p(e,["error"]);return s!=null&&g(n,["error"],s),n}function gF(t,e){const n={},i=p(e,["checkpointId"]);i!=null&&g(n,["checkpointId"],i);const r=p(e,["epoch"]);r!=null&&g(n,["epoch"],r);const o=p(e,["step"]);o!=null&&g(n,["step"],o);const s=p(e,["endpoint"]);return s!=null&&g(n,["endpoint"],s),n}function yF(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],i);const r=p(e,["endpoint"]);r!=null&&g(n,["endpoint"],r);const o=p(e,["checkpoints"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>gF(t,u))),g(n,["checkpoints"],s)}return n}function lg(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["name"],i);const r=p(e,["state"]);r!=null&&g(n,["state"],uw(t,r));const o=p(e,["createTime"]);o!=null&&g(n,["createTime"],o);const s=p(e,["startTime"]);s!=null&&g(n,["startTime"],s);const u=p(e,["endTime"]);u!=null&&g(n,["endTime"],u);const d=p(e,["updateTime"]);d!=null&&g(n,["updateTime"],d);const f=p(e,["error"]);f!=null&&g(n,["error"],f);const h=p(e,["description"]);h!=null&&g(n,["description"],h);const v=p(e,["baseModel"]);v!=null&&g(n,["baseModel"],v);const T=p(e,["tunedModel"]);T!=null&&g(n,["tunedModel"],yF(t,T));const C=p(e,["supervisedTuningSpec"]);C!=null&&g(n,["supervisedTuningSpec"],C);const S=p(e,["tuningDataStats"]);S!=null&&g(n,["tuningDataStats"],S);const E=p(e,["encryptionSpec"]);E!=null&&g(n,["encryptionSpec"],E);const _=p(e,["partnerModelTuningSpec"]);_!=null&&g(n,["partnerModelTuningSpec"],_);const I=p(e,["distillationSpec"]);I!=null&&g(n,["distillationSpec"],I);const D=p(e,["experiment"]);D!=null&&g(n,["experiment"],D);const M=p(e,["labels"]);M!=null&&g(n,["labels"],M);const P=p(e,["pipelineJob"]);P!=null&&g(n,["pipelineJob"],P);const L=p(e,["serviceAccount"]);L!=null&&g(n,["serviceAccount"],L);const R=p(e,["tunedModelDisplayName"]);return R!=null&&g(n,["tunedModelDisplayName"],R),n}function vF(t,e){const n={},i=p(e,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const r=p(e,["tuningJobs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>lg(t,s))),g(n,["tuningJobs"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xF extends Al{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new af(vl.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let r="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?r=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(r=i.name.split("/operations/")[0]),{name:r,state:Jh.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=oF(this.apiClient,e);return u=Ve("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>lg(this.apiClient,h))}else{const f=QV(this.apiClient,e);return u=Ve("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>_w(this.apiClient,h))}}async listInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=sF(this.apiClient,e);return u=Ve("tuningJobs",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const v=vF(this.apiClient,h),T=new zT;return Object.assign(T,v),T})}else{const f=tF(this.apiClient,e);return u=Ve("tunedModels",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const v=pF(this.apiClient,h),T=new zT;return Object.assign(T,v),T})}}async tuneInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=fF(this.apiClient,e);return o=Ve("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>lg(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=aF(this.apiClient,e);return o=Ve("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>hF(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bF{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const TF=1024*1024*8,CF=3,SF=1e3,EF=2,oh="x-goog-upload-status";async function wF(t,e,n){var i,r,o;let s=0,u=0,d=new Qh(new Response),f="upload";for(s=t.size;u<s;){const v=Math.min(TF,s-u),T=t.slice(u,u+v);u+v>=s&&(f+=", finalize");let C=0,S=SF;for(;C<CF&&(d=await n.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(v)}}}),!(!((i=d==null?void 0:d.headers)===null||i===void 0)&&i[oh]));)C++,await _F(S),S=S*EF;if(u+=v,((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[oh])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(d==null?void 0:d.json());if(((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[oh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function AF(t){return{size:t.size,type:t.type}}function _F(t){return new Promise(e=>setTimeout(e,t))}class NF{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wF(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await AF(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IF{create(e,n,i){return new DF(e,n,i)}}class DF{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dC="x-goog-api-key";class kF{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(dC)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(dC,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MF="gl-node/";class RF{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=MP(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new kF(this.apiKey);this.apiClient=new Yz({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:MF+"web",uploader:new NF,downloader:new bF}),this.models=new dV(this.apiClient),this.live=new oV(this.apiClient,r,new IF),this.chats=new a7(this.models,this.apiClient),this.caches=new n7(this.apiClient),this.files=new v7(this.apiClient),this.operations=new CV(this.apiClient),this.authTokens=new JV(this.apiClient),this.tunings=new xF(this.apiClient)}}const LF="PLACEHOLDER_API_KEY";let ru=null;try{ru=new RF({apiKey:LF})}catch(t){console.error("Σφάλμα κατά την αρχικοποίηση του GoogleGenAI client:",t),ru=null}const Nl=()=>!!ru;async function yu(t,e){if(!ru)return"Η υπηρεσία AI δεν είναι διαθέσιμη (λείπει το API Key).";const{maxRetries:n=3,initialDelay:i=1e3,isJsonExpected:r=!1,systemInstruction:o}=e||{};let s=0;for(;s<n;){try{let d=(await ru.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:t,config:{...o&&{systemInstruction:o},...r&&{responseMimeType:"application/json"}}})).text;if(!d||d.trim()===""){if(s===n-1)return r?JSON.stringify({error:"Η υπηρεσία ΑΙ δεν παρήγαγε περιεχόμενο."}):"Η υπηρεσία ΑΙ δεν παρήγαγε περιεχόμενο."}else{if(r){let f=d.trim();const h=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,v=f.match(h);v&&v[2]&&(f=v[2].trim());try{return JSON.parse(f)}catch(T){if(console.error("Σφάλμα ανάλυσης JSON από το Gemini API:",T,"Original text:",d),s===n-1)return JSON.stringify({error:"Σφάλμα ανάλυσης JSON από την υπηρεσία AI.",details:d})}}return d}}catch(u){if(console.error(`Σφάλμα κατά την κλήση του Gemini API (προσπάθεια ${s+1}/${n}):`,u),u.status===429||u.status&&u.status>=500){if(s===n-1)return r?JSON.stringify({error:`Σφάλμα ${u.status} από την υπηρεσία AI μετά από πολλαπλές προσπάθειες.`}):`Σφάλμα ${u.status} από την υπηρεσία AI μετά από πολλαπλές προσπάθειες.`;const d=i*Math.pow(2,s);console.log(`Αναμονή ${d}ms πριν την επόμενη προσπάθεια...`),await new Promise(f=>setTimeout(f,d))}else{const d=u.message||"Παρουσιάστηκε ένα άγνωστο σφάλμα κατά την επικοινωνία με την υπηρεσία AI.";return r?JSON.stringify({error:d}):d}}s++}return r?JSON.stringify({error:"Ξεπεράστηκε ο μέγιστος αριθμός προσπαθειών για την υπηρεσία AI."}):"Ξεπεράστηκε ο μέγιστος αριθμός προσπαθειών για την υπηρεσία AI."}async function Nw(t){if(!t.trim())return"Δεν υπάρχει κείμενο για σύνοψη.";const e=`Παρακαλώ συνόψισε το παρακάτω κείμενο στα Ελληνικά, με σαφήνεια και συντομία, εστιάζοντας στα βασικά σημεία. Κράτα τη σύνοψη σε 2-5 προτάσεις, αν είναι δυνατόν. Το κείμενο είναι:

"${t}"`;return yu(e)}async function OF(t){const e=[];if(t.name&&e.push(`Όνομα/Επωνυμία: ${t.name}`),t.email&&e.push(`Email: ${t.email}`),t.roles&&t.roles.length>0&&e.push(`Ρόλοι: ${t.roles.join(", ")}`),e.length===0)return"Δεν υπάρχουν αρκετά δεδομένα για κατηγοριοποίηση της επαφής.";const n=`Κατηγοριοποίησε την παρακάτω επαφή. Πρότεινε 1-3 σχετικές κατηγορίες (π.χ., "Δυνητικός Πελάτης", "Προμηθευτής", "Συνεργάτης", "Επενδυτής Ακινήτων", "Νομικός Σύμβουλος", "Υπηρεσία Delivery").
Εστίασε στην κύρια φύση της επαφής με βάση τα παρεχόμενα στοιχεία.
Επίστρεψε τις κατηγορίες σε μορφή JSON array από strings. Παράδειγμα: ["Κατηγορία 1", "Κατηγορία 2"]

Στοιχεία Επαφής:
${e.join(`
`)}
`,i=await yu(n,{isJsonExpected:!0,systemInstruction:"Είσαι ένας ευφυής βοηθός κατηγοριοποίησης επαφών CRM. Στόχος σου είναι να προτείνεις σχετικές και χρήσιμες κατηγορίες."});return typeof i=="string"||Array.isArray(i)&&i.every(r=>typeof r=="string")?i:i&&i.error?JSON.stringify(i):(console.warn("[categorizeContactWithAI] Gemini API returned unexpected format:",i),"Αποτυχία κατηγοριοποίησης επαφής: μη αναμενόμενη απόκριση.")}async function PF(t){const e=t.map(r=>r.content).join(`
---
`);if(!e.trim())return"Δεν υπάρχουν σημειώσεις για ανάλυση συναισθήματος.";const n=`Ανάλυσε το συναίσθημα από τις παρακάτω σημειώσεις. Επίστρεψε ένα JSON object με "overallSentiment" (ένα από: "positive", "negative", "neutral") και προαιρετικά "details" με μια σύντομη αιτιολόγηση στα Ελληνικά.
Παράδειγμα απόκρισης: {"overallSentiment": "negative", "details": "Ο πελάτης εκφράζει δυσαρέσκεια για την καθυστέρηση."}

Σημειώσεις:
---
${e}
---
`,i=await yu(n,{isJsonExpected:!0,systemInstruction:"Είσαι ειδικός στην ανάλυση συναισθήματος κειμένου στα Ελληνικά. Προσδιόρισε το κύριο συναίσθημα."});return typeof i=="string"?i:i&&i.overallSentiment&&typeof i.overallSentiment=="string"?["positive","negative","neutral"].includes(i.overallSentiment.toLowerCase())?i:(console.warn("[analyzeSentimentFromNotes] Gemini API returned an invalid sentiment value:",i.overallSentiment),"Αποτυχία ανάλυσης συναισθήματος: μη έγκυρη τιμή συναισθήματος."):i&&i.error?JSON.stringify(i):"Αποτυχία ανάλυσης συναισθήματος: μη αναμενόμενη απόκριση."}async function UF(t){var r,o;const e=((r=t.notes)==null?void 0:r.map(s=>s.content).join(`
---
`))||"Καμία σημείωση.";if(!((o=t.notes)!=null&&o.length))return"Δεν υπάρχει ιστορικό επικοινωνίας για προτάσεις follow-up.";const n=`Με βάση τις παρακάτω σημειώσεις, πρότεινε 2-3 έξυπνες και συγκεκριμένες ενέργειες follow-up στα Ελληνικά.
Οι προτάσεις πρέπει να είναι πρακτικές και σχετικές με το περιεχόμενο των σημειώσεων.
Επίστρεψε μια λίστα από συμβουλές σε μορφή JSON array από strings. Παράδειγμα: ["Στείλτε email υπενθύμισης σχετικά με την προσφορά.", "Προγραμματίστε μια σύντομη τηλεφωνική κλήση για να συζητήσετε τις ανησυχίες του πελάτη."]

Σημειώσεις:
---
${e}
---
`,i=await yu(n,{isJsonExpected:!0,systemInstruction:"Είσαι βοηθός προγραμματισμού εργασιών και follow-up. Δίνεις σαφείς και πρακτικές συμβουλές."});return typeof i=="string"||Array.isArray(i)&&i.every(s=>typeof s=="string")?i:i&&i.error?JSON.stringify(i):"Αποτυχία πρότασης ενεργειών follow-up: μη αναμενόμενη απόκριση."}async function jF(t,e,n){const i=`
Παρακαλώ, σύνταξε ένα επαγγελματικό και φιλικό email follow-up στα Ελληνικά, βασισμένο στην παρακάτω καταγραφή κλήσης.
Το email θα πρέπει να απευθύνεται στον/στην ${e}.
Στόχος είναι η σύνοψη των βασικών σημείων της κλήσης και η επιβεβαίωση τυχόν επόμενων βημάτων.

Περιεχόμενο Καταγραφής Κλήσης:
---
${t}
---

Οδηγίες για το Email:
1.  Ξεκίνα με έναν χαιρετισμό (π.χ., "Αγαπητέ/ή κ./κα. ${e},").
2.  Αναφέρσου στην πρόσφατη τηλεφωνική μας συνομιλία.
3.  Συνόψισε 1-3 βασικά σημεία ή συμφωνίες από την κλήση.
4.  Αν υπάρχουν επόμενα βήματα που συμφωνήθηκαν, ανέφερέ τα με σαφήνεια.
5.  Ολοκλήρωσε με έναν ευγενικό χαιρετισμό και την υπογραφή σου (π.χ., "Με εκτίμηση,
[Το Όνομά Σου]").

Παράδειγμα Δομής:
Θέμα: Follow-up σχετικά με τη συνομιλία μας

Αγαπητέ/ή κ./κα. ${e},

Σε συνέχεια της τηλεφωνικής μας συνομιλίας νωρίτερα, θα ήθελα να επιβεβαιώσω τα εξής:
- [Σημείο 1]
- [Σημείο 2]

Όπως συμφωνήσαμε, τα επόμενα βήματα είναι:
- [Επόμενο Βήμα 1]

Αναμένω με ενδιαφέρον την περαιτέρω συνεργασία μας.

Με εκτίμηση,
[Το Όνομά Σου]
[Ο Τίτλος Σου]

Παρακαλώ, δημιούργησε μόνο το περιεχόμενο του email (Θέμα και κυρίως σώμα). Το θέμα πρέπει να είναι στην πρώτη γραμμή, ακολουθούμενο από "Θέμα: ".
`;return yu(i,{systemInstruction:"Είσαι ένας βοηθός σύνταξης επαγγελματικών email. Δημιουργείς πλήρη και καλογραμμένα emails."})}const ly=De.memo(({entityId:t,entityType:e,contactDisplayName:n,isVoipReady:i,anyOperationLoadingOverall:r})=>{const o=sa(H=>H.getNotesByEntity),s=N.useMemo(()=>o(t,e),[o,t,e]),{handleAddNote:u,isLoadingAddNote:d,handleDeleteNote:f,isLoadingDeleteNote:h,handleUpdateNote:v,isLoadingUpdateNote:T}=NP(),[C,S]=N.useState(""),[E,_]=N.useState({showOnlyPinned:!1,showOnlyMyNotes:!1,filterByTag:""}),[I,D]=N.useState(!1),[M,P]=N.useState(null),[L,R]=N.useState(!1),[B,q]=N.useState(null),[$,j]=N.useState(!1);N.useEffect(()=>{j(Nl())},[]),N.useEffect(()=>{S(""),_({showOnlyPinned:!1,showOnlyMyNotes:!1,filterByTag:""}),D(!1),P(null),R(!1),q(null)},[t]);const Z=async H=>window.confirm(U.deleteNoteConfirmation||"Είστε σίγουροι ότι θέλετε να διαγράψετε αυτή τη σημείωση;")?await f(H):!1,ne=async H=>{H&&await v(H.id,n,{pinned:!H.pinned})},ae=N.useMemo(()=>{let H=[...s];if(C.trim()){const ie=C.toLowerCase();H=H.filter(O=>O.content.toLowerCase().includes(ie)||O.author&&O.author.displayName.toLowerCase().includes(ie))}if(E.showOnlyPinned&&(H=H.filter(ie=>ie.pinned)),E.showOnlyMyNotes&&(H=H.filter(ie=>ie.author.displayName==="Εγώ")),E.filterByTag.trim()){const ie=E.filterByTag.toLowerCase();H=H.filter(O=>O.tags&&O.tags.some(ve=>ve.toLowerCase().includes(ie)))}return H.sort((ie,O)=>{if(ie.pinned&&!O.pinned)return-1;if(!ie.pinned&&O.pinned)return 1;const ve=new Date(ie.updatedAt||ie.createdAt||0).getTime();return new Date(O.updatedAt||O.createdAt||0).getTime()-ve})},[s,C,E]),ee=()=>{S(""),_({showOnlyPinned:!1,showOnlyMyNotes:!1,filterByTag:""})},Q=async()=>{if(!$||ae.length===0)return;R(!0),q(null),P(null),D(!0);const H=ae.map(O=>O.content).join(`

---

`),ie=await Nw(H);ie.startsWith("Η υπηρεσία AI δεν είναι διαθέσιμη")||ie.startsWith("Σφάλμα κατά την επικοινωνία")||ie.startsWith("Παρουσιάστηκε ένα άγνωστο σφάλμα")||ie.startsWith("Δεν υπάρχει κείμενο για σύνοψη")||ie.startsWith("Η υπηρεσία ΑΙ δεν παρήγαγε σύνοψη")?(q(ie),P(null)):(P(ie),q(null)),R(!1)},z=()=>{D(!1)},G=h||T||L||!!r,re=G,de=!$||ae.length===0||G;let w=U.aiSummaryButtonLabel;return $?ae.length===0&&(w=U.noNotesToSummarizeTooltip):w=U.aiServiceUnavailableTooltip,y.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[y.jsxs("h4",{className:"text-[var(--font-size-sm)] font-[var(--font-weight-semibold)] text-gray-300",children:[U.notesCardLabel,":"]}),y.jsx(ht,{content:w,position:"top",offsetValue:4,children:y.jsx(we,{variant:"ghost",size:"sm",onClick:Q,disabled:de,isLoading:L,leftIcon:y.jsx(me,{name:"sparkles",size:"sm"}),className:"!py-1 !px-2 text-xs",children:U.aiSummaryButtonLabel})})]}),y.jsx(_P,{searchTerm:C,onSearchTermChange:S,filterCriteria:E,onFilterCriteriaChange:_,onClearFilters:ee,disabled:G}),ae&&ae.length>0?y.jsx("div",{className:"space-y-2 mb-3",children:ae.map(H=>y.jsx(nw,{note:H,contactDisplayName:n,onUpdateNote:v,onDeleteNote:Z,onTogglePinNote:ne,anyOperationLoading:G},H.id))}):y.jsx("p",{className:"text-[var(--font-size-xs)] text-gray-500 mb-3",children:C||E.showOnlyPinned||E.showOnlyMyNotes||E.filterByTag?U.noNotesMatchFilters:U.noNotesYet}),y.jsx(iw,{entityId:t,entityType:e,contactDisplayName:n,isVoipReady:i,isLoadingAddNoteProp:d,disabledByParent:re,handleAddNote:u}),y.jsx(e5,{isOpen:I,onClose:z,summaryContent:M,error:B,isLoading:L})]})});ly.displayName="ContactNotesSection";class zF{constructor(e){this.config=e,this.systemName="mock",this.activeSessions=new Map,this.listeners=new Map,this.isAdapterConnected=!1,console.log("[MockAdapter] Initialized."),this.config={simulateDelayMs:500,...e}}get delay(){var e;return((e=this.config)==null?void 0:e.simulateDelayMs)||500}emit(e,n){const i=this.listeners.get(e);i&&i.forEach(r=>{try{r(n)}catch(o){console.error(`[MockAdapter] Error in listener for event "${e}":`,o)}})}on(e,n){var i;this.listeners.has(e)||this.listeners.set(e,[]),(i=this.listeners.get(e))==null||i.push(n)}off(e,n){const i=this.listeners.get(e);i&&this.listeners.set(e,i.filter(r=>r!==n))}async isConfigured(){return console.log("[MockAdapter] isConfigured called"),!0}async connect(){if(console.log("[MockAdapter] connect called"),this.isAdapterConnected){console.warn("[MockAdapter] Already connected.");return}return await new Promise(e=>setTimeout(e,this.delay/2)),this.isAdapterConnected=!0,this.emit("connected",{systemName:this.systemName}),console.log("[MockAdapter] Successfully connected."),Promise.resolve()}async disconnect(){if(console.log("[MockAdapter] disconnect called"),!this.isAdapterConnected){console.warn("[MockAdapter] Already disconnected.");return}return this.activeSessions.forEach(e=>{e.timers.forEach(clearTimeout)}),this.activeSessions.clear(),this.isAdapterConnected=!1,this.emit("adapterDisconnected",{systemName:this.systemName}),console.log("[MockAdapter] Successfully disconnected and cleared active sessions."),Promise.resolve()}updateSessionStatus(e,n,i){const r=this.activeSessions.get(e);if(r){r.session.status=n,r.session.lastStatusUpdate=new Date().toISOString(),n==="answered"&&!r.session.connectedTime&&(r.session.connectedTime=new Date().toISOString()),i&&Object.assign(r.session,i);const o={sessionId:e,status:n,call:this.mapSessionToCall(r.session)};this.emit("statusChange",o),console.log(`[MockAdapter] Session ${e} status changed to ${n}.`)}}mapSessionToCall(e){var i;const n=e.endTime&&e.startTime?Math.round((new Date(e.endTime).getTime()-new Date(e.startTime).getTime())/1e3):void 0;return{id:e.sessionId,from:e.from,to:e.to,status:e.status,direction:e.direction,startTime:e.startTime,connectedTime:e.connectedTime,endTime:e.endTime,durationSeconds:n,voipSystem:this.systemName,voipCallSid:e.sessionId,subject:e.subject,isMuted:!1,isOnHold:e.status==="on_hold",errorMessage:(i=e.error)==null?void 0:i.message,hangupReason:e.status==="failed"?"call_failed":e.status==="disconnected"?"unknown":void 0}}async initiateCall(e,n){if(!this.isAdapterConnected){const u={errorCode:"NOT_CONNECTED",message:"MockAdapter is not connected.",timestamp:new Date().toISOString()};return this.emit("error",{...u,eventType:"initiateCallError"}),u}console.log(`[MockAdapter] initiateCall to ${e}`,n||"");const i=`mock_out_${Ce()}`,r=new Date().toISOString(),o={sessionId:i,status:"initiating",startTime:r,lastStatusUpdate:r,voipSystem:this.systemName,targetNumber:e,from:"my_mock_line",to:e,direction:"outbound",subject:n==null?void 0:n.subject},s=[];return this.activeSessions.set(i,{session:o,timers:s}),this.updateSessionStatus(i,"initiating"),s.push(setTimeout(()=>{this.activeSessions.has(i)&&(this.updateSessionStatus(i,"ringing_outbound"),s.push(setTimeout(()=>{if(!this.activeSessions.has(i))return;this.updateSessionStatus(i,"answered");const u=(5+Math.random()*25)*1e3;s.push(setTimeout(()=>{this.activeSessions.has(i)&&this.endCall(i)},u))},this.delay*(2+Math.random()))))},this.delay*(1+Math.random()))),o}async answerCall(e){const n=this.activeSessions.get(e);if(!n||n.session.direction!=="inbound"){const r={errorCode:"SESSION_NOT_FOUND_OR_NOT_INBOUND",message:`Inbound session ${e} not found or not suitable for answering.`,timestamp:new Date().toISOString()};return this.emit("error",{...r,sessionId:e,eventType:"answerCallError"}),r}if(n.session.status!=="ringing_inbound"){const r={errorCode:"CALL_NOT_RINGING",message:`Inbound session ${e} is not in ringing state. Current: ${n.session.status}`,timestamp:new Date().toISOString()};return this.emit("error",{...r,sessionId:e,eventType:"answerCallError"}),r}n.timers.forEach(clearTimeout),n.timers.length=0,this.updateSessionStatus(e,"answered"),n.answeredRemotely=!0,console.log(`[MockAdapter] Inbound call ${e} answered by user.`);const i=(5+Math.random()*25)*1e3;return n.timers.push(setTimeout(()=>{this.activeSessions.has(e)&&this.endCall(e)},i)),Promise.resolve()}async rejectCall(e){const n=this.activeSessions.get(e);if(!n||n.session.direction!=="inbound"){const r={errorCode:"SESSION_NOT_FOUND_OR_NOT_INBOUND",message:`Inbound session ${e} not found or not suitable for rejecting.`,timestamp:new Date().toISOString()};return this.emit("error",{...r,sessionId:e,eventType:"rejectCallError"}),r}if(n.session.status!=="ringing_inbound"){const r={errorCode:"CALL_NOT_RINGING",message:`Inbound session ${e} is not in ringing state for rejection. Current: ${n.session.status}`,timestamp:new Date().toISOString()};return this.emit("error",{...r,sessionId:e,eventType:"rejectCallError"}),r}n.timers.forEach(clearTimeout),n.timers.length=0,n.session.endTime=new Date().toISOString(),this.updateSessionStatus(e,"missed");const i={sessionId:e,reason:"call_rejected",call:this.mapSessionToCall(n.session)};return this.emit("disconnected",i),this.activeSessions.delete(e),console.log(`[MockAdapter] Inbound call ${e} rejected by user.`),Promise.resolve()}async endCall(e){const n=this.activeSessions.get(e);if(!n){const o={errorCode:"SESSION_NOT_FOUND",message:`Session ${e} not found for ending.`,timestamp:new Date().toISOString()};return this.emit("error",{...o,sessionId:e,eventType:"endCallError"}),o}n.timers.forEach(clearTimeout),n.session.endTime=new Date().toISOString(),this.updateSessionStatus(e,"disconnected");let i="local_hangup";n.session.direction==="inbound"&&!n.answeredRemotely&&(i="missed");const r={sessionId:e,reason:i,call:this.mapSessionToCall(n.session)};return this.emit("disconnected",r),this.activeSessions.delete(e),console.log(`[MockAdapter] Session ${e} ended.`),Promise.resolve()}async getCallStatus(e){const n=this.activeSessions.get(e);return n?n.session.status:{errorCode:"SESSION_NOT_FOUND",message:`Session ${e} not found for getCallStatus.`,timestamp:new Date().toISOString()}}async muteCall(e,n){const i=this.activeSessions.get(e);if(!i||i.session.status!=="answered"){const r={errorCode:"CALL_NOT_ACTIVE",message:`Session ${e} not active for mute/unmute.`,timestamp:new Date().toISOString()};return this.emit("error",{...r,sessionId:e,eventType:"muteCallError"}),r}return console.log(`[MockAdapter] Session ${e} ${n?"muted":"unmuted"}.`),Promise.resolve()}async holdCall(e,n){const i=this.activeSessions.get(e);if(!i||i.session.status!=="answered"&&i.session.status!=="on_hold"){const r={errorCode:"CALL_NOT_ACTIVE",message:`Session ${e} not in a state to be held/unheld. Current: ${i.session.status}`,timestamp:new Date().toISOString()};return this.emit("error",{...r,sessionId:e,eventType:"holdCallError"}),r}return this.updateSessionStatus(e,n?"on_hold":"answered"),console.log(`[MockAdapter] Session ${e} ${n?"held":"unheld"}.`),Promise.resolve()}async sendDTMF(e,n){const i=this.activeSessions.get(e);if(!i||i.session.status!=="answered"){const r={errorCode:"CALL_NOT_ACTIVE",message:`Session ${e} not active for DTMF.`,timestamp:new Date().toISOString()};return this.emit("error",{...r,sessionId:e,eventType:"sendDTMFError"}),r}return console.log(`[MockAdapter] Session ${e} sending DTMF: ${n}.`),Promise.resolve()}simulateIncomingCall(e,n="mock_user_line_123",i){if(!this.isAdapterConnected)throw console.error("[MockAdapter] Cannot simulate incoming call: Adapter not connected."),new Error("Adapter not connected, cannot simulate incoming call.");const r=`mock_in_${Ce()}`,o=new Date().toISOString(),s={sessionId:r,status:"ringing_inbound",startTime:o,lastStatusUpdate:o,voipSystem:this.systemName,targetNumber:e,from:e,to:n,direction:"inbound",subject:i},u=[];this.activeSessions.set(r,{session:s,timers:u,answeredRemotely:!1});const d={sessionId:r,from:e,to:n,callDetails:{contactDisplayName:e,subject:i}};return this.emit("incomingCall",d),this.updateSessionStatus(r,"ringing_inbound"),u.push(setTimeout(()=>{const f=this.activeSessions.get(r);if(f&&f.session.status==="ringing_inbound"&&!f.answeredRemotely){console.log(`[MockAdapter] Simulating missed call for ${r}`),f.session.endTime=new Date().toISOString(),this.updateSessionStatus(r,"missed");const h={sessionId:r,reason:"missed",call:this.mapSessionToCall(f.session)};this.emit("disconnected",h),this.activeSessions.delete(r)}},15e3+Math.random()*5e3)),s}}let lh=!1;const Iw=()=>{const[t,e]=N.useState(Ha.getAdapters().length>0),{addOrUpdateActiveCall:n,setCurrentCallError:i}=Tn();return N.useEffect(()=>{let o=!0;return(async()=>{if(lh){o&&e(Ha.getAdapters().length>0);return}lh=!0,console.log("[useVoipHandler] Initializing VoIP system...");const u=new zF({simulateDelayMs:300});try{await u.connect(),o&&(await Ha.registerAdapter(u),console.log("[useVoipHandler] MockAdapter registered and connected via VoipManager."),e(!0))}catch(d){console.error("[useVoipHandler] Failed to initialize MockAdapter with VoipManager:",d),o&&(fe.error("Σφάλμα αρχικοποίησης συστήματος VoIP."),e(!1)),lh=!1}})(),()=>{o=!1}},[]),{startVoipCall:N.useCallback(async(o,s)=>{if(!t){fe.error("Το σύστημα VoIP δεν είναι έτοιμο."),console.warn("[useVoipHandler] VoIP system not ready (isVoipReady is false).");return}const u=fe.loading(`Γίνεται κλήση προς ${o.number}...`);try{const d=await Ha.startCall(o.number,{contactPhoneNumber:o,contact:s.contact,subject:s.subject});"sessionId"in d?(fe.success(`Η κλήση προς ${o.number} ξεκίνησε.`,{id:u}),i(null)):(fe.error(`${U.genericErrorNotification}: ${d.message}`,{id:u}),i(d))}catch(d){console.error("[useVoipHandler] VoIP Call Error:",d),fe.error("Παρουσιάστηκε σφάλμα κατά την προσπάθεια κλήσης.",{id:u});const f={errorCode:"VOIP_CALL_EXCEPTION_HOOK",message:d.message||"Άγνωστο σφάλμα VoIP κατά την έναρξη κλήσης.",timestamp:new Date().toISOString(),details:d};i(f)}},[i,t]),isVoipReady:t}},Dw=De.memo(({contact:t,containerClassName:e="bg-gray-800 p-4 sm:p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 ease-in-out transform hover:-translatey-1 font-[var(--font-sans)]"})=>{const n=Te(v=>v.setCurrentFormMode),i=Te(v=>v.openDeleteConfirmationModal),{startVoipCall:r,isVoipReady:o}=Iw();N.useEffect(()=>{console.log(`[ContactCard] VoIP Ready State: ${o}`)},[o]);const{displayName:s}=KS(t),u=()=>{n("edit")},d=()=>{i(t.id)},f=v=>{r(v,{contact:{id:t.id,contactType:t.contactType,displayName:s},subject:`Κλήση προς ${s}`})},h=!1;return y.jsxs("div",{className:e,children:[y.jsx(QM,{contact:t,onEditClick:u,onDeleteClick:d,anyOperationLoading:h}),y.jsx("div",{className:"border-b border-slate-700 my-4"}),y.jsx(ZS,{contact:t,onStartCall:f}),y.jsx(ly,{entityId:t.id,entityType:"contact",contactDisplayName:s,isVoipReady:o,anyOperationLoadingOverall:h})]})});Dw.displayName="ContactCard";const VF=()=>{const t=kt(i=>i.contacts),e=Te(i=>i.selectedContactId),n=t.find(i=>i.id===e);return n?y.jsxs("div",{className:"h-full",children:[" ",y.jsx(Dw,{contact:n,containerClassName:""})]}):(console.error("ContactDetailPage rendered without a selectedContact."),y.jsx("div",{className:"p-4 text-red-500 bg-slate-900 h-full flex items-center justify-center",children:"Σφάλμα: Δεν έχει επιλεγεί επαφή για προβολή λεπτομερειών."}))},FF="modulepreload",BF=function(t){return"/"+t},fC={},td=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let s=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=s(n.map(f=>{if(f=BF(f),f in fC)return;fC[f]=!0;const h=f.endsWith(".css"),v=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const T=document.createElement("link");if(T.rel=h?"stylesheet":FF,h||(T.as="script"),T.crossOrigin="",T.href=f,d&&T.setAttribute("nonce",d),document.head.appendChild(T),h)return new Promise((C,S)=>{T.addEventListener("load",C),T.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return r.then(s=>{for(const u of s||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},$F=t=>t!=null&&t.trim()?t.split(`
`).map(e=>e.trim()).filter(e=>e.includes(":")).map(e=>{const[n,...i]=e.split(":"),r=i.join(":").trim(),o=n.trim().toLowerCase(),s=Object.keys(Ga).find(u=>Ga[u].toLowerCase()===o||u.toLowerCase()===o);return s&&r?{platform:s,url:r}:null}).filter(e=>e!==null):[],HF=t=>!t||t.length===0?"":t.map(e=>`${Ga[e.platform]||e.platform}:${e.url}`).join(`
`),lt=t=>(t==null?void 0:t.trim())||void 0,mC=(t,e)=>{if(!t||t.length===0)return;let n=t;return n.length>0?n:void 0},GF=async(t,e)=>{let n;switch(e){case"naturalPerson":n=(await td(async()=>{const{NaturalPersonContactSchema:i}=await Promise.resolve().then(()=>nd);return{NaturalPersonContactSchema:i}},void 0)).NaturalPersonContactSchema;break;case"legalEntity":n=(await td(async()=>{const{LegalEntityContactSchema:i}=await Promise.resolve().then(()=>nd);return{LegalEntityContactSchema:i}},void 0)).LegalEntityContactSchema;break;case"publicService":n=(await td(async()=>{const{PublicServiceContactSchema:i}=await Promise.resolve().then(()=>nd);return{PublicServiceContactSchema:i}},void 0)).PublicServiceContactSchema;break;default:return console.error(`Unknown contact type for validation: ${e}`),{data:null,errors:{_form:[`Άκυρος τύπος επαφής για επικύρωση: ${Bi[e]||e}`]}}}try{return{data:await n.parseAsync(t),errors:null}}catch(i){return i.flatten&&typeof i.flatten=="function"?{data:null,errors:i.flatten().fieldErrors}:(console.error("Non-Zod validation error or Zod error without flatten:",i),{data:null,errors:{_form:["Παρουσιάστηκε ένα μη αναμενόμενο σφάλμα κατά την επικύρωση."]}})}},kw=t=>{const e={email:"",contactPhoneNumbers:[{id:Ce(),number:"",type:"mobile",isPrimary:!0,notes:"",protocols:["voice"]}],avatarUrl:"",roles:[],taxInfo:{afm:"",doy:""},addresses:[{id:Ce(),street:"",number:"",area:"",municipality:"",city:"",prefecture:"",country:"ΕΛΛΑΔΑ",postalCode:"",addressType:"home",isPrimary:!0}],socialMediaText:"",formErrors:null};if(t==="naturalPerson")return{...e,contactType:t,basicIdentity:{firstName:"",lastName:"",nickname:""},parentalInfo:{fatherName:"",motherName:""},dateOfBirth:"",identityCardInfo:{idNumber:"",issuingAuthority:"",dateOfIssue:"",placeOfBirth:""},professionalInfo:{profession:"",companyName:"",jobTitle:"",educationLevel:"",employmentStatus:void 0},maritalStatus:void 0,propertyAttributes:{isPropertyOwner:void 0,isLandParcelOwner:void 0,isTenant:void 0,isProspectiveBuyer:void 0,isProspectiveSeller:void 0}};const n={...e,contactType:t,name:""};return t==="legalEntity"?{...n,brandName:"",companyType:"",gemhNumber:"",parentCompany:""}:{...n,serviceType:"",directorate:"",department:""}},qF=t=>{var n,i;const e={contactType:t.contactType,email:t.email||"",contactPhoneNumbers:((n=t.contactPhoneNumbers)==null?void 0:n.map(r=>({...r,id:r.id||Ce()})))||[{id:Ce(),number:"",type:"mobile",isPrimary:!0,notes:"",protocols:["voice"]}],avatarUrl:t.avatarUrl||"",roles:t.roles||[],taxInfo:t.taxInfo?{afm:t.taxInfo.afm||"",doy:t.taxInfo.doy||""}:{afm:"",doy:""},addresses:((i=t.addresses)==null?void 0:i.map(r=>({...r,id:r.id||Ce()})))||[{id:Ce(),street:"",number:"",area:"",municipality:"",city:"",prefecture:"",country:"ΕΛΛΑΔΑ",postalCode:"",addressType:"home",isPrimary:!0}],socialMediaText:HF(t.socialMediaLinks),formErrors:null};return t.contactType==="naturalPerson"?{...e,basicIdentity:t.basicIdentity?{...t.basicIdentity}:{firstName:"",lastName:""},parentalInfo:t.parentalInfo?{...t.parentalInfo}:{},dateOfBirth:t.dateOfBirth||"",identityCardInfo:t.identityCardInfo?{...t.identityCardInfo}:{},professionalInfo:t.professionalInfo?{...t.professionalInfo}:{},maritalStatus:t.maritalStatus,propertyAttributes:t.propertyAttributes?{...t.propertyAttributes}:{}}:t.contactType==="legalEntity"?{...e,name:t.name||"",brandName:t.brandName||"",companyType:t.companyType||"",gemhNumber:t.gemhNumber||"",parentCompany:t.parentCompany||""}:{...e,name:t.name||"",serviceType:t.serviceType||"",directorate:t.directorate||"",department:t.department||""}},WF=async t=>{var o,s,u,d,f,h,v,T,C,S,E,_,I,D,M,P,L,R,B,q,$,j,Z,ne,ae,ee,Q,z;const e=$F(t.socialMediaText),n=t.contactPhoneNumbers.filter(G=>{var re;return(re=G.number)==null?void 0:re.trim()}).map(({...G})=>({...G,notes:lt(G.notes),label:lt(G.label),countryCode:lt(G.countryCode),extension:lt(G.extension)})),i=t.addresses.filter(G=>{var re,de,w;return((re=G.street)==null?void 0:re.trim())&&((de=G.city)==null?void 0:de.trim())&&((w=G.postalCode)==null?void 0:w.trim())}).map(({...G})=>({...G,area:lt(G.area),municipality:lt(G.municipality),prefecture:lt(G.prefecture)}));let r={contactType:t.contactType,email:lt(t.email),contactPhoneNumbers:mC(n),avatarUrl:lt(t.avatarUrl),roles:t.roles||[],taxInfo:(s=(o=t.taxInfo)==null?void 0:o.afm)!=null&&s.trim()||(d=(u=t.taxInfo)==null?void 0:u.doy)!=null&&d.trim()?{afm:lt(t.taxInfo.afm),doy:lt(t.taxInfo.doy)}:void 0,addresses:mC(i),socialMediaLinks:e.length>0?e:void 0};if(r.email===void 0&&t.contactType){const G=(await td(async()=>{const{BaseContactSchemaFields:re}=await Promise.resolve().then(()=>nd);return{BaseContactSchemaFields:re}},void 0)).BaseContactSchemaFields.email;G&&!G.isOptional()&&(r.email=t.email||"")}return t.contactType==="naturalPerson"?r={...r,basicIdentity:{firstName:((f=t.basicIdentity)==null?void 0:f.firstName)||"",lastName:((h=t.basicIdentity)==null?void 0:h.lastName)||"",nickname:lt((v=t.basicIdentity)==null?void 0:v.nickname)},parentalInfo:(C=(T=t.parentalInfo)==null?void 0:T.fatherName)!=null&&C.trim()||(E=(S=t.parentalInfo)==null?void 0:S.motherName)!=null&&E.trim()?{fatherName:lt(t.parentalInfo.fatherName),motherName:lt(t.parentalInfo.motherName)}:void 0,dateOfBirth:lt(t.dateOfBirth),identityCardInfo:(I=(_=t.identityCardInfo)==null?void 0:_.idNumber)!=null&&I.trim()||(M=(D=t.identityCardInfo)==null?void 0:D.issuingAuthority)!=null&&M.trim()||(L=(P=t.identityCardInfo)==null?void 0:P.dateOfIssue)!=null&&L.trim()||(B=(R=t.identityCardInfo)==null?void 0:R.placeOfBirth)!=null&&B.trim()?{...t.identityCardInfo,idNumber:lt(t.identityCardInfo.idNumber),issuingAuthority:lt(t.identityCardInfo.issuingAuthority),dateOfIssue:lt(t.identityCardInfo.dateOfIssue),placeOfBirth:lt(t.identityCardInfo.placeOfBirth)}:void 0,professionalInfo:($=(q=t.professionalInfo)==null?void 0:q.profession)!=null&&$.trim()||(j=t.professionalInfo)!=null&&j.employmentStatus||(ne=(Z=t.professionalInfo)==null?void 0:Z.companyName)!=null&&ne.trim()||(ee=(ae=t.professionalInfo)==null?void 0:ae.jobTitle)!=null&&ee.trim()||(z=(Q=t.professionalInfo)==null?void 0:Q.educationLevel)!=null&&z.trim()?{...t.professionalInfo,profession:lt(t.professionalInfo.profession),companyName:lt(t.professionalInfo.companyName),jobTitle:lt(t.professionalInfo.jobTitle),educationLevel:lt(t.professionalInfo.educationLevel)}:void 0,maritalStatus:t.maritalStatus||void 0,propertyAttributes:t.propertyAttributes?{isPropertyOwner:t.propertyAttributes.isPropertyOwner===void 0?void 0:!!t.propertyAttributes.isPropertyOwner,isLandParcelOwner:t.propertyAttributes.isLandParcelOwner===void 0?void 0:!!t.propertyAttributes.isLandParcelOwner,isTenant:t.propertyAttributes.isTenant===void 0?void 0:!!t.propertyAttributes.isTenant,isProspectiveBuyer:t.propertyAttributes.isProspectiveBuyer===void 0?void 0:!!t.propertyAttributes.isProspectiveBuyer,isProspectiveSeller:t.propertyAttributes.isProspectiveSeller===void 0?void 0:!!t.propertyAttributes.isProspectiveSeller}:void 0}:t.contactType==="legalEntity"?r={...r,name:t.name||"",brandName:lt(t.brandName),companyType:lt(t.companyType),gemhNumber:lt(t.gemhNumber),parentCompany:lt(t.parentCompany)}:r={...r,name:t.name||"",serviceType:lt(t.serviceType),directorate:lt(t.directorate),department:lt(t.department)},GF(r,t.contactType)},pC=t=>{const e=t.length>0?t:[{id:Ce(),number:"",type:"mobile",isPrimary:!0,protocols:["voice"]}];let n=!1;const i=e.map(r=>(r.isPrimary&&(n=!0),{...r,id:r.id||Ce()}));return!n&&i.length>0&&(i[0].isPrimary=!0),i},YF=(t=[])=>{const[e,n]=N.useState(()=>pC(t)),i=N.useCallback(()=>{n(u=>{const d={id:Ce(),number:"",type:"mobile",isPrimary:u.length===0,protocols:["voice"]};return[...u,d]})},[]),r=N.useCallback(u=>{n(d=>{var v;const f=(v=d[u])==null?void 0:v.isPrimary,h=d.filter((T,C)=>C!==u);return f&&h.length>0&&!h.some(T=>T.isPrimary)&&(h[0].isPrimary=!0),h})},[]),o=N.useCallback((u,d,f,h,v)=>{n(T=>{let C=T.map((S,E)=>{if(E!==u)return S;const _=JSON.parse(JSON.stringify(S));if(d.startsWith("voipIntegrationDetails.")){const I=d.split(".")[1];_.voipIntegrationDetails||(_.voipIntegrationDetails={}),h==="checkbox"?_.voipIntegrationDetails[I]=v:_.voipIntegrationDetails[I]=f}else{const I=d;if(h==="checkbox"&&I==="isPrimary")_.isPrimary=v;else if(I==="protocols"){const D=f;_.protocols||(_.protocols=[]),v?_.protocols.includes(D)||_.protocols.push(D):_.protocols=_.protocols.filter(M=>M!==D)}else _[I]=f}return _});return d==="isPrimary"&&v?C=C.map((S,E)=>({...S,isPrimary:E===u})):d==="isPrimary"&&!v&&!C.some(E=>E.isPrimary)&&C.length>0&&(C[0].isPrimary=!0),d!=="isPrimary"&&C.length>0&&!C.some(S=>S.isPrimary)&&(C[0].isPrimary=!0),C})},[]),s=N.useCallback(u=>{n(pC(u))},[]);return{phoneNumbers:e,addPhoneNumber:i,removePhoneNumber:r,updatePhoneNumberField:o,resetPhoneNumbers:s}},hC=t=>{const e=t.length>0?t:[{id:Ce(),street:"",number:"",city:"",postalCode:"",country:"ΕΛΛΑΔΑ",addressType:"home",isPrimary:!0}];let n=!1;const i=e.map(r=>(r.isPrimary&&(n=!0),{...r,id:r.id||Ce()}));return!n&&i.length>0&&(i[0].isPrimary=!0),i},ZF=(t=[])=>{const[e,n]=N.useState(()=>hC(t)),i=N.useCallback(()=>{n(u=>[...u,{id:Ce(),street:"",number:"",city:"",postalCode:"",country:"ΕΛΛΑΔΑ",addressType:"home",isPrimary:u.length===0}])},[]),r=N.useCallback(u=>{n(d=>{var v;const f=(v=d[u])==null?void 0:v.isPrimary,h=d.filter((T,C)=>C!==u);return f&&h.length>0&&!h.some(T=>T.isPrimary)&&(h[0].isPrimary=!0),h})},[]),o=N.useCallback((u,d,f,h,v)=>{n(T=>{let C=T.map((S,E)=>{if(E!==u)return S;const _={...S};return h==="checkbox"&&d==="isPrimary"?_.isPrimary=v:_[d]=f,_});return d==="isPrimary"&&v?C=C.map((S,E)=>({...S,isPrimary:E===u})):d==="isPrimary"&&!v&&!C.some(E=>E.isPrimary)&&C.length>0&&(C[0].isPrimary=!0),d!=="isPrimary"&&C.length>0&&!C.some(S=>S.isPrimary)&&(C[0].isPrimary=!0),C})},[]),s=N.useCallback(u=>{n(hC(u))},[]);return{addresses:e,addAddress:i,removeAddress:r,updateAddressField:o,resetAddresses:s}},sg=t=>{const e=kw(t),{contactPhoneNumbers:n,addresses:i,...r}=e;return r},KF=(t,e)=>{var n;switch(e.type){case"UPDATE_FIELD":{const{fieldName:r,fieldValue:o,fieldType:s,fieldChecked:u}=e;if(r.startsWith("contactPhoneNumbers[")||r.startsWith("addresses["))return console.warn(`[formReducer] Attempted to update array field '${r}' via main reducer. This should be handled by sub-hooks.`),t;const d=JSON.parse(JSON.stringify(t));if(d.formErrors&&d.formErrors[r]&&(delete d.formErrors[r],Object.keys(d.formErrors).length===0&&(d.formErrors=null)),r.includes(".")){const f=r.split(".")[0];d.formErrors&&d.formErrors[f]&&(delete d.formErrors[f],Object.keys(d.formErrors).length===0&&(d.formErrors=null))}if((n=d.formErrors)!=null&&n._form){const{_form:f,...h}=d.formErrors;d.formErrors=Object.keys(h).length>0?h:null}if(r==="roles")d.roles=o.split(",").map(f=>f.trim()).filter(f=>Object.keys(Vi).includes(f));else{if(r==="contactType")return t;if(r.startsWith("basicIdentity.")||r.startsWith("parentalInfo.")||r.startsWith("taxInfo.")||r.startsWith("identityCardInfo.")||r.startsWith("professionalInfo.")||r.startsWith("propertyAttributes.")){const[f,h]=r.split("."),v=f;d[v]||(d[v]={}),d[v]&&(s==="checkbox"&&v==="propertyAttributes"?d[v][h]=u:d[v][h]=o)}else d[r]=o}return d}case"SET_CONTACT_TYPE":return{...sg(e.payload),formErrors:null};case"INITIALIZE_FORM_BASE":return{...e.payload,formErrors:null};case"RESET_FORM_BASE":return{...sg(e.payload.contactType),formErrors:null};case"SET_FORM_ERRORS":return{...t,formErrors:e.payload};case"CLEAR_SPECIFIC_ERRORS":if(!t.formErrors)return t;const i={...t.formErrors};return e.payload.forEach(r=>delete i[r]),{...t,formErrors:Object.keys(i).length>0?i:null};default:return t}},XF=({initialContactType:t="naturalPerson",existingContact:e=null,onFormSubmit:n})=>{const i=(M,P)=>{if(M){const R=qF(M);return{phones:R.contactPhoneNumbers,addresses:R.addresses,baseState:(({contactPhoneNumbers:B,addresses:q,...$})=>$)(R)}}const L=kw(P||"naturalPerson");return{phones:L.contactPhoneNumbers,addresses:L.addresses,baseState:(({contactPhoneNumbers:R,addresses:B,...q})=>q)(L)}},r=i(e,t),[o,s]=N.useReducer(KF,r.baseState),u=YF(r.phones),d=ZF(r.addresses);N.useEffect(()=>{const M=i(e,t);u.resetPhoneNumbers(M.phones),d.resetAddresses(M.addresses),s(e?{type:"INITIALIZE_FORM_BASE",payload:M.baseState}:{type:"RESET_FORM_BASE",payload:{contactType:t}})},[e,t]);const f=N.useCallback(M=>{const{name:P,value:L,type:R}=M.target,B=M.target.checked,q=R==="checkbox"&&P.includes(".protocols")?M.target.value:L;if(P.startsWith("contactPhoneNumbers[")){const $=P.match(/\[(\d+)\]/);if($){const j=parseInt($[1]),Z=P.substring(P.indexOf("].")+2);u.updatePhoneNumberField(j,Z,q,R,B)}}else if(P.startsWith("addresses[")){const $=P.match(/\[(\d+)\]/);if($){const j=parseInt($[1]),Z=P.substring(P.indexOf("].")+2);d.updateAddressField(j,Z,q,R,B)}}else s({type:"UPDATE_FIELD",fieldName:P,fieldValue:q,fieldType:R,fieldChecked:B})},[u,d]),h=N.useCallback(()=>{u.addPhoneNumber(),s({type:"CLEAR_SPECIFIC_ERRORS",payload:["contactPhoneNumbers"]})},[u]),v=N.useCallback(M=>{var L;u.removePhoneNumber(M);const P=Object.keys(o.formErrors||{}).filter(R=>R.startsWith(`contactPhoneNumbers[${M}]`));(L=o.formErrors)!=null&&L.contactPhoneNumbers&&P.push("contactPhoneNumbers"),P.length>0&&s({type:"CLEAR_SPECIFIC_ERRORS",payload:P})},[u,o.formErrors]),T=N.useCallback(()=>{d.addAddress(),s({type:"CLEAR_SPECIFIC_ERRORS",payload:["addresses"]})},[d]),C=N.useCallback(M=>{var L;d.removeAddress(M);const P=Object.keys(o.formErrors||{}).filter(R=>R.startsWith(`addresses[${M}]`));(L=o.formErrors)!=null&&L.addresses&&P.push("addresses"),P.length>0&&s({type:"CLEAR_SPECIFIC_ERRORS",payload:P})},[d,o.formErrors]),S=N.useCallback(async M=>{M.preventDefault(),s({type:"SET_FORM_ERRORS",payload:null});const P={...o,contactPhoneNumbers:u.phoneNumbers,addresses:d.addresses,formErrors:o.formErrors},L=await WF(P);if(L.errors){s({type:"SET_FORM_ERRORS",payload:L.errors}),L.errors._form&&L.errors._form.length>0?fe.error(L.errors._form.join(`
`)):Object.keys(L.errors).length>0&&!L.errors._form&&fe.error(U.validationErrorNotification);return}L.data&&n(L.data,e==null?void 0:e.id)},[o,u.phoneNumbers,d.addresses,n,e]),E=N.useCallback(M=>{if(!e){sg(M),s({type:"RESET_FORM_BASE",payload:{contactType:M}});const P=i(null,M);u.resetPhoneNumbers(P.phones),d.resetAddresses(P.addresses)}},[e,u,d]),_=N.useCallback(M=>{const P=M.target.value;E(P)},[E]),I=N.useCallback(()=>{const M=i(e,t);u.resetPhoneNumbers(M.phones),d.resetAddresses(M.addresses),s(e?{type:"INITIALIZE_FORM_BASE",payload:M.baseState}:{type:"RESET_FORM_BASE",payload:{contactType:t}})},[t,e,u,d]);return{formState:{...o,contactPhoneNumbers:u.phoneNumbers,addresses:d.addresses},formErrors:o.formErrors,handleInputChange:f,handleSubmit:S,dispatch:s,addContactPhoneNumber:h,removeContactPhoneNumber:v,addAddress:T,removeAddress:C,handleSelectContactTypeChange:_,resetForm:I}},ua=De.forwardRef(({label:t,id:e,labelClassName:n="",checkboxClassName:i="",containerClassName:r="flex items-center",...o},s)=>y.jsxs("div",{className:r,children:[y.jsx("input",{type:"checkbox",id:e,className:`h-4 w-4 text-purple-600 border-gray-500 rounded focus:ring-purple-500 transition-colors duration-150 ease-in-out ${i}`,ref:s,"data-testid":o["data-testid"]||e||o.name,...o}),t&&y.jsx("label",{htmlFor:e,className:`ml-2 text-sm font-medium text-gray-300 ${n}`,children:t})]}));ua.displayName="Checkbox";const JF=[{key:"isPropertyOwner",labelKey:"isPropertyOwnerLabel"},{key:"isLandParcelOwner",labelKey:"isLandParcelOwnerLabel"},{key:"isTenant",labelKey:"isTenantLabel"},{key:"isProspectiveBuyer",labelKey:"isProspectiveBuyerLabel"},{key:"isProspectiveSeller",labelKey:"isProspectiveSellerLabel"}],QF=({formState:t,onChange:e,uiStrings:n,formErrors:i})=>{var r,o,s,u,d,f,h,v,T,C,S,E,_,I;return y.jsxs(y.Fragment,{children:[y.jsxs("fieldset",{className:"border border-gray-700 p-3 rounded-md space-y-3",children:[y.jsx("legend",{className:"text-gray-300 px-1",children:n.identityInfoSectionTitle}),y.jsx(Ee,{label:n.firstNameLabel,htmlFor:"basicIdentity.firstName",required:!0,validationError:i==null?void 0:i["basicIdentity.firstName"],children:y.jsx(Oe,{type:"text",name:"basicIdentity.firstName",value:((r=t.basicIdentity)==null?void 0:r.firstName)||"",onChange:e,required:!0,placeholder:n.firstNamePlaceholder})}),y.jsx(Ee,{label:n.lastNameLabel,htmlFor:"basicIdentity.lastName",required:!0,validationError:i==null?void 0:i["basicIdentity.lastName"],children:y.jsx(Oe,{type:"text",name:"basicIdentity.lastName",value:((o=t.basicIdentity)==null?void 0:o.lastName)||"",onChange:e,required:!0,placeholder:n.lastNamePlaceholder})}),y.jsx(Ee,{label:n.nicknameLabel,htmlFor:"basicIdentity.nickname",validationError:i==null?void 0:i["basicIdentity.nickname"],children:y.jsx(Oe,{type:"text",name:"basicIdentity.nickname",value:((s=t.basicIdentity)==null?void 0:s.nickname)||"",onChange:e,placeholder:n.nicknamePlaceholder})}),y.jsx(Ee,{label:n.dateOfBirthLabel,htmlFor:"dateOfBirth",validationError:i==null?void 0:i.dateOfBirth,children:y.jsx(Oe,{type:"date",name:"dateOfBirth",value:t.dateOfBirth||"",onChange:e})}),y.jsx(Ee,{label:n.fatherNameLabel,htmlFor:"parentalInfo.fatherName",validationError:i==null?void 0:i["parentalInfo.fatherName"],children:y.jsx(Oe,{type:"text",name:"parentalInfo.fatherName",value:((u=t.parentalInfo)==null?void 0:u.fatherName)||"",onChange:e,placeholder:n.fatherNamePlaceholder})}),y.jsx(Ee,{label:n.motherNameLabel,htmlFor:"parentalInfo.motherName",validationError:i==null?void 0:i["parentalInfo.motherName"],children:y.jsx(Oe,{type:"text",name:"parentalInfo.motherName",value:((d=t.parentalInfo)==null?void 0:d.motherName)||"",onChange:e,placeholder:n.motherNamePlaceholder})}),y.jsx(Ee,{label:n.idNumberLabel,htmlFor:"identityCardInfo.idNumber",validationError:i==null?void 0:i["identityCardInfo.idNumber"],children:y.jsx(Oe,{type:"text",name:"identityCardInfo.idNumber",value:((f=t.identityCardInfo)==null?void 0:f.idNumber)||"",onChange:e,placeholder:n.idNumberPlaceholder})}),y.jsx(Ee,{label:n.issuingAuthorityLabel,htmlFor:"identityCardInfo.issuingAuthority",validationError:i==null?void 0:i["identityCardInfo.issuingAuthority"],children:y.jsx(Oe,{type:"text",name:"identityCardInfo.issuingAuthority",value:((h=t.identityCardInfo)==null?void 0:h.issuingAuthority)||"",onChange:e,placeholder:n.issuingAuthorityPlaceholder})}),y.jsx(Ee,{label:n.dateOfIssueLabel,htmlFor:"identityCardInfo.dateOfIssue",validationError:i==null?void 0:i["identityCardInfo.dateOfIssue"],children:y.jsx(Oe,{type:"date",name:"identityCardInfo.dateOfIssue",value:((v=t.identityCardInfo)==null?void 0:v.dateOfIssue)||"",onChange:e})}),y.jsx(Ee,{label:n.placeOfBirthLabel,htmlFor:"identityCardInfo.placeOfBirth",validationError:i==null?void 0:i["identityCardInfo.placeOfBirth"],children:y.jsx(Oe,{type:"text",name:"identityCardInfo.placeOfBirth",value:((T=t.identityCardInfo)==null?void 0:T.placeOfBirth)||"",onChange:e,placeholder:n.placeOfBirthPlaceholder})}),y.jsx(Ee,{label:n.maritalStatusLabel,htmlFor:"maritalStatus",validationError:i==null?void 0:i.maritalStatus,children:y.jsxs(mi,{name:"maritalStatus",value:t.maritalStatus||"",onChange:e,children:[y.jsx("option",{value:"",children:"Επιλέξτε..."}),Object.keys(od).map(D=>y.jsx("option",{value:D,children:od[D]},D))]})})]}),y.jsxs("fieldset",{className:"border border-gray-700 p-3 rounded-md mt-4 space-y-3",children:[y.jsx("legend",{className:"text-gray-300 px-1",children:n.professionalInfoSectionTitle}),y.jsx(Ee,{label:n.professionLabel,htmlFor:"professionalInfo.profession",validationError:i==null?void 0:i["professionalInfo.profession"],children:y.jsx(Oe,{type:"text",name:"professionalInfo.profession",value:((C=t.professionalInfo)==null?void 0:C.profession)||"",onChange:e,placeholder:n.professionPlaceholder})}),y.jsx(Ee,{label:n.employmentStatusLabel,htmlFor:"professionalInfo.employmentStatus",validationError:i==null?void 0:i["professionalInfo.employmentStatus"],children:y.jsxs(mi,{name:"professionalInfo.employmentStatus",value:((S=t.professionalInfo)==null?void 0:S.employmentStatus)||"",onChange:e,children:[y.jsx("option",{value:"",children:"Επιλέξτε..."}),Object.keys(ad).map(D=>y.jsx("option",{value:D,children:ad[D]},D))]})}),y.jsx(Ee,{label:n.worksAtCompanyLabel,htmlFor:"professionalInfo.companyName",validationError:i==null?void 0:i["professionalInfo.companyName"],children:y.jsx(Oe,{type:"text",name:"professionalInfo.companyName",value:((E=t.professionalInfo)==null?void 0:E.companyName)||"",onChange:e,placeholder:n.worksAtCompanyPlaceholder})}),y.jsx(Ee,{label:n.jobTitleLabel,htmlFor:"professionalInfo.jobTitle",validationError:i==null?void 0:i["professionalInfo.jobTitle"],children:y.jsx(Oe,{type:"text",name:"professionalInfo.jobTitle",value:((_=t.professionalInfo)==null?void 0:_.jobTitle)||"",onChange:e,placeholder:n.jobTitlePlaceholder})}),y.jsx(Ee,{label:n.educationLevelLabel,htmlFor:"professionalInfo.educationLevel",validationError:i==null?void 0:i["professionalInfo.educationLevel"],children:y.jsx(Oe,{type:"text",name:"professionalInfo.educationLevel",value:((I=t.professionalInfo)==null?void 0:I.educationLevel)||"",onChange:e,placeholder:n.educationLevelPlaceholder})})]}),y.jsxs("fieldset",{className:"border border-gray-700 p-3 rounded-md mt-4 space-y-2",children:[y.jsx("legend",{className:"text-gray-300 px-1",children:n.propertyAttributesSectionTitle}),JF.map(({key:D,labelKey:M})=>{var P;return y.jsx(ua,{id:`propertyAttributes.${D}`,name:`propertyAttributes.${D}`,checked:((P=t.propertyAttributes)==null?void 0:P[D])||!1,onChange:e,label:n[M]},D)}),y.jsx(pa,{errors:i==null?void 0:i.propertyAttributes})]})]})},eB=({formState:t,onChange:e,uiStrings:n,formErrors:i})=>y.jsxs("fieldset",{className:"border border-gray-700 p-3 rounded-md space-y-3",children:[y.jsx("legend",{className:"text-gray-300 px-1",children:n.legalEntityInfoSectionTitle}),y.jsx(Ee,{label:n.entityNameLabel,htmlFor:"name",required:!0,validationError:i==null?void 0:i.name,children:y.jsx(Oe,{type:"text",name:"name",value:t.name||"",onChange:e,required:!0,placeholder:n.entityNamePlaceholder})}),y.jsx(Ee,{label:n.brandNameLabel,htmlFor:"brandName",validationError:i==null?void 0:i.brandName,children:y.jsx(Oe,{type:"text",name:"brandName",value:t.brandName||"",onChange:e,placeholder:n.brandNamePlaceholder})}),y.jsx(Ee,{label:n.companyTypeLabel,htmlFor:"companyType",validationError:i==null?void 0:i.companyType,children:y.jsx(Oe,{type:"text",name:"companyType",value:t.companyType||"",onChange:e,placeholder:n.companyTypePlaceholder})}),y.jsx(Ee,{label:n.gemhNumberLabel,htmlFor:"gemhNumber",validationError:i==null?void 0:i.gemhNumber,children:y.jsx(Oe,{type:"text",name:"gemhNumber",value:t.gemhNumber||"",onChange:e,placeholder:n.gemhNumberPlaceholder})}),y.jsx(Ee,{label:n.parentCompanyLabel,htmlFor:"parentCompany",validationError:i==null?void 0:i.parentCompany,children:y.jsx(Oe,{type:"text",name:"parentCompany",value:t.parentCompany||"",onChange:e,placeholder:n.parentCompanyPlaceholder})})]}),tB=({formState:t,onChange:e,uiStrings:n,formErrors:i})=>y.jsxs("fieldset",{className:"border border-gray-700 p-3 rounded-md space-y-3",children:[y.jsx("legend",{className:"text-gray-300 px-1",children:n.publicServiceInfoSectionTitle}),y.jsx(Ee,{label:n.entityNameLabel,htmlFor:"name",required:!0,validationError:i==null?void 0:i.name,children:y.jsx(Oe,{type:"text",name:"name",value:t.name||"",onChange:e,required:!0,placeholder:n.entityNamePlaceholder})}),y.jsx(Ee,{label:n.serviceTypeLabel,htmlFor:"serviceType",validationError:i==null?void 0:i.serviceType,children:y.jsx(Oe,{type:"text",name:"serviceType",value:t.serviceType||"",onChange:e,placeholder:n.serviceTypePlaceholder})}),y.jsx(Ee,{label:n.directorateLabel,htmlFor:"directorate",validationError:i==null?void 0:i.directorate,children:y.jsx(Oe,{type:"text",name:"directorate",value:t.directorate||"",onChange:e,placeholder:n.directoratePlaceholder})}),y.jsx(Ee,{label:n.departmentLabel,htmlFor:"department",validationError:i==null?void 0:i.department,children:y.jsx(Oe,{type:"text",name:"department",value:t.department||"",onChange:e,placeholder:n.departmentPlaceholder})})]}),nB=({addresses:t,onChange:e,addAddress:n,removeAddress:i,uiStrings:r,formErrors:o})=>y.jsxs("fieldset",{className:"border border-gray-700 p-3 rounded-md mt-4 space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx(Xd,{as:"h3",className:"mb-0 font-semibold text-base",children:r.addressesLabel}),y.jsx(we,{type:"button",variant:"link",size:"sm",onClick:n,leftIcon:y.jsx(me,{name:"plus",size:"sm"}),children:r.addAddressButton})]}),y.jsx(pa,{errors:o==null?void 0:o.addresses}),t.map((s,u)=>{const d=`addresses[${u}]`;return y.jsxs("div",{className:"p-2 border border-gray-600 rounded-md space-y-2 relative",children:[t.length>1&&y.jsx(we,{type:"button",variant:"icon",size:"sm",onClick:()=>i(u),className:"absolute top-1 right-1","aria-label":r.removeAddressButton,children:y.jsx(me,{name:"close",size:"sm"})}),y.jsx(Ee,{label:r.addressStreetLabel,htmlFor:`${d}.street`,validationError:o==null?void 0:o[`${d}.street`],children:y.jsx(Oe,{type:"text",name:`${d}.street`,value:s.street,onChange:e,placeholder:r.addressStreetPlaceholder})}),y.jsx(Ee,{label:r.addressNumberLabel,htmlFor:`${d}.number`,validationError:o==null?void 0:o[`${d}.number`],children:y.jsx(Oe,{type:"text",name:`${d}.number`,value:s.number,onChange:e,placeholder:r.addressNumberPlaceholder})}),y.jsx(Ee,{label:r.addressAreaLabel,htmlFor:`${d}.area`,validationError:o==null?void 0:o[`${d}.area`],children:y.jsx(Oe,{type:"text",name:`${d}.area`,value:s.area||"",onChange:e,placeholder:r.addressAreaPlaceholder})}),y.jsx(Ee,{label:r.addressMunicipalityLabel,htmlFor:`${d}.municipality`,validationError:o==null?void 0:o[`${d}.municipality`],children:y.jsx(Oe,{type:"text",name:`${d}.municipality`,value:s.municipality||"",onChange:e,placeholder:r.addressMunicipalityPlaceholder})}),y.jsx(Ee,{label:r.addressCityLabel,htmlFor:`${d}.city`,validationError:o==null?void 0:o[`${d}.city`],children:y.jsx(Oe,{type:"text",name:`${d}.city`,value:s.city,onChange:e,placeholder:r.addressCityPlaceholder})}),y.jsx(Ee,{label:r.addressPrefectureLabel,htmlFor:`${d}.prefecture`,validationError:o==null?void 0:o[`${d}.prefecture`],children:y.jsx(Oe,{type:"text",name:`${d}.prefecture`,value:s.prefecture||"",onChange:e,placeholder:r.addressPrefecturePlaceholder})}),y.jsx(Ee,{label:r.addressPostalCodeLabel,htmlFor:`${d}.postalCode`,validationError:o==null?void 0:o[`${d}.postalCode`],children:y.jsx(Oe,{type:"text",name:`${d}.postalCode`,value:s.postalCode,onChange:e,placeholder:r.addressPostalCodePlaceholder})}),y.jsx(Ee,{label:r.addressCountryLabel,htmlFor:`${d}.country`,validationError:o==null?void 0:o[`${d}.country`],children:y.jsx(Oe,{type:"text",name:`${d}.country`,value:s.country,onChange:e,placeholder:r.addressCountryPlaceholder})}),y.jsx(ua,{id:`${d}.isPrimary`,name:`${d}.isPrimary`,checked:s.isPrimary||!1,onChange:e,label:r.addressIsPrimaryLabel}),y.jsx(Ee,{label:r.addressTypeLabel,htmlFor:`${d}.addressType`,validationError:o==null?void 0:o[`${d}.addressType`],children:y.jsxs(mi,{name:`${d}.addressType`,value:s.addressType||"home",onChange:e,children:[y.jsx("option",{value:"home",children:"Home"}),y.jsx("option",{value:"work",children:"Work"}),y.jsx("option",{value:"billing",children:"Billing"}),y.jsx("option",{value:"shipping",children:"Shipping"}),y.jsx("option",{value:"other",children:"Other"})]})})]},s.id||`address-${u}`)})]}),iB=["voice","sms","whatsapp","viber","telegram","signal"],rB=({phoneNumber:t,index:e,onChange:n,formErrors:i,uiStrings:r})=>{var s,u,d;const o=`contactPhoneNumbers[${e}]`;return y.jsxs("div",{className:"space-y-3",children:[y.jsx(Ee,{label:r.phoneNumberLabel,htmlFor:`${o}.number`,required:!0,validationError:i==null?void 0:i[`${o}.number`],children:y.jsx(Oe,{type:"tel",name:`${o}.number`,value:t.number,onChange:n,placeholder:r.phoneNumberPlaceholder})}),y.jsx(Ee,{label:r.phoneTypeLabel,htmlFor:`${o}.type`,validationError:i==null?void 0:i[`${o}.type`],children:y.jsx(mi,{name:`${o}.type`,value:t.type,onChange:n,children:Object.keys(ld).map(f=>y.jsx("option",{value:f,children:ld[f]},f))})}),y.jsx(Ee,{label:r.phoneLabelLabel,htmlFor:`${o}.label`,validationError:i==null?void 0:i[`${o}.label`],children:y.jsx(Oe,{type:"text",name:`${o}.label`,value:t.label||"",onChange:n,placeholder:r.phoneLabelPlaceholder})}),y.jsx(Ee,{label:r.countryCodeLabel||"Κωδικός Χώρας",htmlFor:`${o}.countryCode`,validationError:i==null?void 0:i[`${o}.countryCode`],children:y.jsx(Oe,{type:"text",name:`${o}.countryCode`,value:t.countryCode||"",onChange:n,placeholder:r.countryCodePlaceholder||"+30"})}),y.jsx(Ee,{label:r.extensionLabel||"Εσωτερικό",htmlFor:`${o}.extension`,validationError:i==null?void 0:i[`${o}.extension`],children:y.jsx(Oe,{type:"text",name:`${o}.extension`,value:t.extension||"",onChange:n,placeholder:r.extensionPlaceholder||"π.χ. 101"})}),y.jsx(ua,{id:`${o}.isPrimary`,name:`${o}.isPrimary`,checked:t.isPrimary||!1,onChange:n,label:r.phoneIsPrimaryLabel}),y.jsx("hr",{className:"border-gray-600 my-4"}),y.jsxs("div",{className:"space-y-1 pt-2",children:[y.jsx(Xd,{children:r.protocolsLabel||"Πρωτόκολλα Επικοινωνίας"}),y.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:iB.map(f=>{var h;return y.jsx(ua,{id:`${o}.protocols.${f}`,name:`${o}.protocols`,value:f,checked:((h=t.protocols)==null?void 0:h.includes(f))||!1,onChange:n,label:JN[f]||f},f)})}),y.jsx(pa,{errors:i==null?void 0:i[`${o}.protocols`]})]}),y.jsx("hr",{className:"border-gray-600 my-4"}),y.jsxs("fieldset",{className:"border border-gray-600 p-3 rounded-md mt-3 space-y-2",children:[y.jsx("legend",{className:"text-gray-400 text-sm px-1",children:r.voipIntegrationSectionTitle||"Ενσωμάτωση VoIP"}),y.jsx(Ee,{label:r.voipSystemNameLabel||"Όνομα Συστήματος VoIP",htmlFor:`${o}.voipIntegrationDetails.systemName`,validationError:i==null?void 0:i[`${o}.voipIntegrationDetails.systemName`],children:y.jsx(Oe,{type:"text",name:`${o}.voipIntegrationDetails.systemName`,value:((s=t.voipIntegrationDetails)==null?void 0:s.systemName)||"",onChange:n,placeholder:r.voipSystemNamePlaceholder||"π.χ., Asterisk"})}),y.jsx(Ee,{label:r.voipSystemSpecificIdLabel||"ID Συστήματος VoIP",htmlFor:`${o}.voipIntegrationDetails.systemSpecificId`,validationError:i==null?void 0:i[`${o}.voipIntegrationDetails.systemSpecificId`],children:y.jsx(Oe,{type:"text",name:`${o}.voipIntegrationDetails.systemSpecificId`,value:((u=t.voipIntegrationDetails)==null?void 0:u.systemSpecificId)||"",onChange:n,placeholder:r.voipSystemSpecificIdPlaceholder||"Αναγνωριστικό στο σύστημα"})}),y.jsx(ua,{id:`${o}.voipIntegrationDetails.canDialViaSystem`,name:`${o}.voipIntegrationDetails.canDialViaSystem`,checked:((d=t.voipIntegrationDetails)==null?void 0:d.canDialViaSystem)||!1,onChange:n,label:r.voipCanDialLabel||"Δυνατότητα Κλήσης μέσω Συστήματος",containerClassName:"flex items-center pt-1"}),y.jsx(pa,{errors:i==null?void 0:i[`${o}.voipIntegrationDetails`]})]}),y.jsx(Ee,{label:r.phoneNotesLabel,htmlFor:`${o}.notes`,validationError:i==null?void 0:i[`${o}.notes`],children:y.jsx(ao,{name:`${o}.notes`,value:t.notes||"",onChange:n,placeholder:r.phoneNotesPlaceholder,rows:2})})]})},aB=({formState:t,onChange:e,uiStrings:n,addContactPhoneNumber:i,removeContactPhoneNumber:r,addAddress:o,removeAddress:s,formErrors:u})=>{var d,f;return y.jsxs(y.Fragment,{children:[y.jsxs("fieldset",{className:"border border-gray-700 p-3 rounded-md mt-4 space-y-3",children:[y.jsx("legend",{className:"text-gray-300 px-1",children:n.contactInfoSectionTitle}),y.jsx(Ee,{label:n.emailLabel,htmlFor:"email",validationError:u==null?void 0:u.email,children:y.jsx(Oe,{type:"email",name:"email",value:t.email||"",onChange:e,placeholder:n.emailPlaceholder})}),y.jsxs("div",{className:"mt-2 space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx(Xd,{as:"h3",className:"mb-0 font-semibold text-base",children:n.phoneNumbersLabel}),y.jsx(we,{type:"button",variant:"link",size:"sm",onClick:i,leftIcon:y.jsx(me,{name:"plus",size:"sm"}),children:n.addPhoneNumberButton})]}),y.jsx(pa,{errors:u==null?void 0:u.contactPhoneNumbers}),t.contactPhoneNumbers.map((h,v)=>y.jsxs("div",{className:"p-3 border border-gray-600 rounded-md space-y-2 relative",children:[t.contactPhoneNumbers.length>1&&y.jsx(we,{type:"button",variant:"icon",size:"sm",onClick:()=>r(v),className:"absolute top-1.5 right-1.5","aria-label":n.removePhoneNumberButton,children:y.jsx(me,{name:"close",size:"sm"})}),y.jsx(rB,{phoneNumber:h,index:v,onChange:e,formErrors:u,uiStrings:n})]},h.id||`phone-${v}`))]})]}),y.jsx(nB,{addresses:t.addresses,onChange:e,addAddress:o,removeAddress:s,uiStrings:n,formErrors:u}),y.jsxs("fieldset",{className:"border border-gray-700 p-3 rounded-md mt-4 space-y-3",children:[y.jsx("legend",{className:"text-gray-300 px-1",children:n.taxInfoCardLabel}),y.jsx(Ee,{label:n.afmLabel,htmlFor:"taxInfo.afm",validationError:u==null?void 0:u["taxInfo.afm"],children:y.jsx(Oe,{type:"text",name:"taxInfo.afm",value:((d=t.taxInfo)==null?void 0:d.afm)||"",onChange:e,placeholder:n.afmPlaceholder})}),y.jsx(Ee,{label:n.doyLabel,htmlFor:"taxInfo.doy",validationError:u==null?void 0:u["taxInfo.doy"],children:y.jsx(Oe,{type:"text",name:"taxInfo.doy",value:((f=t.taxInfo)==null?void 0:f.doy)||"",onChange:e,placeholder:n.doyPlaceholder})}),y.jsx(pa,{errors:u==null?void 0:u.taxInfo})]}),y.jsxs("div",{className:"mt-4 space-y-3",children:[y.jsx(Ee,{label:n.rolesLabel,htmlFor:"roles",validationError:u==null?void 0:u.roles,children:y.jsx(Oe,{type:"text",name:"roles",value:(t.roles||[]).join(", "),onChange:e,placeholder:n.rolesPlaceholder})}),y.jsx(Ee,{label:n.avatarUrlLabel,htmlFor:"avatarUrl",validationError:u==null?void 0:u.avatarUrl,children:y.jsx(Oe,{type:"url",name:"avatarUrl",value:t.avatarUrl||"",onChange:e,placeholder:n.avatarUrlPlaceholder})}),y.jsx(Ee,{label:n.socialMediaLabel,htmlFor:"socialMediaText",validationError:(u==null?void 0:u.socialMediaLinks)||(u==null?void 0:u.socialMediaText),children:y.jsx(ao,{name:"socialMediaText",value:t.socialMediaText||"",onChange:e,rows:3,placeholder:n.socialMediaPlaceholder})})]})]})},oB=({existingContact:t=null,onSave:e,onCancel:n,formTitle:i,isSaving:r,serviceErrors:o})=>{const s=(t==null?void 0:t.contactType)||"naturalPerson",{formState:u,formErrors:d,handleInputChange:f,handleSubmit:h,dispatch:v,addContactPhoneNumber:T,removeContactPhoneNumber:C,addAddress:S,removeAddress:E,handleSelectContactTypeChange:_,resetForm:I}=XF({initialContactType:s,existingContact:t,onFormSubmit:(L,R)=>{u.formErrors&&o&&v({type:"SET_FORM_ERRORS",payload:null}),e(L,R)}});N.useEffect(()=>{o&&typeof o!="string"&&v({type:"SET_FORM_ERRORS",payload:o})},[o,v]);const D={formState:u,onChange:f,uiStrings:U,formErrors:d},M=!!t,P=M?`Ο τύπος επαφής (${Bi[u.contactType]}) δεν μπορεί να αλλάξει κατά την επεξεργασία.`:void 0;return y.jsxs("div",{className:"h-full",children:[y.jsx("div",{className:"h-16 flex items-center p-4 border-b border-slate-700 mb-6",children:y.jsx("h2",{id:"contactFormTitle",className:"text-xl font-semibold text-purple-300",children:i})}),y.jsxs("form",{onSubmit:h,className:"space-y-4",noValidate:!0,children:[y.jsx(Ee,{label:U.contactTypeLabel,htmlFor:"contactType",validationError:d==null?void 0:d.contactType,helperText:P,children:y.jsxs(mi,{name:"contactType",value:u.contactType,onChange:_,className:M?"bg-gray-700 cursor-not-allowed":"",disabled:M||r,children:[y.jsx("option",{value:"naturalPerson",children:Bi.naturalPerson}),y.jsx("option",{value:"legalEntity",children:Bi.legalEntity}),y.jsx("option",{value:"publicService",children:Bi.publicService})]})}),u.contactType==="naturalPerson"&&y.jsx(QF,{...D}),u.contactType==="legalEntity"&&y.jsx(eB,{...D}),u.contactType==="publicService"&&y.jsx(tB,{...D}),y.jsx(aB,{...D,addContactPhoneNumber:T,removeContactPhoneNumber:C,addAddress:S,removeAddress:E}),(d==null?void 0:d._form)&&y.jsx(pa,{errors:d._form,className:"mt-2 p-2 bg-red-900/30 rounded-md text-sm"}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700 mt-6",children:[y.jsx(we,{type:"button",variant:"secondary",onClick:()=>{r||(I(),n())},disabled:r,children:U.cancelButton}),y.jsx(we,{type:"submit",variant:"primary",isLoading:r,disabled:r,children:r?U.saveInProgressButton:U.saveButton})]})]})]})},Si=t=>xe({required_error:U.fieldRequiredError(t)}).min(1,{message:U.fieldRequiredError(t)}),lB=pn(Object.keys(Vi),{errorMap:()=>({message:"Μη έγκυρος ρόλος."})}),sB=pn(Object.keys(Ga)),uB=pn(Object.keys(ld)),cB=pn(["voice","sms","whatsapp","viber","telegram","signal"]),dB=pn(["home","work","billing","shipping","other"]),fB=pn(Object.keys(ad)),mB=pn(Object.keys(od)),Mw=Mt({id:xe(),number:Si(U.phoneNumberLabel).min(7,U.mustBeAtLeastChars(7)),countryCode:xe().optional(),extension:xe().optional(),type:uB,label:xe().optional(),protocols:qt(cB).optional(),isPrimary:Fi().optional(),notes:xe().optional(),voipIntegrationDetails:Mt({systemName:xe().optional(),systemSpecificId:xe().optional(),canDialViaSystem:Fi().optional()}).optional()}),Rw=Mt({id:xe().optional(),street:Si(U.addressStreetLabel),number:Si(U.addressNumberLabel),area:xe().optional(),municipality:xe().optional(),city:Si(U.addressCityLabel),prefecture:xe().optional(),country:Si(U.addressCountryLabel),postalCode:Si(U.addressPostalCodeLabel).min(5,U.mustBeAtLeastChars(5)),addressType:dB.optional(),isPrimary:Fi().optional()}),Lw=Mt({platform:sB,url:Si(U.socialUrlLabel).refine(t=>{try{return!t.includes(":")&&!t.startsWith("@")&&!/^\+?\d+$/.test(t)?new URL("http://"+t):(t.startsWith("http://")||t.startsWith("https://"))&&new URL(t),!0}catch{return!1}},{message:U.socialUrlInvalidError})}),pB=Mt({afm:xe().length(9,U.invalidAfmError).regex(/^\d+$/,U.mustBeNumeric).optional().or(du("")),doy:xe().optional()}).optional(),sf={createdAt:xe().datetime({message:"Μη έγκυρη ημερομηνία δημιουργίας."}).optional(),updatedAt:xe().datetime({message:"Μη έγκυρη ημερομηνία ενημέρωσης."}).optional(),email:xe({invalid_type_error:"Το email πρέπει να είναι αλφαριθμητικό.",required_error:"Το email είναι υποχρεωτικό."}).email({message:U.mustBeAValidEmail}),contactPhoneNumbers:qt(Mw).optional().refine(t=>!t||t.length===0||t.some(e=>e.isPrimary),{message:U.primaryRequiredError,path:[]}),avatarUrl:xe().url({message:U.mustBeAValidUrl}).optional().or(du("")),roles:qt(lB,{required_error:"Οι ρόλοι είναι υποχρεωτικοί (μπορεί να είναι κενός πίνακας)."}),notes:qt(Og).optional(),taxInfo:pB,addresses:qt(Rw).optional().refine(t=>!t||t.length===0||t.some(e=>e.isPrimary),{message:U.primaryRequiredError,path:[]}),socialMediaLinks:qt(Lw).optional(),suggestedCategories:qt(xe()).optional()},hB=Mt({firstName:Si(U.firstNameLabel),lastName:Si(U.lastNameLabel),nickname:xe().optional()}),gB=Mt({fatherName:xe().optional(),motherName:xe().optional()}).optional(),yB=Mt({idNumber:xe().optional(),issuingAuthority:xe().optional(),dateOfIssue:xe().optional(),placeOfBirth:xe().optional()}).optional(),vB=Mt({profession:xe().optional(),employmentStatus:fB.optional(),companyName:xe().optional(),jobTitle:xe().optional(),educationLevel:xe().optional()}).optional(),xB=Mt({isPropertyOwner:Fi().optional(),isLandParcelOwner:Fi().optional(),isTenant:Fi().optional(),isProspectiveBuyer:Fi().optional(),isProspectiveSeller:Fi().optional()}).optional(),uf=Mt({contactType:du("naturalPerson"),basicIdentity:hB,parentalInfo:gB,dateOfBirth:xe().optional(),identityCardInfo:yB,professionalInfo:vB,maritalStatus:mB.optional(),propertyAttributes:xB,...sf}),cf=Mt({contactType:du("legalEntity"),name:Si(U.entityNameLabel),brandName:xe().optional(),companyType:xe().optional(),gemhNumber:xe().optional(),parentCompany:xe().optional(),...sf}),df=Mt({contactType:du("publicService"),name:Si(U.entityNameLabel),serviceType:xe().optional(),directorate:xe().optional(),department:xe().optional(),...sf});uM("contactType",[uf,cf,df]);const nd=Object.freeze(Object.defineProperty({__proto__:null,AddressSchema:Rw,BaseContactSchemaFields:sf,ContactPhoneNumberSchema:Mw,LegalEntityContactSchema:cf,NaturalPersonContactSchema:uf,PublicServiceContactSchema:df,SocialMediaLinkSchema:Lw},Symbol.toStringTag,{value:"Module"})),bB=t=>{switch(t){case"naturalPerson":return uf;case"legalEntity":return cf;case"publicService":return df;default:const e=t;throw new Error(`Unknown contact type for validation: ${e}`)}},TB=async()=>{const t=kt.getState().contacts;return await new Promise(e=>setTimeout(e,300)),Promise.resolve(t)},CB=async t=>{const e=bB(t.contactType);try{const{notes:n,createdAt:i,updatedAt:r,...o}=t,s=await e.parseAsync(o),u=Ce(),d=new Date().toISOString(),f={id:u,createdAt:d,updatedAt:d,...s};return await new Promise(h=>setTimeout(h,250)),f}catch(n){if(n instanceof Qn){console.error("Validation failed in contact.service.ts (createContact):",n.flatten().fieldErrors);const i=new Error("Validation failed in service (createContact)");throw i.fieldErrors=n.flatten().fieldErrors,i}else console.error("Error in contact.service.ts (createContact):",n);throw n}},SB=async(t,e)=>{const n=kt.getState().contacts.find(o=>o.id===t);if(!n){const o=new Error(`Contact with id "${t}" not found.`);throw console.error(o.message),o}const i={...n,...e,contactType:n.contactType,updatedAt:new Date().toISOString()};"notes"in i&&delete i.notes;let r;switch(n.contactType){case"naturalPerson":r=uf;break;case"legalEntity":r=cf;break;case"publicService":r=df;break;default:{const o=n.contactType;throw console.error(`[contact.service] Unhandled contact type in updateContact switch. Received type: '${o}'. Full contact:`,JSON.stringify(n)),new Error(`Invalid contact type "${o}" encountered during update.`)}}try{const s={...await r.parseAsync(i),id:n.id};return await new Promise(u=>setTimeout(u,250)),s}catch(o){if(o instanceof Qn){console.error(`Validation failed in contact.service.ts (updateContact for id: ${t}):`,o.flatten().fieldErrors);const s=new Error(`Validation failed in service (updateContact for id: ${t})`);throw s.fieldErrors=o.flatten().fieldErrors,s}else console.error(`Error in contact.service.ts (updateContact for id: ${t}):`,o);throw o}},EB=async t=>(kt.getState().contacts.find(n=>n.id===t)||console.warn(`[contact.service] deleteContact called for non-existent ID: ${t}. Simulating success.`),await new Promise(n=>setTimeout(n,250)),Promise.resolve()),wB=()=>{const[t,e]=N.useState(!1),[n,i]=N.useState(null),[r,o]=N.useState(null),s=kt(f=>f.addContact),u=N.useCallback(async f=>{e(!0),i(null),o(null);try{const h=await CB(f);return o(h),s(h),h}catch(h){return console.error("Error in useCreateContact (createContactMutation):",h),h&&h.fieldErrors&&typeof h.fieldErrors=="object"?i(h.fieldErrors):h instanceof Error?i(h.message):i(U.genericErrorNotification),null}finally{e(!1)}},[s]),d=N.useCallback(()=>{e(!1),i(null),o(null)},[]);return{createContactMutation:u,isLoading:t,error:n,data:r,reset:d}},AB=()=>{const[t,e]=N.useState(!1),[n,i]=N.useState(null),[r,o]=N.useState(null),s=kt(f=>f.updateContact),u=N.useCallback(async(f,h)=>{e(!0),i(null),o(null);try{const v=await SB(f,h);return o(v),s(v),v}catch(v){return console.error(`Error in useUpdateContact (updateContactMutation for id: ${f}):`,v),v&&v.fieldErrors&&typeof v.fieldErrors=="object"?i(v.fieldErrors):v instanceof Error?i(v.message):i(U.genericErrorNotification),null}finally{e(!1)}},[s]),d=N.useCallback(()=>{e(!1),i(null),o(null)},[]);return{updateContactMutation:u,isLoading:t,error:n,data:r,reset:d}},Ow=[{id:"rule-001-tag-new-customer",name:"Tag New Customer Contacts",description:"Automatically adds a 'new_customer_tag' to contacts created with the 'customer' role and shows success notification.",triggerEvent:"CONTACT_CREATED",conditions:[{field:"roles",operator:"contains",value:"customer"}],actions:[{type:"ADD_TAG_TO_CONTACT",params:{tagName:"new_customer_tag",targetEntityIdField:"id"}},{type:"SHOW_NOTIFICATION_TO_USER",params:{title:"Επιτυχής Προσθήκη Ετικέτας",messageTemplate:"Η ετικέτα 'Νέος Πελάτης' προστέθηκε αυτόματα στην επαφή {{basicIdentity.firstName}} {{basicIdentity.lastName}}.",notificationType:"success",duration:3e3}},{type:"LOG_MESSAGE",params:{message:"Rule 'Tag New Customer Contacts' executed for contact: {{id}} - {{basicIdentity.firstName}} {{basicIdentity.lastName}} or {{name}}"}}],isEnabled:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"rule-002-notify-important-note",name:"Notify on Important Note Addition",description:"Shows a warning notification if a note containing 'urgent' or 'critical' is added.",triggerEvent:"NOTE_ADDED",conditions:[{field:"content",operator:"contains",value:"urgent"}],actions:[{type:"SHOW_NOTIFICATION_TO_USER",params:{userIdField:"author.userId",title:"Important Note Added!",messageTemplate:"An important note was added by {{author.displayName}} to entity {{entityId}}: {{content}}",notificationType:"warning"}},{type:"LOG_MESSAGE",params:{message:"Rule 'Notify on Important Note' executed for note content: {{content}}"}}],isEnabled:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"rule-003-send-welcome-email",name:"Send Welcome Email to New Customer",description:"Sends a welcome email when a new 'customer' contact (natural person with email) is created.",triggerEvent:"CONTACT_CREATED",conditions:[{field:"contactType",operator:"equals",value:"naturalPerson"},{field:"roles",operator:"contains",value:"customer"},{field:"email",operator:"isNotEmpty"}],actions:[{type:"SEND_EMAIL",params:{toField:"email",nameField:"basicIdentity.firstName",subjectTemplate:"Καλώς ήρθατε στην πλατφόρμα μας, {{basicIdentity.firstName}}!",bodyTemplate:`Αγαπητέ/ή {{basicIdentity.firstName}} {{basicIdentity.lastName}},

Σας ευχαριστούμε που μας επιλέξατε!

Με εκτίμηση,
Η Ομάδα μας`}},{type:"LOG_MESSAGE",params:{message:"Rule 'Send Welcome Email' triggered for contact: {{basicIdentity.firstName}} {{basicIdentity.lastName}} ({{email}})"}}],isEnabled:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"rule-004-notify-call-logged",name:"Notify on Call Logged",description:"Shows a user notification when a call log note is added.",triggerEvent:"NOTE_ADDED",conditions:[{field:"type",operator:"equals",value:"call_log"}],actions:[{type:"SHOW_NOTIFICATION_TO_USER",params:{title:"Call Logged",messageTemplate:"Call regarding contact {{entityId}} (by {{author.displayName}}) was logged.",notificationType:"info"}},{type:"LOG_MESSAGE",params:{message:"Rule 'Notify on Call Logged' executed for note ID: {{id}}, Contact ID: {{entityId}}"}}],isEnabled:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"rule-005-standardize-profession",name:"Standardize Profession for New Natural Person Buyers",description:"Sets a default profession for new natural person contacts with role 'buyer' if profession is not specified.",triggerEvent:"CONTACT_CREATED",conditions:[{field:"contactType",operator:"equals",value:"naturalPerson"},{field:"roles",operator:"contains",value:"buyer"},{field:"professionalInfo.profession",operator:"isEmpty"}],actions:[{type:"UPDATE_CONTACT_FIELD",params:{targetEntityIdField:"id",fieldToUpdate:"professionalInfo.profession",newValue:"Υποψήφιος Αγοραστής Ακινήτου"}},{type:"LOG_MESSAGE",params:{message:"Rule 'Standardize Profession' executed for contact: {{id}}. Set profession to 'Υποψήφιος Αγοραστής Ακινήτου'."}}],isEnabled:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"rule-006-schedule-supplier-followup",name:"Schedule Follow-up Note for New Suppliers",description:"Creates a reminder note to follow up with new contacts marked as 'supplier'.",triggerEvent:"CONTACT_CREATED",conditions:[{field:"roles",operator:"contains",value:"supplier"}],actions:[{type:"CREATE_NOTE",params:{targetEntityIdField:"id",entityType:"contact",contentTemplate:"Follow-up με νέο προμηθευτή: {{name}} ({{email}}). Συζήτηση για υπηρεσίες/προϊόντα.",noteType:"reminder",visibility:"team",authorDisplayName:"System Workflow",tags:["new_supplier","follow_up_needed"],isPinned:!1}},{type:"SHOW_NOTIFICATION_TO_USER",params:{title:"Νέα Εργασία",messageTemplate:"Δημιουργήθηκε υπενθύμιση για follow-up με τον νέο προμηθευτή: {{name}}.",notificationType:"info"}},{type:"LOG_MESSAGE",params:{message:"Rule 'Schedule Supplier Follow-up' executed for new supplier: {{name}} ({{id}})"}}],isEnabled:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"rule-007-ai-summarize-long-note",name:"AI Summary for Long Notes",description:"Automatically summarizes notes longer than 200 characters using AI and shows a notification.",triggerEvent:"NOTE_ADDED",conditions:[{field:"content.length",operator:"greaterThan",value:200}],actions:[{type:"AI_SUMMARIZE_AND_NOTIFY",params:{contentSourceField:"content",notificationTitleTemplate:"AI Σύνοψη Σημείωσης (ID: {{id}})"}},{type:"LOG_MESSAGE",params:{message:"Rule 'AI Summary for Long Notes' triggered for Note ID: {{id}}."}}],isEnabled:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"rule-008-ai-analyze-note-sentiment",name:"Analyze Sentiment of New Notes",description:"Uses AI to analyze the sentiment of new notes and reacts with notifications.",triggerEvent:"NOTE_ADDED",conditions:[],actions:[{type:"AI_ANALYZE_NOTE_SENTIMENT_AND_REACT",params:{contentSourceField:"content",sentimentActions:{positive:{type:"SHOW_NOTIFICATION_TO_USER",params:{title:"Θετικό Συναίσθημα Εντοπίστηκε!",messageTemplate:'Η σημείωση για τον/την {{entityId}} φαίνεται θετική: "{{content}}"',notificationType:"success",duration:7e3}},negative:{type:"SHOW_NOTIFICATION_TO_USER",params:{title:"ΠΡΟΣΟΧΗ: Αρνητικό Συναίσθημα Εντοπίστηκε!",messageTemplate:'Εντοπίστηκε αρνητικό συναίσθημα στη σημείωση για τον/την {{entityId}}: "{{content}}". Εξετάστε το ενδεχόμενο follow-up.',notificationType:"warning",duration:1e4}},error:{type:"SHOW_NOTIFICATION_TO_USER",params:{title:"Σφάλμα Ανάλυσης Συναισθήματος",messageTemplate:"Αποτυχία ανάλυσης συναισθήματος για τη σημείωση: {{id}}.",notificationType:"error"}}}}},{type:"LOG_MESSAGE",params:{message:"Rule 'Analyze Sentiment of New Notes' triggered for Note ID: {{id}}."}}],isEnabled:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"rule-009-ai-suggest-follow-up-call",name:"Suggest Follow-up Actions After Call Log",description:"Uses AI to suggest follow-up actions after a call_log note is added and has sufficient content.",triggerEvent:"NOTE_ADDED",conditions:[{field:"type",operator:"equals",value:"call_log"},{field:"content.length",operator:"greaterThan",value:30}],actions:[{type:"AI_SUGGEST_FOLLOW_UP_ACTIONS",params:{eventDataSourceField:"content",notificationTitleTemplate:"AI Προτάσεις για την κλήση (Σημ. ID: {{id}})"}},{type:"LOG_MESSAGE",params:{message:"Rule 'Suggest Follow-up Actions After Call Log' triggered for Call Log Note ID: {{id}}."}}],isEnabled:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"rule-010-ai-draft-call-follow-up",name:"AI Draft Follow-up Email After Call",description:"Uses AI to draft a follow-up email after a 'call_log' note with substantial content is added.",triggerEvent:"NOTE_ADDED",conditions:[{field:"type",operator:"equals",value:"call_log"},{field:"content.length",operator:"greaterThan",value:50}],actions:[{type:"AI_DRAFT_EMAIL_FOLLOW_UP",params:{noteDataSourceField:"this",notificationTitleTemplate:"AI Προσχέδιο Email για {{contact.displayName}} (με βάση Σημ. {{id}})"}},{type:"LOG_MESSAGE",params:{message:"Rule 'AI Draft Follow-up Email After Call' triggered for Call Log Note ID: {{id}}."}}],isEnabled:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"rule-011-ai-categorize-contact",name:"AI Auto-Categorize New Contacts",description:"Suggests categories for newly created contacts using AI and saves them to the contact.",triggerEvent:"CONTACT_CREATED",conditions:[],actions:[{type:"AI_CATEGORIZE_CONTACT",params:{contactDataField:"this",notificationTitleTemplate:"AI Κατηγορίες για {{displayName}} Αποθηκεύτηκαν"}},{type:"LOG_MESSAGE",params:{message:"Rule 'AI Auto-Categorize New Contacts' triggered for Contact ID: {{id}}."}}],isEnabled:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];function pi(t,e){return e.split(".").reduce((n,i)=>n&&typeof n=="object"&&i in n?n[i]:void 0,t)}function _B(t,e,n){const i=e.split(".");let r=t;for(let o=0;o<i.length-1;o++){const s=i[o];(!r[s]||typeof r[s]!="object")&&(r[s]={}),r=r[s]}r[i[i.length-1]]=n}function Ar(t,e){let n=t;const i=t.match(/\{\{(.*?)\}\}/g);return i&&i.forEach(r=>{const o=r.substring(2,r.length-2),s=pi(e,o);n=n.replace(r,s!==void 0?String(s):`[${o}_unknown]`)}),n}const Bc=Mt({email:xe().email({message:U.mustBeAValidEmail||"Invalid email address."}),name:xe().optional()}),NB=Mt({to:qt(Bc).min(1,{message:"At least one 'to' recipient is required."}),cc:qt(Bc).optional(),bcc:qt(Bc).optional(),from:Bc.optional(),subject:xe().min(1,{message:U.fieldRequiredError("Subject")||"Subject is required."}),bodyText:xe().optional(),bodyHtml:xe().optional()}).refine(t=>t.bodyText||t.bodyHtml,{message:"Either bodyText or bodyHtml must be provided.",path:["bodyText"]}),Pw=async t=>{console.log("Attempting to send email with payload:",t);const e=NB.safeParse(t);if(!e.success)return console.error("Email payload validation failed:",e.error.flatten().fieldErrors),{success:!1,error:"Validation failed: "+JSON.stringify(e.error.flatten().fieldErrors)};if(await new Promise(i=>setTimeout(i,1e3)),Math.random()>.2){const i=`mock_message_${Date.now()}`;return console.log(`Mock email sent successfully. Message ID: ${i}`),{success:!0,messageId:i}}else{const i="Mock email service failure: Unable to send email.";return console.error(i),{success:!1,error:i}}};async function IB(t,e,n){const i=`[ActionExecutor][Rule: "${n}"] Action: SEND_EMAIL`,r=t.toField,o=t.nameField,s=t.subjectTemplate,u=t.bodyTemplate;if(r&&s&&u){const d=pi(e,r);if(d){const f=o?pi(e,o):void 0,h=Ar(s,e),v=Ar(u,e),T={to:[{email:d,name:f}],subject:h,bodyText:v};try{const C=await Pw(T);C.success?console.log(i+` | SUCCESS: Email sent to ${d}. Message ID: ${C.messageId}`):console.error(i+` | FAILED to send email to ${d}:`,C.error)}catch(C){console.error(i+` | EXCEPTION sending email to ${d}:`,C)}}else console.warn(i+` | SKIPPED: Recipient email not found in eventData using field '${r}'.`)}else console.warn(i+" | SKIPPED: Missing 'toField', 'subjectTemplate', or 'bodyTemplate' in SEND_EMAIL params.")}async function DB(t,e,n){const i=`[ActionExecutor][Rule: "${n}"] Action: ADD_TAG_TO_CONTACT`,r=t.targetEntityIdField,o=t.tagName;if(r&&o){const s=pi(e,r);if(s)try{kt.getState().addRoleToContact(s,o),console.log(i+` | SUCCESS: Tag '${o}' added to contact '${s}'.`)}catch(u){console.error(i+` | FAILED to add tag '${o}' to contact '${s}':`,u)}else console.warn(i+` | SKIPPED: Contact ID not found in eventData using field '${r}'.`)}else console.warn(i+" | SKIPPED: Missing 'targetEntityIdField' or 'tagName' in action params.")}async function kB(t,e,n){const i=`[ActionExecutor][Rule: "${n}"] Action: UPDATE_CONTACT_FIELD`,r=t.targetEntityIdField,o=t.fieldToUpdate,s=t.newValue;if(r&&o&&s!==void 0){const u=pi(e,r);if(u){const d=kt.getState().contacts.find(f=>f.id===u);if(d){const f=JSON.parse(JSON.stringify(d));_B(f,o,s);try{kt.getState().updateContact(f),console.log(i+` | SUCCESS: Field '${o}' updated for contact '${u}' with value '${s}'.`)}catch(h){console.error(i+` | FAILED to update field '${o}' for contact '${u}':`,h)}}else console.warn(i+` | SKIPPED: Contact with ID '${u}' not found in store.`)}else console.warn(i+` | SKIPPED: Contact ID not found in eventData using field '${r}'.`)}else console.warn(i+" | SKIPPED: Missing 'targetEntityIdField', 'fieldToUpdate', or 'newValue' in action params.")}async function MB(t,e,n){const i=`[ActionExecutor][Rule: "${n}"] Action: SHOW_NOTIFICATION_TO_USER`,r=t.title,o=t.messageTemplate,s=t.notificationType,u=t.duration;if(r&&o){const d=Ar(o,e),f={duration:u||5e3};switch(s){case"success":fe.success(d,f);break;case"error":fe.error(d,f);break;case"warning":fe(d,{...f,icon:"⚠️"});break;case"info":default:fe(d,{...f,icon:"ℹ️"});break}console.log(i+` | SUCCESS: Displayed ${s||"default"} notification. Title: "${r}", Message: "${d}"`)}else console.warn(i+" | SKIPPED: Missing 'title' or 'messageTemplate' in action params.")}async function RB(t,e,n){const i=`[ActionExecutor][Rule: "${n}"] Action: CREATE_NOTE`,r=t.targetEntityIdField,o=t.entityType,s=t.contentTemplate,u=t.noteType,d=t.visibility,f=t.authorDisplayName,h=t.tags,v=t.isPinned,T=t.attachments;if(r&&o&&s&&f){const C=pi(e,r);if(C){const S=Ar(s,e);try{const E=await Ug({entityId:C,entityType:o,content:S,authorDisplayName:f,type:u||"general",visibility:d||"team",tags:h||[],pinned:v||!1,attachments:T||[]});sa.getState().addNote(E),console.log(i+` | SUCCESS: Note created for entity '${o}:${C}'. Note ID: ${E.id}`)}catch(E){console.error(i+` | FAILED to create note for entity '${o}:${C}':`,E)}}else console.warn(i+` | SKIPPED: Entity ID not found in eventData using field '${r}'.`)}else console.warn(i+" | SKIPPED: Missing required params for CREATE_NOTE.")}async function LB(t,e,n){const i=`[ActionExecutor][Rule: "${n}"] Action: LOG_MESSAGE`,r=t.message;if(r){const o=Ar(r,e);console.log(`[ActionExecutor][Rule: "${n}"] ${o}`)}else console.warn(i+" | SKIPPED: Missing 'message' in LOG_MESSAGE params.")}async function gC(t,e,n,i=""){if(t)if(t.type==="SHOW_NOTIFICATION_TO_USER"){const{title:r,messageTemplate:o,notificationType:s,duration:u}=t.params;if(r&&o){const d=Ar(o,e),f={duration:u||5e3};switch(s){case"success":fe.success(d,f);break;case"error":fe.error(d,f);break;case"warning":fe(d,{...f,icon:"⚠️"});break;case"info":default:fe(d,{...f,icon:"ℹ️"});break}console.log(`[AIActionHandler][Rule: "${n}"][SubAction] ${i} Displayed ${s||"default"} notification. Title: "${r}", Message: "${d}"`)}else console.warn(`[AIActionHandler][Rule: "${n}"][SubAction] ${i} SKIPPED: Missing 'title' or 'messageTemplate' in sub-action params.`)}else console.warn(`[AIActionHandler][Rule: "${n}"][SubAction] ${i} Unsupported sub-action type: ${t.type}`)}async function OB(t,e,n){const i=`[AIActionHandler][Rule: "${n}"] Action: AI_SUMMARIZE_AND_NOTIFY`;if(!Nl()){console.warn(i+" | SKIPPED: AI service is not available."),fe.error("Η υπηρεσία AI δεν είναι διαθέσιμη για σύνοψη.");return}const r=t.contentSourceField,o=t.notificationTitleTemplate;if(r&&o){const s=pi(e,r);if(s&&s.trim()){const u=fe.loading("AI is summarizing...");try{const d=await Nw(s);if(d.startsWith("Η υπηρεσία AI δεν είναι διαθέσιμη")||d.startsWith("Σφάλμα")||d.startsWith("Παρουσιάστηκε ένα άγνωστο σφάλμα")||d.startsWith("Δεν υπάρχει κείμενο για σύνοψη"))fe.error(`AI Σύνοψη απέτυχε: ${d}`,{id:u}),console.error(i+` | FAILED AI Summarization: ${d}`);else{const f=Ar(o,e);fe.success(f,{id:u,duration:8e3}),fe(d,{duration:1e4,icon:"✨"}),console.log(i+` | SUCCESS: AI Summary: "${d}"`)}}catch(d){fe.error(`AI Σύνοψη απέτυχε: ${d.message||"Άγνωστο σφάλμα"}`,{id:u}),console.error(i+" | EXCEPTION during AI Summarization:",d)}}else console.warn(i+` | SKIPPED: Content to summarize is empty or not found at field '${r}'.`)}else console.warn(i+" | SKIPPED: Missing 'contentSourceField' or 'notificationTitleTemplate' in params.")}async function PB(t,e,n){const i=`[AIActionHandler][Rule: "${n}"] Action: AI_ANALYZE_NOTE_SENTIMENT_AND_REACT`;if(!Nl()){console.warn(i+" | SKIPPED: AI service is not available."),fe.error("Η υπηρεσία AI δεν είναι διαθέσιμη για ανάλυση συναισθήματος.");return}const r=t.contentSourceField,o=t.sentimentActions;if(!r||!o){console.warn(i+" | SKIPPED: Missing 'contentSourceField' or 'sentimentActions' params.");return}const s=pi(e,r);if(!s||!s.trim()){console.warn(i+` | SKIPPED: Content for sentiment analysis is empty or not found at field '${r}'.`);return}const u=fe.loading("AI is analyzing sentiment...");try{const f=await PF([e]);fe.dismiss(u);let h,v="neutral";if(typeof f=="string")console.error(i+` | FAILED AI Sentiment Analysis: ${f}`),h=o.error,v="error";else if(f&&f.overallSentiment){const T=f.overallSentiment.toLowerCase();h=o[T],v=T,console.log(i+` | SUCCESS: AI Sentiment: "${T}"`,f.details||"")}else console.error(i+" | FAILED: AI Sentiment Analysis returned unexpected result:",f),h=o.error,v="error";h?await gC(h,e,n,`Sentiment: ${v} ->`):console.log(i+` | No specific action defined for sentiment: "${v}".`)}catch(d){fe.error(`AI Sentiment Analysis failed: ${d.message||"Unknown error"}`,{id:u}),console.error(i+" | EXCEPTION during AI Sentiment Analysis:",d),o.error&&await gC(o.error,e,n,"Sentiment Exception ->")}}async function UB(t,e,n){const i=`[AIActionHandler][Rule: "${n}"] Action: AI_SUGGEST_FOLLOW_UP_ACTIONS`;if(!Nl()){console.warn(i+" | SKIPPED: AI service is not available."),fe.error("Η υπηρεσία AI δεν είναι διαθέσιμη για προτάσεις follow-up.");return}const r=t.eventDataSourceField,o=t.notificationTitleTemplate;if(!r||!o){console.warn(i+" | SKIPPED: Missing 'eventDataSourceField' or 'notificationTitleTemplate' params.");return}const s=e,u=pi(s,r);if(!u||!u.trim()){console.warn(i+` | SKIPPED: Context for follow-up suggestions is empty or not found at field '${r}'.`);return}const d=fe.loading("AI is generating follow-up suggestions...");try{const h=await UF({notes:[s]});if(fe.dismiss(d),typeof h=="string")fe.error(`AI Προτάσεις απέτυχαν: ${h}`),console.error(i+` | FAILED AI Follow-up Suggestions: ${h}`);else if(Array.isArray(h)&&h.length>0){const v=Ar(o,s),T=h.map(C=>`• ${C}`).join(`
`);fe.success(v,{duration:6e3}),fe(T,{icon:"💡",duration:12e3}),console.log(i+" | SUCCESS: AI Follow-up Suggestions:",h)}else fe("Το AI δεν παρήγαγε προτάσεις follow-up.",{duration:5e3,icon:"ℹ️"}),console.log(i+" | AI did not produce follow-up suggestions or returned an empty array.")}catch(f){fe.error(`AI Προτάσεις απέτυχαν: ${f.message||"Άγνωστο σφάλμα"}`,{id:d}),console.error(i+" | EXCEPTION during AI Follow-up Suggestions:",f)}}async function jB(t,e,n){const{openAiDraftEmailModal:i}=Te.getState(),r=`[AIActionHandler][Rule: "${n}"] Action: AI_DRAFT_EMAIL_FOLLOW_UP`;if(!Nl()){console.warn(r+" | SKIPPED: AI service not available for email drafting."),i({contactName:"Unknown Contact",error:"Η υπηρεσία AI δεν είναι διαθέσιμη."});return}const o=t.noteDataSourceField||"this",s=o==="this"?e:pi(e,o);if(!s||!s.content||!s.content.trim()){console.warn(r+" | SKIPPED: Source note or its content is empty/not found."),i({contactName:"Unknown Contact",error:"Δεν βρέθηκε περιεχόμενο σημείωσης για τη δημιουργία email."});return}let u;s.entityType==="contact"&&s.entityId&&(u=kt.getState().contacts.find(h=>h.id===s.entityId));const d=u?u.contactType==="naturalPerson"?`${u.basicIdentity.firstName} ${u.basicIdentity.lastName}`.trim():u.name:"Άγνωστη Επαφή",f=u==null?void 0:u.email;u||console.warn(r+" | SKIPPED: Could not find full contact details for the email draft context."),i({contactName:d,contactEmail:f,isLoading:!0});try{const h=await jF(s.content,d,f);h.startsWith("Η υπηρεσία AI δεν είναι διαθέσιμη")||h.startsWith("Σφάλμα")?(i({contactName:d,contactEmail:f,error:`AI Σύνταξη Email απέτυχε: ${h}`}),console.error(r+` | FAILED AI Email Draft: ${h}`)):(i({contactName:d,contactEmail:f,content:h}),console.log(r+` | SUCCESS: AI Drafted Email for ${d}`))}catch(h){i({contactName:d,contactEmail:f,error:`AI Σύνταξη Email απέτυχε: ${h.message||"Άγνωστο σφάλμα"}`}),console.error(r+" | EXCEPTION during AI Email Draft:",h)}}async function zB(t,e,n){const i=`[AIActionHandler][Rule: "${n}"] Action: AI_CATEGORIZE_CONTACT`;if(!Nl()){console.warn(i+" | SKIPPED: AI service not available for contact categorization."),fe.error("Η υπηρεσία AI δεν είναι διαθέσιμη για κατηγοριοποίηση.");return}const r=t.contactDataField||"this",o=t.notificationTitleTemplate;if(!o){console.warn(i+" | SKIPPED: Missing 'notificationTitleTemplate' param for AI_CATEGORIZE_CONTACT.");return}const s=r==="this"?e:pi(e,r);if(!s){console.warn(i+" | SKIPPED: Contact data not found for categorization.");return}const u={name:s.contactType==="naturalPerson"?`${s.basicIdentity.firstName} ${s.basicIdentity.lastName}`:s.name,email:s.email,roles:s.roles},d=fe.loading("AI is categorizing contact...");try{const f=await OF(u);fe.dismiss(d);const h=s.contactType==="naturalPerson"?`${s.basicIdentity.firstName} ${s.basicIdentity.lastName}`.trim():s.name,v=Ar(o,{...s,displayName:h});if(typeof f=="string")fe.error(`AI Κατηγοριοποίηση απέτυχε: ${f}`),console.error(i+` | FAILED AI Contact Categorization: ${f}`);else if(Array.isArray(f)&&f.length>0){const T=kt.getState().contacts.find(C=>C.id===s.id);if(T){const C=JSON.parse(JSON.stringify(T));C.suggestedCategories=f,kt.getState().updateContact(C);const S=f.join(", ");fe.success(v,{duration:6e3}),fe(`AI Κατηγορίες (${S}) αποθηκεύτηκαν στην επαφή.`,{icon:"🏷️",duration:1e4}),console.log(i+` | SUCCESS: AI Suggested Categories for ${h} (ID: ${s.id}):`,f)}else fe.error(`AI Κατηγοριοποίηση: Η επαφή ${h} δεν βρέθηκε για ενημέρωση.`,{icon:"ℹ️"}),console.error(i+` | FAILED: Contact ${s.id} not found in store to save categories.`)}else fe("Το AI δεν πρότεινε κατηγορίες.",{duration:5e3,icon:"ℹ️"}),console.log(i+" | AI did not suggest categories or returned an empty array.")}catch(f){fe.error(`AI Κατηγοριοποίηση απέτυχε: ${f.message||"Άγνωστο σφάλμα"}`,{id:d}),console.error(i+" | EXCEPTION during AI Contact Categorization:",f)}}async function VB(t,e,n){const i=`[ActionExecutor][Rule: "${n}"] Action: ${t.type}. Params: ${JSON.stringify(t.params)}`;switch(t.type){case"SEND_EMAIL":await IB(t.params,e,n);break;case"CREATE_TASK_REMINDER":console.log(i+" (SIMULATED - No specific handler yet)");break;case"ADD_TAG_TO_CONTACT":await DB(t.params,e,n);break;case"UPDATE_CONTACT_FIELD":await kB(t.params,e,n);break;case"SHOW_NOTIFICATION_TO_USER":await MB(t.params,e,n);break;case"CREATE_NOTE":await RB(t.params,e,n);break;case"AI_SUMMARIZE_AND_NOTIFY":await OB(t.params,e,n);break;case"AI_ANALYZE_NOTE_SENTIMENT_AND_REACT":await PB(t.params,e,n);break;case"AI_SUGGEST_FOLLOW_UP_ACTIONS":await UB(t.params,e,n);break;case"AI_DRAFT_EMAIL_FOLLOW_UP":await jB(t.params,e,n);break;case"AI_CATEGORIZE_CONTACT":await zB(t.params,e,n);break;case"LOG_MESSAGE":await LB(t.params,e,n);break;default:const r=t.type;console.warn(`[ActionExecutor][Rule: "${n}"] Unsupported action type: ${r}`)}}class FB{constructor(e=Ow){this.rules=e,console.log(`[WorkflowEngine] Initialized with ${this.rules.length} rule(s).`)}async processEvent(e,n){console.log(`[WorkflowEngine] Processing event: ${e}`,n);const i=this.rules.filter(r=>r.isEnabled&&r.triggerEvent===e);if(i.length!==0)for(const r of i)if(console.log(`[WorkflowEngine] Evaluating rule: "${r.name}" (ID: ${r.id})`),this.evaluateConditions(r,n)){console.log(`[WorkflowEngine] Conditions MET for rule "${r.name}". Executing actions.`);for(const o of r.actions)try{await VB(o,n,r.name)}catch(s){console.error(`[WorkflowEngine] Error executing action type ${o.type} for rule "${r.name}":`,s)}}else console.log(`[WorkflowEngine] Conditions NOT MET for rule "${r.name}".`)}evaluateConditions(e,n){if(!e.conditions||e.conditions.length===0)return!0;for(const i of e.conditions){const r=pi(n,i.field);let o=!1;switch(i.operator){case"equals":o=r===i.value;break;case"notEquals":o=r!==i.value;break;case"contains":(Array.isArray(r)&&i.value!==void 0||typeof r=="string"&&typeof i.value=="string")&&(o=r.includes(i.value));break;case"doesNotContain":(Array.isArray(r)&&i.value!==void 0||typeof r=="string"&&typeof i.value=="string")&&(o=!r.includes(i.value));break;case"startsWith":o=typeof r=="string"&&typeof i.value=="string"&&r.startsWith(i.value);break;case"endsWith":o=typeof r=="string"&&typeof i.value=="string"&&r.endsWith(i.value);break;case"greaterThan":typeof r=="number"&&typeof i.value=="number"?o=r>i.value:typeof r=="string"&&typeof i.value=="number"&&i.field.endsWith(".length")&&(o=r.length>i.value);break;case"lessThan":typeof r=="number"&&typeof i.value=="number"?o=r<i.value:typeof r=="string"&&typeof i.value=="number"&&i.field.endsWith(".length")&&(o=r.length<i.value);break;case"isEmpty":o=r==null||r===""||Array.isArray(r)&&r.length===0;break;case"isNotEmpty":o=r!=null&&r!==""&&(!Array.isArray(r)||r.length>0);break;case"isTrue":o=r===!0;break;case"isFalse":o=r===!1;break;default:return console.warn(`[WorkflowEngine] Unsupported operator: ${i.operator} for rule "${e.name}"`),!1}if(!o)return!1}return!0}}class al{constructor(){this.engine=new FB(Ow),console.log("[WorkflowService] Initialized with WorkflowEngine.")}static getInstance(){return al.instance||(al.instance=new al),al.instance}dispatchEvent(e,n){this.engine.processEvent(e,n).catch(i=>{console.error(`[WorkflowService] Error processing event ${e}:`,i)})}}const BB=al.getInstance(),$B=()=>{const t=kt(q=>q.contacts),e=kt(q=>q.addContact),n=kt(q=>q.updateContact),i=Te(q=>q.currentFormMode),r=Te(q=>q.selectedContactId),o=Te(q=>q.setSelectedContactId),s=Te(q=>q.setCurrentFormMode),{createContactMutation:u,isLoading:d,error:f,data:h,reset:v}=wB(),{updateContactMutation:T,isLoading:C,error:S,data:E,reset:_}=AB(),I=i==="edit",D=I&&r?t.find(q=>q.id===r):null,M=I?U.formTitleEditContact:U.formTitleAddContact;I&&!D&&r&&console.warn(`Attempted to edit contact with ID ${r}, but it was not found.`),N.useEffect(()=>{h&&(e(h),fe.success(U.saveSuccessNotification),o(h.id),s(null),BB.dispatchEvent("CONTACT_CREATED",h),v())},[h,o,s,v,e]),N.useEffect(()=>{f&&(typeof f=="string"?fe.error(f||U.genericErrorNotification):fe.error(U.validationErrorNotification))},[f]),N.useEffect(()=>{E&&(n(E),fe.success(U.saveSuccessNotification),s(null),_())},[E,s,_,n]),N.useEffect(()=>{S&&(typeof S=="string"?fe.error(S||U.genericErrorNotification):fe.error(U.validationErrorNotification))},[S]);const P=async(q,$)=>{if(v(),_(),I&&$){const{contactType:j,...Z}=q;await T($,Z)}else await u(q)},L=()=>{d||C||(s(null),i==="add"&&!r&&t.length>0&&o(t[0].id),v(),_())},R=I?C:d,B=I?S:f;return y.jsx(oB,{formTitle:M,existingContact:D,onSave:P,onCancel:L,isSaving:R,serviceErrors:B})},HB=({isOpen:t,onClose:e,onConfirm:n,title:i,message:r,confirmButtonText:o="Επιβεβαίωση",cancelButtonText:s="Άκυρο",isConfirmLoading:u=!1})=>{const d=N.useRef(null);return N.useEffect(()=>{t&&setTimeout(()=>{var f;return(f=d.current)==null?void 0:f.focus()},0)},[t]),t?y.jsx("div",{className:"modal-overlay",onClick:u?void 0:e,role:"dialog","aria-modal":"true","aria-labelledby":"confirmation-modal-title","aria-describedby":"confirmation-modal-message",children:y.jsxs("div",{ref:d,tabIndex:-1,className:"modal-content custom-scrollbar-themed relative max-w-md w-full",onClick:f=>f.stopPropagation(),"aria-labelledby":"confirmation-modal-title","aria-describedby":"confirmation-modal-message",children:[y.jsx(we,{variant:"icon",size:"sm",onClick:e,className:"absolute top-3 right-3 !p-1","aria-label":"Κλείσιμο παραθύρου",disabled:u,children:y.jsx(me,{name:"close",size:"md"})}),y.jsx("h2",{id:"confirmation-modal-title",className:"text-xl font-semibold text-purple-300 mb-4",children:i}),y.jsx("p",{id:"confirmation-modal-message",className:"text-gray-300 mb-6",children:r}),y.jsxs("div",{className:"flex justify-end space-x-3",children:[y.jsx(we,{variant:"secondary",onClick:e,disabled:u,children:s}),y.jsx(we,{variant:"danger",onClick:n,isLoading:u,disabled:u,children:o})]})]})}):null},GB=({activeFilters:t,onFilterChange:e,onApplyFilters:n,onClearFilters:i,disabled:r})=>{const o=Object.keys(Bi),s=Object.keys(Vi);return y.jsxs("div",{className:"p-3 bg-slate-700 rounded-md w-64 sm:w-72 text-sm",children:[y.jsxs(hn,{axis:"y",className:"max-h-60 pr-1",children:[y.jsxs("fieldset",{className:"mb-3",children:[y.jsx("legend",{className:"font-semibold text-gray-200 mb-1.5 text-xs",children:U.filterByTypeLabel}),y.jsx("div",{className:"space-y-1",children:o.map(u=>y.jsx(ua,{id:`filter-type-${u}`,label:Bi[u],checked:t.types.includes(u),onChange:d=>e("types",u,d.target.checked),disabled:r,labelClassName:"text-xs"},u))})]}),y.jsxs("fieldset",{children:[y.jsx("legend",{className:"font-semibold text-gray-200 mb-1.5 text-xs",children:U.filterByRoleLabel}),y.jsx("div",{className:"space-y-1",children:s.map(u=>y.jsx(ua,{id:`filter-role-${u}`,label:Vi[u],checked:t.roles.includes(u),onChange:d=>e("roles",u,d.target.checked),disabled:r,labelClassName:"text-xs"},u))})]})]}),y.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-600 flex justify-end space-x-2",children:[y.jsx(we,{variant:"secondary",size:"sm",onClick:i,disabled:r||t.types.length===0&&t.roles.length===0,className:"text-xs",children:U.clearFiltersButton}),y.jsx(we,{variant:"primary",size:"sm",onClick:n,disabled:r,className:"text-xs",children:U.applyFiltersButton})]})]})},qB=()=>{const[t,e]=N.useState(null),[n,i]=N.useState(!0),[r,o]=N.useState(null),s=N.useCallback(async()=>{i(!0),o(null);try{const d=await TB();e(d)}catch(d){console.error("Error fetching contacts in useFetchContacts:",d);const f=d instanceof Error?d.message:U.genericErrorNotification;o(f),e(null)}finally{i(!1)}},[]);N.useEffect(()=>{s()},[s]);const u=N.useCallback(async()=>{await s()},[s]);return{data:t,isLoading:n,error:r,refetch:u}},WB=()=>{const[t,e]=N.useState(!1),[n,i]=N.useState(null),[r,o]=N.useState(!1),s=N.useCallback(async d=>{e(!0),i(null),o(!1);try{return await EB(d),o(!0),!0}catch(f){console.error(`Error in useDeleteContact (deleteContactMutation for id: ${d}):`,f);const h=f instanceof Error?f.message:U.genericErrorNotification;return i(h),!1}finally{e(!1)}},[]),u=N.useCallback(()=>{e(!1),i(null),o(!1)},[]);return{deleteContactMutation:s,isLoading:t,error:n,isSuccess:r,reset:u}},YB=()=>{const[t,e]=N.useState(""),n=kt(pe=>pe.contacts),i=kt(pe=>pe.deleteContact),{data:r,isLoading:o,error:s,refetch:u}=qB(),{deleteContactMutation:d,isLoading:f,error:h,isSuccess:v,reset:T}=WB(),C=Te(pe=>pe.selectedContactId),S=Te(pe=>pe.currentFormMode),E=Te(pe=>pe.setActiveView),_=Te(pe=>pe.setSelectedContactId),I=Te(pe=>pe.setCurrentFormMode),D=Te(pe=>pe.isDeleteConfirmationModalOpen),M=Te(pe=>pe.contactIdToDelete),P=Te(pe=>pe.closeDeleteConfirmationModal),L=Te(pe=>pe.resetUIStateForViewChange),[R,B]=N.useState(!1),q=N.useRef(null),[$,j]=N.useState({types:[],roles:[]}),[Z,ne]=N.useState({types:[],roles:[]}),ee=(()=>{if(!M)return U.genericConfirmationTarget;const pe=n.find(Ne=>Ne.id===M);return pe?pe.contactType==="naturalPerson"?`${pe.basicIdentity.firstName} ${pe.basicIdentity.lastName}`.trim():pe.name:U.genericConfirmationTarget})(),Q=()=>{_(null),I("add"),E("contacts")},z=N.useMemo(()=>{let pe=r||[];return Z.types.length>0&&(pe=pe.filter(Ne=>Z.types.includes(Ne.contactType))),Z.roles.length>0&&(pe=pe.filter(Ne=>Ne.roles.some(Re=>Z.roles.includes(Re)))),pe},[r,Z]),G=N.useMemo(()=>{if(!t.trim())return z;const pe=t.toLowerCase();return z.filter(Ne=>(Ne.contactType==="naturalPerson"?`${Ne.basicIdentity.firstName} ${Ne.basicIdentity.lastName}`.trim():Ne.name).toLowerCase().includes(pe)||Ne.email&&Ne.email.toLowerCase().includes(pe)||Ne.contactPhoneNumbers&&Ne.contactPhoneNumbers.some(st=>st.number.includes(pe)))},[z,t]),re=(r==null?void 0:r.length)??0,de=z.length,w=async()=>{M&&await d(M)};N.useEffect(()=>{v&&M&&(i(M),fe.success(U.deleteSuccessNotification(ee||"")),P(),u().then(()=>{L("contacts")}),T())},[v,M,ee,P,u,L,T,i]),N.useEffect(()=>{h&&(fe.error(h||U.genericErrorNotification),T())},[h,T]);const H=(pe,Ne,Re)=>{j(st=>({...st,[pe]:Re?[...st[pe],Ne]:st[pe].filter(Rt=>Rt!==Ne)}))},ie=()=>{ne($),B(!1)},O=()=>{j({types:[],roles:[]})},ve=()=>{j({types:[],roles:[]}),ne({types:[],roles:[]}),B(!1)},ke=Z.types.length+Z.roles.length,ye=()=>S==="add"||S==="edit"?y.jsx($B,{}):C&&n.some(Ne=>Ne.id===C)?y.jsx(VF,{}):!o&&!s&&re>0?y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full text-center text-gray-400 p-4 sm:p-6",children:[y.jsx(me,{name:"user",size:"w-24 h-24",className:"mx-auto mb-4 text-gray-600"}),y.jsx("h2",{className:"text-xl font-semibold",children:U.selectContactPrompt})]}):o||s?null:re===0&&!o&&!s?y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full text-center text-gray-400 p-4 sm:p-6",children:[y.jsx(me,{name:"user",size:"w-24 h-24",className:"mx-auto mb-4 text-gray-600"}),y.jsx("h2",{className:"text-2xl font-semibold mb-2",children:U.noContactsYet}),y.jsx("p",{children:U.noContactsPrompt})]}):null,nt="h-16";return y.jsxs("div",{className:"flex flex-1 overflow-hidden p-2 gap-2",children:[" ",y.jsx("div",{className:"w-80 sm:w-96 bg-slate-800 rounded-lg shadow-lg flex flex-col flex-shrink-0 overflow-hidden",children:y.jsxs(Mh,{children:[y.jsxs("div",{className:`p-4 border-b border-slate-700 ${nt} flex items-end justify-between flex-shrink-0`,children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-200 mb-0.5",children:U.contactsListTitle}),y.jsx(ht,{content:U.formTitleAddContact,position:"bottom",offsetValue:8,children:y.jsx(we,{variant:"icon",size:"md",onClick:Q,"aria-label":U.formTitleAddContact,className:"!p-1.5",disabled:o||!!s,children:y.jsx(me,{name:"plus",size:"md"})})})]}),y.jsxs("div",{className:"p-3 border-b border-slate-700 flex-shrink-0 space-y-2",children:[y.jsx(Oe,{type:"search",placeholder:U.contactSearchPlaceholder,className:"py-1.5 pr-3 text-sm w-full !bg-slate-700",value:t,onChange:pe=>e(pe.target.value),"aria-label":U.contactSearchPlaceholder,disabled:o||!!s,startIcon:y.jsx(me,{name:"search",size:"sm",className:"text-gray-400"}),clearable:!0,onClear:()=>e("")}),y.jsx("div",{className:"flex items-center justify-start space-x-2",children:y.jsxs(we,{ref:q,variant:"ghost",size:"sm",onClick:()=>{R||j(Z),B(!R)},leftIcon:y.jsx(me,{name:"filter",size:"sm"}),className:"text-xs relative",disabled:o||!!s,"aria-expanded":R,"aria-controls":"contact-filter-popover",children:[U.filtersButtonLabel,ke>0&&y.jsx("span",{className:"ml-1.5 bg-purple-600 text-white text-[10px] font-semibold px-1.5 py-0.5 rounded-full",children:ke})]})}),ke>0&&y.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[U.activeFiltersText(ke),".",y.jsx(we,{variant:"link",size:"sm",onClick:ve,className:"!p-0 !ml-1 !text-xs",children:U.clearFiltersButton})]})]}),R&&q.current&&y.jsx(vS,{isOpen:R,setIsOpen:B,triggerRef:q,placement:"bottom-start",offsetValue:6,className:"bg-slate-700 border border-slate-600 rounded-md shadow-xl z-[100]",id:"contact-filter-popover",children:y.jsx(GB,{activeFilters:$,onFilterChange:H,onApplyFilters:ie,onClearFilters:O,disabled:o||!!s})}),y.jsx(KM,{contacts:G,totalContactsCount:re,totalFilteredAndSortedContactsCount:de,isSearching:t.length>0,isLoading:o,fetchError:s,onRefetch:u})]})}),y.jsx("div",{className:"flex-1 bg-slate-800 rounded-lg shadow-lg flex flex-col overflow-hidden",children:y.jsxs(Mh,{children:[y.jsx("div",{className:`p-4 border-b border-slate-700 ${nt} flex items-end justify-start flex-shrink-0`,children:y.jsx("h2",{className:"text-lg font-semibold text-gray-200 mb-0.5",children:U.contactDetailsPaneTitle})}),y.jsx(hn,{axis:"y",className:"flex-grow p-4",children:ye()})]})}),y.jsx(HB,{isOpen:D,onClose:P,onConfirm:w,title:U.deleteConfirmTitle,message:U.deleteConfirmMessage(ee),confirmButtonText:U.deleteConfirmButton,cancelButtonText:U.deleteCancelButton,isConfirmLoading:f})]})},yC=({children:t,className:e=""})=>y.jsx("div",{className:`dashboard-shell h-full flex flex-col ${e}`,children:t}),ZB=({tabs:t,activeTabId:e,onTabChange:n,className:i=""})=>!t||t.length===0?null:y.jsx("nav",{className:`flex border-b border-slate-700 ${i}`,"aria-label":"Καρτέλες Πίνακα Ελέγχου",children:y.jsxs("ul",{className:"flex flex-wrap gap-x-1 px-2 sm:px-3",children:[" ",t.map(r=>{const o=e===r.id;return y.jsxs("li",{className:o?"-mb-px z-10":"",children:[" ",y.jsxs("button",{onClick:()=>n(r.id),className:`
                  flex items-center space-x-2 px-3 py-3 text-sm font-medium // Adjusted padding slightly (py-3 from py-2.5)
                  transition-colors duration-150 whitespace-nowrap
                  focus:outline-none focus-visible:ring-1 focus-visible:ring-purple-400 focus-visible:ring-offset-0 
                  ${o?"bg-slate-800 text-purple-300 border-t-2 border-l-2 border-r-2 border-slate-700 rounded-t-md":"border-b-2 border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-500"}
                `,role:"tab","aria-selected":o,"aria-controls":`dashboard-tabpanel-${r.id}`,id:`dashboard-tab-${r.id}`,children:[r.iconName&&y.jsx(me,{name:r.iconName,size:"sm",className:"flex-shrink-0"}),y.jsx("span",{children:r.label})]})]},r.id)})]})});function KB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N.useMemo(()=>i=>{e.forEach(r=>r(i))},e)}const ff=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Il(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function sy(t){return"nodeType"in t}function Un(t){var e,n;return t?Il(t)?t:sy(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function uy(t){const{Document:e}=Un(t);return t instanceof e}function vu(t){return Il(t)?!1:t instanceof Un(t).HTMLElement}function Uw(t){return t instanceof Un(t).SVGElement}function Dl(t){return t?Il(t)?t.document:sy(t)?uy(t)?t:vu(t)||Uw(t)?t.ownerDocument:document:document:document}const Qi=ff?N.useLayoutEffect:N.useEffect;function cy(t){const e=N.useRef(t);return Qi(()=>{e.current=t}),N.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}function XB(){const t=N.useRef(null),e=N.useCallback((i,r)=>{t.current=setInterval(i,r)},[]),n=N.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function au(t,e){e===void 0&&(e=[t]);const n=N.useRef(t);return Qi(()=>{n.current!==t&&(n.current=t)},e),n}function xu(t,e){const n=N.useRef();return N.useMemo(()=>{const i=t(n.current);return n.current=i,i},[...e])}function Ld(t){const e=cy(t),n=N.useRef(null),i=N.useCallback(r=>{r!==n.current&&(e==null||e(r,n.current)),n.current=r},[]);return[n,i]}function ug(t){const e=N.useRef();return N.useEffect(()=>{e.current=t},[t]),e.current}let sh={};function bu(t,e){return N.useMemo(()=>{if(e)return e;const n=sh[t]==null?0:sh[t]+1;return sh[t]=n,t+"-"+n},[t,e])}function jw(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.reduce((o,s)=>{const u=Object.entries(s);for(const[d,f]of u){const h=o[d];h!=null&&(o[d]=h+t*f)}return o},{...e})}}const cl=jw(1),Od=jw(-1);function JB(t){return"clientX"in t&&"clientY"in t}function dy(t){if(!t)return!1;const{KeyboardEvent:e}=Un(t.target);return e&&t instanceof e}function QB(t){if(!t)return!1;const{TouchEvent:e}=Un(t.target);return e&&t instanceof e}function cg(t){if(QB(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return JB(t)?{x:t.clientX,y:t.clientY}:null}const ou=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[ou.Translate.toString(t),ou.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:i}=t;return e+" "+n+"ms "+i}}}),vC="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function e8(t){return t.matches(vC)?t:t.querySelector(vC)}const t8={display:"none"};function n8(t){let{id:e,value:n}=t;return De.createElement("div",{id:e,style:t8},n)}function i8(t){let{id:e,announcement:n,ariaLiveType:i="assertive"}=t;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return De.createElement("div",{id:e,style:r,role:"status","aria-live":i,"aria-atomic":!0},n)}function r8(){const[t,e]=N.useState("");return{announce:N.useCallback(i=>{i!=null&&e(i)},[]),announcement:t}}const zw=N.createContext(null);function a8(t){const e=N.useContext(zw);N.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function o8(){const[t]=N.useState(()=>new Set),e=N.useCallback(i=>(t.add(i),()=>t.delete(i)),[t]);return[N.useCallback(i=>{let{type:r,event:o}=i;t.forEach(s=>{var u;return(u=s[r])==null?void 0:u.call(s,o)})},[t]),e]}const l8={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},s8={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function u8(t){let{announcements:e=s8,container:n,hiddenTextDescribedById:i,screenReaderInstructions:r=l8}=t;const{announce:o,announcement:s}=r8(),u=bu("DndLiveRegion"),[d,f]=N.useState(!1);if(N.useEffect(()=>{f(!0)},[]),a8(N.useMemo(()=>({onDragStart(v){let{active:T}=v;o(e.onDragStart({active:T}))},onDragMove(v){let{active:T,over:C}=v;e.onDragMove&&o(e.onDragMove({active:T,over:C}))},onDragOver(v){let{active:T,over:C}=v;o(e.onDragOver({active:T,over:C}))},onDragEnd(v){let{active:T,over:C}=v;o(e.onDragEnd({active:T,over:C}))},onDragCancel(v){let{active:T,over:C}=v;o(e.onDragCancel({active:T,over:C}))}}),[o,e])),!d)return null;const h=De.createElement(De.Fragment,null,De.createElement(n8,{id:i,value:r.draggable}),De.createElement(i8,{id:u,announcement:s}));return n?Ei.createPortal(h,n):h}var Gt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Gt||(Gt={}));function Pd(){}function xC(t,e){return N.useMemo(()=>({sensor:t,options:{}}),[t,e])}function c8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const Di=Object.freeze({x:0,y:0});function d8(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function f8(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return n-i}function m8(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return i-n}function p8(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function bC(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const h8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const r=bC(e,e.left,e.top),o=[];for(const s of i){const{id:u}=s,d=n.get(u);if(d){const f=d8(bC(d),r);o.push({id:u,data:{droppableContainer:s,value:f}})}}return o.sort(f8)};function g8(t,e){const n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),r=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),s=r-i,u=o-n;if(i<r&&n<o){const d=e.width*e.height,f=t.width*t.height,h=s*u,v=h/(d+f-h);return Number(v.toFixed(4))}return 0}const y8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const r=[];for(const o of i){const{id:s}=o,u=n.get(s);if(u){const d=g8(u,e);d>0&&r.push({id:s,data:{droppableContainer:o,value:d}})}}return r.sort(m8)};function v8(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function Vw(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Di}function x8(t){return function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return r.reduce((s,u)=>({...s,top:s.top+t*u.y,bottom:s.bottom+t*u.y,left:s.left+t*u.x,right:s.right+t*u.x}),{...n})}}const b8=x8(1);function T8(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function C8(t,e,n){const i=T8(e);if(!i)return t;const{scaleX:r,scaleY:o,x:s,y:u}=i,d=t.left-s-(1-r)*parseFloat(n),f=t.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=r?t.width/r:t.width,v=o?t.height/o:t.height;return{width:h,height:v,top:f,right:d+h,bottom:f+v,left:d}}const S8={ignoreTransform:!1};function kl(t,e){e===void 0&&(e=S8);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:h}=Un(t).getComputedStyle(t);f&&(n=C8(n,f,h))}const{top:i,left:r,width:o,height:s,bottom:u,right:d}=n;return{top:i,left:r,width:o,height:s,bottom:u,right:d}}function TC(t){return kl(t,{ignoreTransform:!0})}function E8(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function w8(t,e){return e===void 0&&(e=Un(t).getComputedStyle(t)),e.position==="fixed"}function A8(t,e){e===void 0&&(e=Un(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const o=e[r];return typeof o=="string"?n.test(o):!1})}function fy(t,e){const n=[];function i(r){if(e!=null&&n.length>=e||!r)return n;if(uy(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!vu(r)||Uw(r)||n.includes(r))return n;const o=Un(t).getComputedStyle(r);return r!==t&&A8(r,o)&&n.push(r),w8(r,o)?n:i(r.parentNode)}return t?i(t):n}function Fw(t){const[e]=fy(t,1);return e??null}function uh(t){return!ff||!t?null:Il(t)?t:sy(t)?uy(t)||t===Dl(t).scrollingElement?window:vu(t)?t:null:null}function Bw(t){return Il(t)?t.scrollX:t.scrollLeft}function $w(t){return Il(t)?t.scrollY:t.scrollTop}function dg(t){return{x:Bw(t),y:$w(t)}}var Xt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Xt||(Xt={}));function Hw(t){return!ff||!t?!1:t===document.scrollingElement}function Gw(t){const e={x:0,y:0},n=Hw(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},i={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},r=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,s=t.scrollTop>=i.y,u=t.scrollLeft>=i.x;return{isTop:r,isLeft:o,isBottom:s,isRight:u,maxScroll:i,minScroll:e}}const _8={x:.2,y:.2};function N8(t,e,n,i,r){let{top:o,left:s,right:u,bottom:d}=n;i===void 0&&(i=10),r===void 0&&(r=_8);const{isTop:f,isBottom:h,isLeft:v,isRight:T}=Gw(t),C={x:0,y:0},S={x:0,y:0},E={height:e.height*r.y,width:e.width*r.x};return!f&&o<=e.top+E.height?(C.y=Xt.Backward,S.y=i*Math.abs((e.top+E.height-o)/E.height)):!h&&d>=e.bottom-E.height&&(C.y=Xt.Forward,S.y=i*Math.abs((e.bottom-E.height-d)/E.height)),!T&&u>=e.right-E.width?(C.x=Xt.Forward,S.x=i*Math.abs((e.right-E.width-u)/E.width)):!v&&s<=e.left+E.width&&(C.x=Xt.Backward,S.x=i*Math.abs((e.left+E.width-s)/E.width)),{direction:C,speed:S}}function I8(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:e,left:n,right:i,bottom:r}=t.getBoundingClientRect();return{top:e,left:n,right:i,bottom:r,width:t.clientWidth,height:t.clientHeight}}function qw(t){return t.reduce((e,n)=>cl(e,dg(n)),Di)}function D8(t){return t.reduce((e,n)=>e+Bw(n),0)}function k8(t){return t.reduce((e,n)=>e+$w(n),0)}function M8(t,e){if(e===void 0&&(e=kl),!t)return;const{top:n,left:i,bottom:r,right:o}=e(t);Fw(t)&&(r<=0||o<=0||n>=window.innerHeight||i>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const R8=[["x",["left","right"],D8],["y",["top","bottom"],k8]];class my{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=fy(n),r=qw(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,s,u]of R8)for(const d of s)Object.defineProperty(this,d,{get:()=>{const f=u(i),h=r[o]-f;return this.rect[d]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class qs{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var r;(r=this.target)==null||r.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function L8(t){const{EventTarget:e}=Un(t);return t instanceof e?t:Dl(t)}function ch(t,e){const n=Math.abs(t.x),i=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var di;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(di||(di={}));function CC(t){t.preventDefault()}function O8(t){t.stopPropagation()}var ot;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ot||(ot={}));const Ww={start:[ot.Space,ot.Enter],cancel:[ot.Esc],end:[ot.Space,ot.Enter,ot.Tab]},P8=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ot.Right:return{...n,x:n.x+25};case ot.Left:return{...n,x:n.x-25};case ot.Down:return{...n,y:n.y+25};case ot.Up:return{...n,y:n.y-25}}};class py{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new qs(Dl(n)),this.windowListeners=new qs(Un(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(di.Resize,this.handleCancel),this.windowListeners.add(di.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(di.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&M8(i),n(Di)}handleKeyDown(e){if(dy(e)){const{active:n,context:i,options:r}=this.props,{keyboardCodes:o=Ww,coordinateGetter:s=P8,scrollBehavior:u="smooth"}=r,{code:d}=e;if(o.end.includes(d)){this.handleEnd(e);return}if(o.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:f}=i.current,h=f?{x:f.left,y:f.top}:Di;this.referenceCoordinates||(this.referenceCoordinates=h);const v=s(e,{active:n,context:i.current,currentCoordinates:h});if(v){const T=Od(v,h),C={x:0,y:0},{scrollableAncestors:S}=i.current;for(const E of S){const _=e.code,{isTop:I,isRight:D,isLeft:M,isBottom:P,maxScroll:L,minScroll:R}=Gw(E),B=I8(E),q={x:Math.min(_===ot.Right?B.right-B.width/2:B.right,Math.max(_===ot.Right?B.left:B.left+B.width/2,v.x)),y:Math.min(_===ot.Down?B.bottom-B.height/2:B.bottom,Math.max(_===ot.Down?B.top:B.top+B.height/2,v.y))},$=_===ot.Right&&!D||_===ot.Left&&!M,j=_===ot.Down&&!P||_===ot.Up&&!I;if($&&q.x!==v.x){const Z=E.scrollLeft+T.x,ne=_===ot.Right&&Z<=L.x||_===ot.Left&&Z>=R.x;if(ne&&!T.y){E.scrollTo({left:Z,behavior:u});return}ne?C.x=E.scrollLeft-Z:C.x=_===ot.Right?E.scrollLeft-L.x:E.scrollLeft-R.x,C.x&&E.scrollBy({left:-C.x,behavior:u});break}else if(j&&q.y!==v.y){const Z=E.scrollTop+T.y,ne=_===ot.Down&&Z<=L.y||_===ot.Up&&Z>=R.y;if(ne&&!T.x){E.scrollTo({top:Z,behavior:u});return}ne?C.y=E.scrollTop-Z:C.y=_===ot.Down?E.scrollTop-L.y:E.scrollTop-R.y,C.y&&E.scrollBy({top:-C.y,behavior:u});break}}this.handleMove(e,cl(Od(v,this.referenceCoordinates),C))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}py.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:i=Ww,onActivation:r}=e,{active:o}=n;const{code:s}=t.nativeEvent;if(i.start.includes(s)){const u=o.activatorNode.current;return u&&t.target!==u?!1:(t.preventDefault(),r==null||r({event:t.nativeEvent}),!0)}return!1}}];function SC(t){return!!(t&&"distance"in t)}function EC(t){return!!(t&&"delay"in t)}class hy{constructor(e,n,i){var r;i===void 0&&(i=L8(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:s}=o;this.props=e,this.events=n,this.document=Dl(s),this.documentListeners=new qs(this.document),this.listeners=new qs(i),this.windowListeners=new qs(Un(s)),this.initialCoordinates=(r=cg(o))!=null?r:Di,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(di.Resize,this.handleCancel),this.windowListeners.add(di.DragStart,CC),this.windowListeners.add(di.VisibilityChange,this.handleCancel),this.windowListeners.add(di.ContextMenu,CC),this.documentListeners.add(di.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(EC(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(SC(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:r}=this.props;r(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(di.Click,O8,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(di.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:r,props:o}=this,{onMove:s,options:{activationConstraint:u}}=o;if(!r)return;const d=(n=cg(e))!=null?n:Di,f=Od(r,d);if(!i&&u){if(SC(u)){if(u.tolerance!=null&&ch(f,u.tolerance))return this.handleCancel();if(ch(f,u.distance))return this.handleStart()}if(EC(u)&&ch(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}e.cancelable&&e.preventDefault(),s(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ot.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const U8={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class gy extends hy{constructor(e){const{event:n}=e,i=Dl(n.target);super(e,U8,i)}}gy.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i==null||i({event:n}),!0)}}];const j8={move:{name:"mousemove"},end:{name:"mouseup"}};var fg;(function(t){t[t.RightClick=2]="RightClick"})(fg||(fg={}));class z8 extends hy{constructor(e){super(e,j8,Dl(e.event.target))}}z8.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return n.button===fg.RightClick?!1:(i==null||i({event:n}),!0)}}];const dh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class V8 extends hy{constructor(e){super(e,dh)}static setup(){return window.addEventListener(dh.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(dh.move.name,e)};function e(){}}}V8.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;const{touches:r}=n;return r.length>1?!1:(i==null||i({event:n}),!0)}}];var Ws;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Ws||(Ws={}));var Ud;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ud||(Ud={}));function F8(t){let{acceleration:e,activator:n=Ws.Pointer,canScroll:i,draggingRect:r,enabled:o,interval:s=5,order:u=Ud.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:h,delta:v,threshold:T}=t;const C=$8({delta:v,disabled:!o}),[S,E]=XB(),_=N.useRef({x:0,y:0}),I=N.useRef({x:0,y:0}),D=N.useMemo(()=>{switch(n){case Ws.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Ws.DraggableRect:return r}},[n,r,d]),M=N.useRef(null),P=N.useCallback(()=>{const R=M.current;if(!R)return;const B=_.current.x*I.current.x,q=_.current.y*I.current.y;R.scrollBy(B,q)},[]),L=N.useMemo(()=>u===Ud.TreeOrder?[...f].reverse():f,[u,f]);N.useEffect(()=>{if(!o||!f.length||!D){E();return}for(const R of L){if((i==null?void 0:i(R))===!1)continue;const B=f.indexOf(R),q=h[B];if(!q)continue;const{direction:$,speed:j}=N8(R,q,D,e,T);for(const Z of["x","y"])C[Z][$[Z]]||(j[Z]=0,$[Z]=0);if(j.x>0||j.y>0){E(),M.current=R,S(P,s),_.current=j,I.current=$;return}}_.current={x:0,y:0},I.current={x:0,y:0},E()},[e,P,i,E,o,s,JSON.stringify(D),JSON.stringify(C),S,f,L,h,JSON.stringify(T)])}const B8={x:{[Xt.Backward]:!1,[Xt.Forward]:!1},y:{[Xt.Backward]:!1,[Xt.Forward]:!1}};function $8(t){let{delta:e,disabled:n}=t;const i=ug(e);return xu(r=>{if(n||!i||!r)return B8;const o={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[Xt.Backward]:r.x[Xt.Backward]||o.x===-1,[Xt.Forward]:r.x[Xt.Forward]||o.x===1},y:{[Xt.Backward]:r.y[Xt.Backward]||o.y===-1,[Xt.Forward]:r.y[Xt.Forward]||o.y===1}}},[n,e,i])}function H8(t,e){const n=e!=null?t.get(e):void 0,i=n?n.node.current:null;return xu(r=>{var o;return e==null?null:(o=i??r)!=null?o:null},[i,e])}function G8(t,e){return N.useMemo(()=>t.reduce((n,i)=>{const{sensor:r}=i,o=r.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,i)}));return[...n,...o]},[]),[t,e])}var lu;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(lu||(lu={}));var mg;(function(t){t.Optimized="optimized"})(mg||(mg={}));const wC=new Map;function q8(t,e){let{dragging:n,dependencies:i,config:r}=e;const[o,s]=N.useState(null),{frequency:u,measure:d,strategy:f}=r,h=N.useRef(t),v=_(),T=au(v),C=N.useCallback(function(I){I===void 0&&(I=[]),!T.current&&s(D=>D===null?I:D.concat(I.filter(M=>!D.includes(M))))},[T]),S=N.useRef(null),E=xu(I=>{if(v&&!n)return wC;if(!I||I===wC||h.current!==t||o!=null){const D=new Map;for(let M of t){if(!M)continue;if(o&&o.length>0&&!o.includes(M.id)&&M.rect.current){D.set(M.id,M.rect.current);continue}const P=M.node.current,L=P?new my(d(P),P):null;M.rect.current=L,L&&D.set(M.id,L)}return D}return I},[t,o,n,v,d]);return N.useEffect(()=>{h.current=t},[t]),N.useEffect(()=>{v||C()},[n,v]),N.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),N.useEffect(()=>{v||typeof u!="number"||S.current!==null||(S.current=setTimeout(()=>{C(),S.current=null},u))},[u,v,C,...i]),{droppableRects:E,measureDroppableContainers:C,measuringScheduled:o!=null};function _(){switch(f){case lu.Always:return!1;case lu.BeforeDragging:return n;default:return!n}}}function Yw(t,e){return xu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function W8(t,e){return Yw(t,e)}function Y8(t){let{callback:e,disabled:n}=t;const i=cy(e),r=N.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,n]);return N.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function mf(t){let{callback:e,disabled:n}=t;const i=cy(e),r=N.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[n]);return N.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function Z8(t){return new my(kl(t),t)}function AC(t,e,n){e===void 0&&(e=Z8);const[i,r]=N.useState(null);function o(){r(d=>{if(!t)return null;if(t.isConnected===!1){var f;return(f=d??n)!=null?f:null}const h=e(t);return JSON.stringify(d)===JSON.stringify(h)?d:h})}const s=Y8({callback(d){if(t)for(const f of d){const{type:h,target:v}=f;if(h==="childList"&&v instanceof HTMLElement&&v.contains(t)){o();break}}}}),u=mf({callback:o});return Qi(()=>{o(),t?(u==null||u.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),s==null||s.disconnect())},[t]),i}function K8(t){const e=Yw(t);return Vw(t,e)}const _C=[];function X8(t){const e=N.useRef(t),n=xu(i=>t?i&&i!==_C&&t&&e.current&&t.parentNode===e.current.parentNode?i:fy(t):_C,[t]);return N.useEffect(()=>{e.current=t},[t]),n}function J8(t){const[e,n]=N.useState(null),i=N.useRef(t),r=N.useCallback(o=>{const s=uh(o.target);s&&n(u=>u?(u.set(s,dg(s)),new Map(u)):null)},[]);return N.useEffect(()=>{const o=i.current;if(t!==o){s(o);const u=t.map(d=>{const f=uh(d);return f?(f.addEventListener("scroll",r,{passive:!0}),[f,dg(f)]):null}).filter(d=>d!=null);n(u.length?new Map(u):null),i.current=t}return()=>{s(t),s(o)};function s(u){u.forEach(d=>{const f=uh(d);f==null||f.removeEventListener("scroll",r)})}},[r,t]),N.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,s)=>cl(o,s),Di):qw(t):Di,[t,e])}function NC(t,e){e===void 0&&(e=[]);const n=N.useRef(null);return N.useEffect(()=>{n.current=null},e),N.useEffect(()=>{const i=t!==Di;i&&!n.current&&(n.current=t),!i&&n.current&&(n.current=null)},[t]),n.current?Od(t,n.current):Di}function Q8(t){N.useEffect(()=>{if(!ff)return;const e=t.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function e$(t,e){return N.useMemo(()=>t.reduce((n,i)=>{let{eventName:r,handler:o}=i;return n[r]=s=>{o(s,e)},n},{}),[t,e])}function Zw(t){return N.useMemo(()=>t?E8(t):null,[t])}const IC=[];function t$(t,e){e===void 0&&(e=kl);const[n]=t,i=Zw(n?Un(n):null),[r,o]=N.useState(IC);function s(){o(()=>t.length?t.map(d=>Hw(d)?i:new my(e(d),d)):IC)}const u=mf({callback:s});return Qi(()=>{u==null||u.disconnect(),s(),t.forEach(d=>u==null?void 0:u.observe(d))},[t]),r}function n$(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return vu(e)?e:t}function i$(t){let{measure:e}=t;const[n,i]=N.useState(null),r=N.useCallback(f=>{for(const{target:h}of f)if(vu(h)){i(v=>{const T=e(h);return v?{...v,width:T.width,height:T.height}:T});break}},[e]),o=mf({callback:r}),s=N.useCallback(f=>{const h=n$(f);o==null||o.disconnect(),h&&(o==null||o.observe(h)),i(h?e(h):null)},[e,o]),[u,d]=Ld(s);return N.useMemo(()=>({nodeRef:u,rect:n,setRef:d}),[n,u,d])}const r$=[{sensor:gy,options:{}},{sensor:py,options:{}}],a$={current:{}},id={draggable:{measure:TC},droppable:{measure:TC,strategy:lu.WhileDragging,frequency:mg.Optimized},dragOverlay:{measure:kl}};class Ys extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const o$={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ys,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Pd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:id,measureDroppableContainers:Pd,windowRect:null,measuringScheduled:!1},l$={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Pd,draggableNodes:new Map,over:null,measureDroppableContainers:Pd},pf=N.createContext(l$),Kw=N.createContext(o$);function s$(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ys}}}function u$(t,e){switch(e.type){case Gt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Gt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Gt.DragEnd:case Gt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Gt.RegisterDroppable:{const{element:n}=e,{id:i}=n,r=new Ys(t.droppable.containers);return r.set(i,n),{...t,droppable:{...t.droppable,containers:r}}}case Gt.SetDroppableDisabled:{const{id:n,key:i,disabled:r}=e,o=t.droppable.containers.get(n);if(!o||i!==o.key)return t;const s=new Ys(t.droppable.containers);return s.set(n,{...o,disabled:r}),{...t,droppable:{...t.droppable,containers:s}}}case Gt.UnregisterDroppable:{const{id:n,key:i}=e,r=t.droppable.containers.get(n);if(!r||i!==r.key)return t;const o=new Ys(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function c$(t){let{disabled:e}=t;const{active:n,activatorEvent:i,draggableNodes:r}=N.useContext(pf),o=ug(i),s=ug(n==null?void 0:n.id);return N.useEffect(()=>{if(!e&&!i&&o&&s!=null){if(!dy(o)||document.activeElement===o.target)return;const u=r.get(s);if(!u)return;const{activatorNode:d,node:f}=u;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[d.current,f.current]){if(!h)continue;const v=e8(h);if(v){v.focus();break}}})}},[i,e,r,s,o]),null}function d$(t,e){let{transform:n,...i}=e;return t!=null&&t.length?t.reduce((r,o)=>o({transform:r,...i}),n):n}function f$(t){return N.useMemo(()=>({draggable:{...id.draggable,...t==null?void 0:t.draggable},droppable:{...id.droppable,...t==null?void 0:t.droppable},dragOverlay:{...id.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function m$(t){let{activeNode:e,measure:n,initialRect:i,config:r=!0}=t;const o=N.useRef(!1),{x:s,y:u}=typeof r=="boolean"?{x:r,y:r}:r;Qi(()=>{if(!s&&!u||!e){o.current=!1;return}if(o.current||!i)return;const f=e==null?void 0:e.node.current;if(!f||f.isConnected===!1)return;const h=n(f),v=Vw(h,i);if(s||(v.x=0),u||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const T=Fw(f);T&&T.scrollBy({top:v.y,left:v.x})}},[e,s,u,i,n])}const Xw=N.createContext({...Di,scaleX:1,scaleY:1});var ra;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ra||(ra={}));const p$=N.memo(function(e){var n,i,r,o;let{id:s,accessibility:u,autoScroll:d=!0,children:f,sensors:h=r$,collisionDetection:v=y8,measuring:T,modifiers:C,...S}=e;const E=N.useReducer(u$,void 0,s$),[_,I]=E,[D,M]=o8(),[P,L]=N.useState(ra.Uninitialized),R=P===ra.Initialized,{draggable:{active:B,nodes:q,translate:$},droppable:{containers:j}}=_,Z=B!=null?q.get(B):null,ne=N.useRef({initial:null,translated:null}),ae=N.useMemo(()=>{var Nt;return B!=null?{id:B,data:(Nt=Z==null?void 0:Z.data)!=null?Nt:a$,rect:ne}:null},[B,Z]),ee=N.useRef(null),[Q,z]=N.useState(null),[G,re]=N.useState(null),de=au(S,Object.values(S)),w=bu("DndDescribedBy",s),H=N.useMemo(()=>j.getEnabled(),[j]),ie=f$(T),{droppableRects:O,measureDroppableContainers:ve,measuringScheduled:ke}=q8(H,{dragging:R,dependencies:[$.x,$.y],config:ie.droppable}),ye=H8(q,B),nt=N.useMemo(()=>G?cg(G):null,[G]),pe=Rl(),Ne=W8(ye,ie.draggable.measure);m$({activeNode:B!=null?q.get(B):null,config:pe.layoutShiftCompensation,initialRect:Ne,measure:ie.draggable.measure});const Re=AC(ye,ie.draggable.measure,Ne),st=AC(ye?ye.parentElement:null),Rt=N.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:O,draggableNodes:q,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),yn=j.getNodeFor((n=Rt.current.over)==null?void 0:n.id),wt=i$({measure:ie.dragOverlay.measure}),An=(i=wt.nodeRef.current)!=null?i:ye,_n=R?(r=wt.rect)!=null?r:Re:null,Bt=!!(wt.nodeRef.current&&wt.rect),Dr=K8(Bt?null:Re),gi=Zw(An?Un(An):null),an=X8(R?yn??ye:null),jn=t$(an),yi=d$(C,{transform:{x:$.x-Dr.x,y:$.y-Dr.y,scaleX:1,scaleY:1},activatorEvent:G,active:ae,activeNodeRect:Re,containerNodeRect:st,draggingNodeRect:_n,over:Rt.current.over,overlayNodeRect:wt.rect,scrollableAncestors:an,scrollableAncestorRects:jn,windowRect:gi}),ki=nt?cl(nt,$):null,nr=J8(an),Ml=NC(nr),oe=NC(nr,[Re]),ce=cl(yi,Ml),Ie=_n?b8(_n,yi):null,Le=ae&&Ie?v({active:ae,collisionRect:Ie,droppableRects:O,droppableContainers:H,pointerCoordinates:ki}):null,it=p8(Le,"id"),[_t,ei]=N.useState(null),on=Bt?yi:cl(yi,oe),ti=v8(on,(o=_t==null?void 0:_t.rect)!=null?o:null,Re),Qt=N.useRef(null),Lt=N.useCallback((Nt,vn)=>{let{sensor:ln,options:vi}=vn;if(ee.current==null)return;const sn=q.get(ee.current);if(!sn)return;const en=Nt.nativeEvent,zn=new ln({active:ee.current,activeNode:sn,event:en,options:vi,context:Rt,onAbort(yt){if(!q.get(yt))return;const{onDragAbort:Ct}=de.current,un={id:yt};Ct==null||Ct(un),D({type:"onDragAbort",event:un})},onPending(yt,Tt,Ct,un){if(!q.get(yt))return;const{onDragPending:ba}=de.current,Mi={id:yt,constraint:Tt,initialCoordinates:Ct,offset:un};ba==null||ba(Mi),D({type:"onDragPending",event:Mi})},onStart(yt){const Tt=ee.current;if(Tt==null)return;const Ct=q.get(Tt);if(!Ct)return;const{onDragStart:un}=de.current,ir={activatorEvent:en,active:{id:Tt,data:Ct.data,rect:ne}};Ei.unstable_batchedUpdates(()=>{un==null||un(ir),L(ra.Initializing),I({type:Gt.DragStart,initialCoordinates:yt,active:Tt}),D({type:"onDragStart",event:ir}),z(Qt.current),re(en)})},onMove(yt){I({type:Gt.DragMove,coordinates:yt})},onEnd:kr(Gt.DragEnd),onCancel:kr(Gt.DragCancel)});Qt.current=zn;function kr(yt){return async function(){const{active:Ct,collisions:un,over:ir,scrollAdjustedTranslate:ba}=Rt.current;let Mi=null;if(Ct&&ba){const{cancelDrop:Mr}=de.current;Mi={activatorEvent:en,active:Ct,collisions:un,delta:ba,over:ir},yt===Gt.DragEnd&&typeof Mr=="function"&&await Promise.resolve(Mr(Mi))&&(yt=Gt.DragCancel)}ee.current=null,Ei.unstable_batchedUpdates(()=>{I({type:yt}),L(ra.Uninitialized),ei(null),z(null),re(null),Qt.current=null;const Mr=yt===Gt.DragEnd?"onDragEnd":"onDragCancel";if(Mi){const rr=de.current[Mr];rr==null||rr(Mi),D({type:Mr,event:Mi})}})}}},[q]),Nn=N.useCallback((Nt,vn)=>(ln,vi)=>{const sn=ln.nativeEvent,en=q.get(vi);if(ee.current!==null||!en||sn.dndKit||sn.defaultPrevented)return;const zn={active:en};Nt(ln,vn.options,zn)===!0&&(sn.dndKit={capturedBy:vn.sensor},ee.current=vi,Lt(ln,vn))},[q,Lt]),In=G8(h,Nn);Q8(h),Qi(()=>{Re&&P===ra.Initializing&&L(ra.Initialized)},[Re,P]),N.useEffect(()=>{const{onDragMove:Nt}=de.current,{active:vn,activatorEvent:ln,collisions:vi,over:sn}=Rt.current;if(!vn||!ln)return;const en={active:vn,activatorEvent:ln,collisions:vi,delta:{x:ce.x,y:ce.y},over:sn};Ei.unstable_batchedUpdates(()=>{Nt==null||Nt(en),D({type:"onDragMove",event:en})})},[ce.x,ce.y]),N.useEffect(()=>{const{active:Nt,activatorEvent:vn,collisions:ln,droppableContainers:vi,scrollAdjustedTranslate:sn}=Rt.current;if(!Nt||ee.current==null||!vn||!sn)return;const{onDragOver:en}=de.current,zn=vi.get(it),kr=zn&&zn.rect.current?{id:zn.id,rect:zn.rect.current,data:zn.data,disabled:zn.disabled}:null,yt={active:Nt,activatorEvent:vn,collisions:ln,delta:{x:sn.x,y:sn.y},over:kr};Ei.unstable_batchedUpdates(()=>{ei(kr),en==null||en(yt),D({type:"onDragOver",event:yt})})},[it]),Qi(()=>{Rt.current={activatorEvent:G,active:ae,activeNode:ye,collisionRect:Ie,collisions:Le,droppableRects:O,draggableNodes:q,draggingNode:An,draggingNodeRect:_n,droppableContainers:j,over:_t,scrollableAncestors:an,scrollAdjustedTranslate:ce},ne.current={initial:_n,translated:Ie}},[ae,ye,Le,Ie,q,An,_n,O,j,_t,an,ce]),F8({...pe,delta:$,draggingRect:Ie,pointerCoordinates:ki,scrollableAncestors:an,scrollableAncestorRects:jn});const Tu=N.useMemo(()=>({active:ae,activeNode:ye,activeNodeRect:Re,activatorEvent:G,collisions:Le,containerNodeRect:st,dragOverlay:wt,draggableNodes:q,droppableContainers:j,droppableRects:O,over:_t,measureDroppableContainers:ve,scrollableAncestors:an,scrollableAncestorRects:jn,measuringConfiguration:ie,measuringScheduled:ke,windowRect:gi}),[ae,ye,Re,G,Le,st,wt,q,j,O,_t,ve,an,jn,ie,ke,gi]),Cu=N.useMemo(()=>({activatorEvent:G,activators:In,active:ae,activeNodeRect:Re,ariaDescribedById:{draggable:w},dispatch:I,draggableNodes:q,over:_t,measureDroppableContainers:ve}),[G,In,ae,Re,I,w,q,_t,ve]);return De.createElement(zw.Provider,{value:M},De.createElement(pf.Provider,{value:Cu},De.createElement(Kw.Provider,{value:Tu},De.createElement(Xw.Provider,{value:ti},f)),De.createElement(c$,{disabled:(u==null?void 0:u.restoreFocus)===!1})),De.createElement(u8,{...u,hiddenTextDescribedById:w}));function Rl(){const Nt=(Q==null?void 0:Q.autoScrollEnabled)===!1,vn=typeof d=="object"?d.enabled===!1:d===!1,ln=R&&!Nt&&!vn;return typeof d=="object"?{...d,enabled:ln}:{enabled:ln}}}),h$=N.createContext(null),DC="button",g$="Draggable";function y$(t){let{id:e,data:n,disabled:i=!1,attributes:r}=t;const o=bu(g$),{activators:s,activatorEvent:u,active:d,activeNodeRect:f,ariaDescribedById:h,draggableNodes:v,over:T}=N.useContext(pf),{role:C=DC,roleDescription:S="draggable",tabIndex:E=0}=r??{},_=(d==null?void 0:d.id)===e,I=N.useContext(_?Xw:h$),[D,M]=Ld(),[P,L]=Ld(),R=e$(s,e),B=au(n);Qi(()=>(v.set(e,{id:e,key:o,node:D,activatorNode:P,data:B}),()=>{const $=v.get(e);$&&$.key===o&&v.delete(e)}),[v,e]);const q=N.useMemo(()=>({role:C,tabIndex:E,"aria-disabled":i,"aria-pressed":_&&C===DC?!0:void 0,"aria-roledescription":S,"aria-describedby":h.draggable}),[i,C,E,_,S,h.draggable]);return{active:d,activatorEvent:u,activeNodeRect:f,attributes:q,isDragging:_,listeners:i?void 0:R,node:D,over:T,setNodeRef:M,setActivatorNodeRef:L,transform:I}}function v$(){return N.useContext(Kw)}const x$="Droppable",b$={timeout:25};function T$(t){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:r}=t;const o=bu(x$),{active:s,dispatch:u,over:d,measureDroppableContainers:f}=N.useContext(pf),h=N.useRef({disabled:n}),v=N.useRef(!1),T=N.useRef(null),C=N.useRef(null),{disabled:S,updateMeasurementsFor:E,timeout:_}={...b$,...r},I=au(E??i),D=N.useCallback(()=>{if(!v.current){v.current=!0;return}C.current!=null&&clearTimeout(C.current),C.current=setTimeout(()=>{f(Array.isArray(I.current)?I.current:[I.current]),C.current=null},_)},[_]),M=mf({callback:D,disabled:S||!s}),P=N.useCallback((q,$)=>{M&&($&&(M.unobserve($),v.current=!1),q&&M.observe(q))},[M]),[L,R]=Ld(P),B=au(e);return N.useEffect(()=>{!M||!L.current||(M.disconnect(),v.current=!1,M.observe(L.current))},[L,M]),N.useEffect(()=>(u({type:Gt.RegisterDroppable,element:{id:i,key:o,disabled:n,node:L,rect:T,data:B}}),()=>u({type:Gt.UnregisterDroppable,key:o,id:i})),[i]),N.useEffect(()=>{n!==h.current.disabled&&(u({type:Gt.SetDroppableDisabled,id:i,key:o,disabled:n}),h.current.disabled=n)},[i,o,n,u]),{active:s,rect:T,isOver:(d==null?void 0:d.id)===i,node:L,over:d,setNodeRef:R}}function yy(t,e,n){const i=t.slice();return i.splice(n<0?i.length+n:n,0,i.splice(e,1)[0]),i}function C$(t,e){return t.reduce((n,i,r)=>{const o=e.get(i);return o&&(n[r]=o),n},Array(t.length))}function $c(t){return t!==null&&t>=0}function S$(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function E$(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const vy=t=>{let{rects:e,activeIndex:n,overIndex:i,index:r}=t;const o=yy(e,i,n),s=e[r],u=o[r];return!u||!s?null:{x:u.left-s.left,y:u.top-s.top,scaleX:u.width/s.width,scaleY:u.height/s.height}},Jw="Sortable",Qw=De.createContext({activeIndex:-1,containerId:Jw,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:vy,disabled:{draggable:!1,droppable:!1}});function w$(t){let{children:e,id:n,items:i,strategy:r=vy,disabled:o=!1}=t;const{active:s,dragOverlay:u,droppableRects:d,over:f,measureDroppableContainers:h}=v$(),v=bu(Jw,n),T=u.rect!==null,C=N.useMemo(()=>i.map(R=>typeof R=="object"&&"id"in R?R.id:R),[i]),S=s!=null,E=s?C.indexOf(s.id):-1,_=f?C.indexOf(f.id):-1,I=N.useRef(C),D=!S$(C,I.current),M=_!==-1&&E===-1||D,P=E$(o);Qi(()=>{D&&S&&h(C)},[D,C,S,h]),N.useEffect(()=>{I.current=C},[C]);const L=N.useMemo(()=>({activeIndex:E,containerId:v,disabled:P,disableTransforms:M,items:C,overIndex:_,useDragOverlay:T,sortedRects:C$(C,d),strategy:r}),[E,v,P.draggable,P.droppable,M,C,_,d,T,r]);return De.createElement(Qw.Provider,{value:L},e)}const A$=t=>{let{id:e,items:n,activeIndex:i,overIndex:r}=t;return yy(n,i,r).indexOf(e)},_$=t=>{let{containerId:e,isSorting:n,wasDragging:i,index:r,items:o,newIndex:s,previousItems:u,previousContainerId:d,transition:f}=t;return!f||!i||u!==o&&r===s?!1:n?!0:s!==r&&e===d},N$={duration:200,easing:"ease"},eA="transform",I$=ou.Transition.toString({property:eA,duration:0,easing:"linear"}),D$={roleDescription:"sortable"};function k$(t){let{disabled:e,index:n,node:i,rect:r}=t;const[o,s]=N.useState(null),u=N.useRef(n);return Qi(()=>{if(!e&&n!==u.current&&i.current){const d=r.current;if(d){const f=kl(i.current,{ignoreTransform:!0}),h={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(h.x||h.y)&&s(h)}}n!==u.current&&(u.current=n)},[e,n,i,r]),N.useEffect(()=>{o&&s(null)},[o]),o}function M$(t){let{animateLayoutChanges:e=_$,attributes:n,disabled:i,data:r,getNewIndex:o=A$,id:s,strategy:u,resizeObserverConfig:d,transition:f=N$}=t;const{items:h,containerId:v,activeIndex:T,disabled:C,disableTransforms:S,sortedRects:E,overIndex:_,useDragOverlay:I,strategy:D}=N.useContext(Qw),M=R$(i,C),P=h.indexOf(s),L=N.useMemo(()=>({sortable:{containerId:v,index:P,items:h},...r}),[v,r,P,h]),R=N.useMemo(()=>h.slice(h.indexOf(s)),[h,s]),{rect:B,node:q,isOver:$,setNodeRef:j}=T$({id:s,data:L,disabled:M.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...d}}),{active:Z,activatorEvent:ne,activeNodeRect:ae,attributes:ee,setNodeRef:Q,listeners:z,isDragging:G,over:re,setActivatorNodeRef:de,transform:w}=y$({id:s,data:L,attributes:{...D$,...n},disabled:M.draggable}),H=KB(j,Q),ie=!!Z,O=ie&&!S&&$c(T)&&$c(_),ve=!I&&G,ke=ve&&O?w:null,nt=O?ke??(u??D)({rects:E,activeNodeRect:ae,activeIndex:T,overIndex:_,index:P}):null,pe=$c(T)&&$c(_)?o({id:s,items:h,activeIndex:T,overIndex:_}):P,Ne=Z==null?void 0:Z.id,Re=N.useRef({activeId:Ne,items:h,newIndex:pe,containerId:v}),st=h!==Re.current.items,Rt=e({active:Z,containerId:v,isDragging:G,isSorting:ie,id:s,index:P,items:h,newIndex:Re.current.newIndex,previousItems:Re.current.items,previousContainerId:Re.current.containerId,transition:f,wasDragging:Re.current.activeId!=null}),yn=k$({disabled:!Rt,index:P,node:q,rect:B});return N.useEffect(()=>{ie&&Re.current.newIndex!==pe&&(Re.current.newIndex=pe),v!==Re.current.containerId&&(Re.current.containerId=v),h!==Re.current.items&&(Re.current.items=h)},[ie,pe,v,h]),N.useEffect(()=>{if(Ne===Re.current.activeId)return;if(Ne&&!Re.current.activeId){Re.current.activeId=Ne;return}const An=setTimeout(()=>{Re.current.activeId=Ne},50);return()=>clearTimeout(An)},[Ne]),{active:Z,activeIndex:T,attributes:ee,data:L,rect:B,index:P,newIndex:pe,items:h,isOver:$,isSorting:ie,isDragging:G,listeners:z,node:q,overIndex:_,over:re,setNodeRef:H,setActivatorNodeRef:de,setDroppableNodeRef:j,setDraggableNodeRef:Q,transform:yn??nt,transition:wt()};function wt(){if(yn||st&&Re.current.newIndex===P)return I$;if(!(ve&&!dy(ne)||!f)&&(ie||Rt))return ou.Transition.toString({...f,property:eA})}}function R$(t,e){var n,i;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(i=t==null?void 0:t.droppable)!=null?i:e.droppable}}ot.Down,ot.Right,ot.Up,ot.Left;const L$=({title:t,iconName:e,isLoading:n=!1,children:i,className:r="",dragHandleListeners:o,isCurrentlyDragging:s,...u})=>{const d=`widget-title-${t.replace(/\s+/g,"-").toLowerCase()}`,f=o?s?"cursor-grabbing":"cursor-grab":"";return y.jsxs("div",{className:`bg-slate-700 p-4 rounded-lg shadow-md transition-all duration-300 hover:shadow-lg flex flex-col h-full ${r}`,role:"region","aria-labelledby":d,...u,children:[y.jsxs("div",{className:`flex items-center justify-between mb-3 pb-2 border-b border-slate-600 ${f}`,id:d,...o,children:[y.jsx("h3",{className:"text-lg font-semibold text-purple-300 truncate",title:t,children:t}),e&&!n&&y.jsx(me,{name:e,size:"md",className:"text-purple-400 opacity-70 flex-shrink-0 ml-2"}),n&&y.jsx(me,{name:"spinner",size:"sm",className:"text-purple-400 flex-shrink-0 ml-2"})]}),y.jsx("div",{className:"text-sm text-gray-200 flex-grow overflow-y-auto custom-scrollbar-themed",children:n?y.jsx(Vh,{lines:3,height:"h-4"}):i})]})},O$=({widgetConfig:t})=>{const{attributes:e,listeners:n,setNodeRef:i,transform:r,transition:o,isDragging:s}=M$({id:t.id}),u={transform:ou.Transform.toString(r),transition:o,opacity:s?.85:1,zIndex:s?100:void 0},d=t.component;return y.jsx("div",{ref:i,style:u,...e,className:"touch-manipulation",children:y.jsx(L$,{title:t.title,iconName:t.iconName,className:s?"shadow-2xl scale-102":"",dragHandleListeners:n,isCurrentlyDragging:s,children:y.jsx(d,{config:t})})})},tA=({config:t})=>De.createElement("div",{className:"border border-dashed border-gray-500 p-4 h-full flex flex-col items-center justify-center text-center text-gray-400 min-h-[100px]"},De.createElement("p",{key:"content-title",className:"text-sm"},`Περιεχόμενο για: ${t.title}`),De.createElement("p",{key:"content-id",className:"text-xs mt-1"},`(ID: ${t.id})`)),P$=({config:t})=>{const e=[{id:"task1",title:"Προετοιμασία αναφοράς πωλήσεων Q2"},{id:"task2",title:"Follow-up με πελάτη ΑΒΓ"},{id:"task3",title:'Έλεγχος προόδου έργου "Ανακαίνιση Κέντρου"'}];return y.jsxs("div",{className:"p-2 text-base text-gray-300 h-full",children:[" ",e.length>0?y.jsx("ul",{className:"space-y-1.5",children:e.map(n=>y.jsxs("li",{className:"p-1.5 bg-slate-600 rounded text-base hover:bg-slate-500 transition-colors",children:[" ",n.title]},n.id))}):y.jsx("p",{className:"mt-1 opacity-70",children:"Δεν υπάρχουν εργασίες για σήμερα."})]})},U$=({config:t})=>{const e=[{id:"rem1",text:"Κάλεσμα στον κ. Παπαδάκη στις 15:00"},{id:"rem2",text:"Αποστολή email προσφοράς στην Εταιρεία XYZ"}];return y.jsxs("div",{className:"p-2 text-base text-gray-300 h-full",children:[" ",e.length>0?y.jsx("ul",{className:"space-y-1.5",children:e.map(n=>y.jsxs("li",{className:"p-1.5 bg-slate-600 rounded text-base hover:bg-slate-500 transition-colors",children:[" ",n.text]},n.id))}):y.jsx("p",{className:"mt-1 opacity-70",children:"Δεν υπάρχουν υπενθυμίσεις για σήμερα."})]})},j$=({config:t})=>{const e=[{id:"n1",title:"Νέα αναφορά από @user",message:"Σας ανέφερε σε μια σημείωση."},{id:"n2",title:"Εργασία λήγει σύντομα",message:'Η εργασία "X" λήγει αύριο.'}];return y.jsxs("div",{className:"p-2 text-base text-gray-300 h-full",children:[" ",e.length>0?y.jsx("ul",{className:"space-y-1.5",children:e.map(n=>y.jsxs("li",{className:"p-1.5 bg-slate-600 rounded text-base hover:bg-slate-500 transition-colors",children:[" ",y.jsx("p",{className:"font-medium",children:n.title}),y.jsx("p",{className:"opacity-80",children:n.message})]},n.id))}):y.jsx("p",{className:"mt-1 opacity-70",children:"Δεν υπάρχουν πρόσφατες ειδοποιήσεις."})]})},z$=t=>{if(t===void 0||t<0)return"N/A";if(t===0)return"0δ";const e=Math.floor(t/3600),n=Math.floor(t%3600/60),i=Math.floor(t%60);return e>0?`${e}ω ${n}λ ${i}δ`:n>0?`${n}λ ${i}δ`:`${i}δ`},V$=t=>{if(!t)return"Άγνωστο";const e=new Date(t),n=new Date,i=n.getTime()-e.getTime(),r=Math.round(i/1e3),o=Math.round(r/60),s=Math.round(o/60);return r<5?"Μόλις τώρα":r<60?`πριν ${r}δ`:o<60?`πριν ${o}λ`:s<24?`πριν ${s}ώ`:n.toDateString()===e.toDateString()?e.toLocaleTimeString("el-GR",{hour:"2-digit",minute:"2-digit"}):new Date(n.setDate(n.getDate()-1)).toDateString()===e.toDateString()?`Χθες, ${e.toLocaleTimeString("el-GR",{hour:"2-digit",minute:"2-digit"})}`:e.toLocaleDateString("el-GR",{day:"2-digit",month:"2-digit",year:"2-digit"})},F$=({config:t})=>{const e=Tn(o=>o.callLog),n=kt(o=>o.contacts),i=N.useMemo(()=>[...e].sort((o,s)=>new Date(s.startTime||0).getTime()-new Date(o.startTime||0).getTime()).slice(0,3),[e]),r=o=>{let s="Άγνωστος",u="";if(o.direction==="inbound")if(u=o.from,o.contactId){const d=n.find(f=>f.id===o.contactId);d?s=d.contactType==="naturalPerson"?`${d.basicIdentity.firstName} ${d.basicIdentity.lastName}`.trim():d.name:s=o.contactDisplayName||`Επαφή (${o.contactId.slice(0,4)})`}else s=o.contactDisplayName||"Άγνωστος Καλών";else if(u=o.to,o.contactId){const d=n.find(f=>f.id===o.contactId);d?s=d.contactType==="naturalPerson"?`${d.basicIdentity.firstName} ${d.basicIdentity.lastName}`.trim():d.name:s=o.contactDisplayName||`Επαφή (${o.contactId.slice(0,4)})`}else s=o.contactDisplayName||"Άγνωστος Αριθμός";return{name:s,number:u}};return i.length===0?y.jsx("div",{className:"p-2 text-base text-gray-400 flex items-center justify-center h-full",children:"Δεν υπάρχουν πρόσφατες κλήσεις."}):y.jsx("div",{className:"p-1 text-base text-gray-300 h-full",children:y.jsx("ul",{className:"space-y-1.5",children:i.map(o=>{const{name:s,number:u}=r(o),d=o.direction==="inbound"?"Εισερχόμενη":"Εξερχόμενη",f=o.direction==="inbound"?"text-green-400":"text-sky-400",h=V$(o.startTime),v=z$(o.durationSeconds);let T=null,C="",S="";return o.status==="missed"?(T="phoneHangup",C="Αναπάντητη",S="text-amber-400"):o.status==="failed"?(T="alertTriangle",C=`Αποτυχία: ${o.errorMessage||"Άγνωστος λόγος"}`,S="text-red-400"):o.status==="voicemail"?(T="dialpad",C="Προωθήθηκε στον τηλεφωνητή",S="text-blue-400"):o.status==="busy"&&(T="phoneHangup",C="Κατειλημμένο",S="text-orange-400"),y.jsxs("li",{className:"p-1.5 bg-slate-600 rounded hover:bg-slate-550 transition-colors text-sm",children:[y.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[y.jsxs("div",{className:"flex items-center space-x-1.5",children:[y.jsx(me,{name:(o.direction==="inbound","arrowUturnLeft"),size:"xs",className:`${f} ${o.direction==="outbound"?"transform -scale-x-100 rotate-180":"transform -scale-x-100"}`}),y.jsx("span",{className:`font-medium ${f}`,children:d}),T&&y.jsx(ht,{content:C,position:"top",children:y.jsx("button",{className:"appearance-none bg-transparent border-none p-0 cursor-help",children:y.jsx(me,{name:T,size:"xs",className:S})})})]}),y.jsx("span",{className:"text-xs text-gray-400",children:h})]}),y.jsxs("p",{className:"font-normal text-gray-100 truncate",title:`${s} (${u})`,children:[s," ",y.jsxs("span",{className:"text-xs text-gray-400",children:["(",u,")"]})]}),y.jsxs("div",{className:"flex justify-between items-baseline",children:[y.jsxs("p",{className:"text-xs text-gray-400",children:["Διάρκεια: ",v]}),o.subject&&y.jsxs("p",{className:"text-xs text-purple-300 truncate ml-2",title:o.subject,children:["Θέμα: ",o.subject]})]})]},o.id)})})})},B$=[{id:"today-tasks",title:"Εργασίες Ημέρας",description:"Οι εργασίες που πρέπει να ολοκληρωθούν σήμερα.",component:P$,category:"Today",iconName:"checkCircle",defaultWidth:2,defaultHeight:2,defaultOrder:1,defaultVisibility:!0},{id:"today-reminders",title:"Υπενθυμίσεις Σήμερα",description:"Υπενθυμίσεις που λήγουν ή είναι ενεργές σήμερα.",component:U$,category:"Today",iconName:"bell",defaultWidth:1,defaultHeight:2,defaultOrder:2,defaultVisibility:!0},{id:"today-notifications-feed",title:"Ροή Ειδοποιήσεων",description:"Πρόσφατες σημαντικές ειδοποιήσεις.",component:j$,category:"Today",iconName:"bell",requiredPermissions:[X.VIEW_WIDGET_NOTIFICATIONS],defaultWidth:1,defaultHeight:2,defaultOrder:3,defaultVisibility:!0},{id:"today-recent-calls",title:"Πρόσφατες Κλήσεις",description:"Λίστα με τις τελευταίες εισερχόμενες/εξερχόμενες κλήσεις.",component:F$,category:"Today",iconName:"phone",requiredPermissions:[X.VIEW_CALL_LOGS_OWN],defaultWidth:2,defaultHeight:1,defaultOrder:4,defaultVisibility:!0}],$$=t=>{const e=new Date(t),i=new Date().getTime()-e.getTime(),r=Math.round(i/1e3),o=Math.round(r/60),s=Math.round(o/60),u=Math.round(s/24);return r<60?`πριν ${r}δ`:o<60?`πριν ${o}λ`:s<24?`πριν ${s}ώ`:u===1?"Χθες":u<7?`πριν ${u} ημέρες`:e.toLocaleDateString("el-GR",{day:"2-digit",month:"short"})},H$=({config:t})=>{const e=kt(u=>u.contacts),n=Te(u=>u.setActiveView),i=Te(u=>u.setSelectedContactId),r=Te(u=>u.setCurrentFormMode),o=N.useMemo(()=>[...e].sort((u,d)=>{const f=new Date(u.updatedAt||u.createdAt||0).getTime();return new Date(d.updatedAt||d.createdAt||0).getTime()-f}).slice(0,5),[e]),s=u=>{n("contacts"),i(u),r(null)};return o.length===0?y.jsxs("div",{className:"p-2 text-base text-gray-400 flex items-center justify-center h-full",children:[" ",U.noContactsYet||"Δεν υπάρχουν επαφές."]}):y.jsxs("div",{className:"p-1 text-base text-gray-300 h-full",children:[" ",y.jsx("ul",{className:"space-y-1.5",children:o.map(u=>{const d=u.contactType==="naturalPerson"?`${u.basicIdentity.firstName} ${u.basicIdentity.lastName}`.trim():u.name,f=(u.contactType==="legalEntity"||u.contactType==="publicService")&&u.avatarUrl,h=u.updatedAt||u.createdAt;return y.jsx("li",{children:y.jsxs("button",{onClick:()=>s(u.id),className:"w-full text-left p-1.5 bg-slate-600 rounded hover:bg-slate-550 transition-colors duration-150 flex items-center space-x-2 focus:outline-none focus:ring-1 focus:ring-purple-400","aria-label":`Προβολή ${d}`,children:[f?y.jsx(Wd,{logoUrl:u.avatarUrl,altText:d,containerClasses:"w-9 h-9 flex items-center justify-center overflow-hidden rounded-md flex-shrink-0",maxWidthClass:"max-w-9",maxHeightClass:"max-h-9"}):y.jsx(da,{name:d,avatarUrl:u.avatarUrl,sizeClasses:"w-9 h-9 rounded-full flex-shrink-0",textClasses:"text-sm"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("p",{className:"font-medium text-gray-100 truncate text-base",title:d,children:[" ",d]}),h&&y.jsxs("p",{className:"text-sm text-gray-400",children:[" ","Ενημερώθηκε: ",$$(h)]})]}),y.jsx(me,{name:"chevronDoubleRight",size:"sm",className:"text-gray-500 flex-shrink-0 opacity-70"})," "]})},u.id)})})]})},G$=[{id:"total-contacts-summary",title:"Σύνολο Επαφών",description:"Εμφανίζει το συνολικό πλήθος των επαφών.",component:tA,iconName:"usersGroup",requiredPermissions:[X.VIEW_WIDGET_TOTAL_CONTACTS],category:"Overview",defaultWidth:1,defaultHeight:1,isCore:!0,defaultOrder:1,defaultVisibility:!0},{id:"recent-contacts-list",title:"Πρόσφατες Επαφές (Overview)",description:"Λίστα με τις πιο πρόσφατα προστιθέμενες ή τροποποιημένες επαφές.",component:H$,iconName:"user",requiredPermissions:[X.VIEW_WIDGET_RECENT_CONTACTS],category:"Overview",defaultWidth:2,defaultHeight:2,defaultOrder:2,defaultVisibility:!0}],q$=({config:t,userId:e})=>{const n={assignedTasks:e?5:25,overdueTasks:e?1:5,completionRate:e?"80%":"75%"};return y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[" ",y.jsxs("div",{className:"space-y-1",children:[y.jsxs("p",{children:["Εργασίες που έχουν ανατεθεί: ",y.jsx("span",{className:"font-semibold text-purple-300",children:n.assignedTasks})]}),y.jsxs("p",{children:["Εκπρόθεσμες εργασίες: ",y.jsx("span",{className:"font-semibold text-red-400",children:n.overdueTasks})]}),y.jsxs("p",{children:["Ποσοστό ολοκλήρωσης: ",y.jsx("span",{className:"font-semibold text-green-400",children:n.completionRate})]})]}),e&&y.jsxs("p",{className:"mt-2 text-gray-400 italic",children:["Στοιχεία για τον χρήστη: ",e]})]})},W$=({config:t,teamId:e})=>{const n={totalTasks:e?15:50,completedTasks:e?10:35,recentActivities:['Ο Γιάννης ολοκλήρωσε την εργασία "Αναφορά Α"','Η Μαρία πρόσθεσε σχόλιο στο έργο "Νέο Project"']},i=n.totalTasks>0?(n.completedTasks/n.totalTasks*100).toFixed(0)+"%":"N/A";return y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[" ",y.jsxs("div",{className:"mb-2",children:[y.jsxs("p",{children:["Συνολικές Εργασίες Ομάδας: ",y.jsx("span",{className:"font-semibold text-purple-300",children:n.totalTasks})]}),y.jsxs("p",{children:["Ποσοστό Ολοκλήρωσης: ",y.jsx("span",{className:"font-semibold text-green-400",children:i})]})]}),y.jsx("h5",{className:"font-medium text-gray-200 mb-1",children:"Πρόσφατη Δραστηριότητα:"}),n.recentActivities.length>0?y.jsx("ul",{className:"list-disc list-inside space-y-0.5 text-gray-400",children:n.recentActivities.map((r,o)=>y.jsx("li",{children:r},o))}):y.jsx("p",{className:"text-gray-500 italic",children:"Καμία πρόσφατη δραστηριότητα."})]})},Y$=({config:t,userId:e})=>{const n=e?["Ολοκλήρωσε 3 εργασίες.",'Πρόσθεσε 2 σημειώσεις στην επαφή "Alpha Corp".','Πραγματοποίησε 1 κλήση προς "Beta Ltd".']:["Επιλέξτε έναν χρήστη για να δείτε το ημερήσιο αποτύπωμά του."];return y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[" ",y.jsxs("h5",{className:"font-medium text-gray-200 mb-1",children:["Ημερήσιο Αποτύπωμα ",e?`(${e})`:"",":"]}),n.length>0?y.jsx("ul",{className:"list-disc list-inside space-y-0.5 text-gray-400",children:n.map((i,r)=>y.jsx("li",{children:i},r))}):y.jsx("p",{className:"text-gray-500 italic",children:"Δεν υπάρχει καταγεγραμμένη δραστηριότητα για σήμερα."})]})},Z$=[{id:"user-performance-summary",title:"Σύνοψη Απόδοσης Χρήστη",description:"Βασικοί δείκτες απόδοσης για έναν χρήστη.",component:q$,category:"People",iconName:"user",requiredPermissions:[X.VIEW_PEOPLE_TAB],defaultWidth:1,defaultHeight:1,defaultOrder:1,defaultVisibility:!0},{id:"team-activity-overview",title:"Δραστηριότητα Ομάδας (People Tab)",description:"Επισκόπηση της δραστηριότητας μιας ομάδας.",component:W$,category:"People",iconName:"usersGroup",requiredPermissions:[X.VIEW_TEAM_ACTIVITY],defaultWidth:2,defaultHeight:2,defaultOrder:2,defaultVisibility:!0},{id:"user-daily-impact-log",title:"Ημερήσιο Αποτύπωμα Χρήστη",description:"Καταγραφή των κύριων ενεργειών ενός χρήστη για την ημέρα.",component:Y$,category:"People",iconName:"listBullet",requiredPermissions:[X.VIEW_ALL_USER_ACTIVITY],defaultWidth:1,defaultHeight:2,defaultOrder:3,defaultVisibility:!1,roleBasedVisibility:{[et.ADMIN]:{visible:!0},[et.MANAGER]:{visible:!0}}}],K$=({config:t})=>{const e=[{id:"mt1",title:"Ολοκλήρωση αναφοράς Α",dueDate:"Σήμερα"},{id:"mt2",title:"Επικοινωνία με πελάτη Β",dueDate:"Αύριο"},{id:"mt3",title:"Προετοιμασία υλικού για συνάντηση",dueDate:"25/12/2023"}];return y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[" ",e.length>0?y.jsx("ul",{className:"space-y-1.5",children:e.map(n=>y.jsxs("li",{className:"p-1.5 bg-slate-600 rounded text-sm hover:bg-slate-500 transition-colors",children:[" ",y.jsx("span",{className:"font-medium",children:n.title})," - ",y.jsxs("span",{className:"text-gray-400",children:["Λήξη: ",n.dueDate]})]},n.id))}):y.jsx("p",{className:"mt-1 opacity-70",children:"Δεν έχετε ανατεθειμένες εργασίες."})]})},X$=({config:t})=>{const e=[{id:"tt1",title:"Σχεδιασμός νέου feature",assignedTo:"Ομάδα UI/UX"},{id:"tt2",title:"Backend API development",assignedTo:"Ομάδα Backend"}];return y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[" ",e.length>0?y.jsx("ul",{className:"space-y-1.5",children:e.map(n=>y.jsxs("li",{className:"p-1.5 bg-slate-600 rounded text-sm hover:bg-slate-500 transition-colors",children:[" ",y.jsx("span",{className:"font-medium",children:n.title})," (",y.jsx("span",{className:"text-gray-400",children:n.assignedTo}),")"]},n.id))}):y.jsx("p",{className:"mt-1 opacity-70",children:"Δεν υπάρχουν ενεργές εργασίες ομάδας."})]})},J$=({config:t})=>{const e=[{id:"ot1",title:"Υποβολή φορολογικής δήλωσης",overdueBy:"3 ημέρες"},{id:"ot2",title:"Ανανέωση συνδρομής Χ",overdueBy:"1 ημέρα"}];return y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[" ",e.length>0?y.jsx("ul",{className:"space-y-1.5",children:e.map(n=>y.jsxs("li",{className:"p-1.5 bg-red-700/50 border border-red-600 rounded text-sm hover:bg-red-600/50 transition-colors",children:[" ",y.jsx("span",{className:"font-medium",children:n.title})," - ",y.jsxs("span",{className:"text-red-300",children:["Εκπρόθεσμο κατά: ",n.overdueBy]})]},n.id))}):y.jsx("p",{className:"mt-1 opacity-70",children:"Καμία εκπρόθεσμη εργασία!"})]})},Q$=({config:t})=>{const e=[{id:"ds1",title:"Προετοιμασία agenda για Δευτέρα",dueIn:"2 ημέρες"},{id:"ds2",title:"Τελικός έλεγχος παρουσίασης",dueIn:"Σήμερα"}];return y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[" ",e.length>0?y.jsx("ul",{className:"space-y-1.5",children:e.map(n=>y.jsxs("li",{className:"p-1.5 bg-amber-600/50 border border-amber-500 rounded text-sm hover:bg-amber-500/50 transition-colors",children:[" ",y.jsx("span",{className:"font-medium",children:n.title})," - ",y.jsxs("span",{className:"text-amber-200",children:["Λήγει σε: ",n.dueIn]})]},n.id))}):y.jsx("p",{className:"mt-1 opacity-70",children:"Καμία εργασία δεν λήγει σύντομα."})]})},eH=[{id:"my-tasks",title:"Οι Εργασίες Μου",description:"Λίστα με τις εργασίες που έχουν ανατεθεί στον τρέχοντα χρήστη.",component:K$,category:"Tasks",iconName:"checkCircle",requiredPermissions:[X.VIEW_DASHBOARD_PERSONAL],defaultWidth:2,defaultHeight:2,defaultOrder:1,defaultVisibility:!0},{id:"team-tasks",title:"Εργασίες Ομάδας",description:"Εργασίες που έχουν ανατεθεί στην ομάδα του χρήστη.",component:X$,category:"Tasks",iconName:"usersGroup",requiredPermissions:[X.VIEW_TEAM_ACTIVITY],defaultWidth:2,defaultHeight:2,defaultOrder:2,defaultVisibility:!0,roleBasedVisibility:{[et.EMPLOYEE]:{visible:!1}}},{id:"overdue-tasks",title:"Εκπρόθεσμες Εργασίες",description:"Εργασίες που έχουν περάσει την ημερομηνία λήξης τους.",component:J$,category:"Tasks",iconName:"alertTriangle",requiredPermissions:[X.VIEW_DASHBOARD_PERSONAL],defaultWidth:1,defaultHeight:1,defaultOrder:3,defaultVisibility:!0},{id:"due-soon-tasks",title:"Εργασίες που Λήγουν Σύντομα",description:"Εργασίες που πλησιάζουν στην ημερομηνία λήξης τους.",component:Q$,category:"Tasks",iconName:"bell",requiredPermissions:[X.VIEW_DASHBOARD_PERSONAL],defaultWidth:1,defaultHeight:1,defaultOrder:4,defaultVisibility:!0}],tH=({config:t})=>y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[y.jsxs("p",{className:"opacity-75",children:[t.title," (Placeholder)"]}),y.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-0.5 text-xs",children:[y.jsx("li",{children:"Έργο Α - Σε εξέλιξη"}),y.jsx("li",{children:"Έργο Β - Ολοκληρωμένο"}),y.jsx("li",{children:"Έργο Γ - Σε αναμονή"})]})]}),nH=({config:t})=>y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[y.jsxs("p",{className:"opacity-75",children:[t.title," (Placeholder)"]}),y.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-0.5 text-xs",children:[y.jsx("li",{children:"Φάση 1 Έργου Α - Λήγει 25/12"}),y.jsx("li",{children:"Παράδοση σχεδίων Έργου Β - Λήγει 30/12"})]})]}),iH=({config:t})=>y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[y.jsxs("p",{className:"opacity-75",children:[t.title," (Placeholder)"]}),y.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-0.5 text-xs",children:[y.jsx("li",{children:"Έγκριση προϋπολογισμού Έργου Γ"}),y.jsx("li",{children:"Αναμονή υλικών για Έργο Α"})]})]}),rH=[{id:"project-list-summary",title:"Σύνοψη Λίστας Έργων",description:"Εμφανίζει μια σύνοψη των ενεργών έργων.",component:tH,category:"Projects",iconName:"cog",defaultWidth:2,defaultHeight:2,defaultOrder:1,defaultVisibility:!0},{id:"upcoming-project-deadlines",title:"Προσεχείς Προθεσμίες Έργων",description:"Προθεσμίες έργων που πλησιάζουν.",component:nH,category:"Projects",iconName:"bell",defaultWidth:1,defaultHeight:1,defaultOrder:2,defaultVisibility:!0},{id:"blocked-project-items",title:"Μπλοκαρισμένα Στοιχεία Έργων",description:"Στοιχεία έργων που απαιτούν προσοχή.",component:iH,category:"Projects",iconName:"alertTriangle",defaultWidth:1,defaultHeight:1,defaultOrder:3,defaultVisibility:!0}],aH=({config:t})=>y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[y.jsxs("p",{className:"opacity-75",children:[t.title," (Placeholder)"]}),y.jsx("p",{className:"mt-1 text-xs",children:"Συνολικά έγγραφα: 150"}),y.jsx("p",{className:"text-xs",children:"Προς έγκριση: 5"})]}),oH=({config:t})=>y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[y.jsxs("p",{className:"opacity-75",children:[t.title," (Placeholder)"]}),y.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-0.5 text-xs",children:[y.jsx("li",{children:"Τελική αναφορά Έργου Α"}),y.jsx("li",{children:"Σχέδια Έργου Β"})]})]}),lH=[{id:"documents-overview",title:"Επισκόπηση Εγγράφων",description:"Γενική επισκόπηση των εγγράφων.",component:aH,category:"Documents",iconName:"fileText",defaultWidth:1,defaultHeight:1,defaultOrder:1,defaultVisibility:!0},{id:"pending-deliverables",title:"Λίστα Εκκρεμών Παραδοτέων",description:"Παραδοτέα που εκκρεμούν.",component:oH,category:"Documents",iconName:"listBullet",defaultWidth:2,defaultHeight:2,defaultOrder:2,defaultVisibility:!0}],sH=({config:t})=>y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[y.jsxs("p",{className:"opacity-75",children:[t.title," (Placeholder)"]}),y.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-0.5 text-xs",children:[y.jsx("li",{children:"10:05 - Ο χρήστης Χ πρόσθεσε νέα επαφή."}),y.jsx("li",{children:"09:30 - Ενημερώθηκε το Έργο Υ."}),y.jsx("li",{children:"Χθες - Εστάλη email στον πελάτη Ζ."})]})]}),uH=[{id:"timeline-activity-feed",title:"Ροή Δραστηριοτήτων (Ιστορικό)",description:"Εμφανίζει την πρόσφατη δραστηριότητα.",component:sH,category:"Timeline",iconName:"listBullet",defaultWidth:3,defaultHeight:2,defaultOrder:1,defaultVisibility:!0}],cH=[{id:"unread-notifications-count-legacy",title:"Αδιάβαστες Ειδοποιήσεις (Σύνολο)",description:"Πλήθος αδιάβαστων ειδοποιήσεων.",component:tA,iconName:"bell",requiredPermissions:[X.VIEW_WIDGET_NOTIFICATIONS],category:"System",defaultWidth:1,defaultHeight:1,isCore:!0,defaultOrder:1,defaultVisibility:!0}],dH=({config:t})=>y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[y.jsxs("p",{className:"opacity-75",children:[t.title," (Placeholder)"]}),y.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-0.5 text-xs",children:[y.jsx("li",{children:"Ειδοποίηση: Νέο task ανατέθηκε."}),y.jsx("li",{children:"Ενημέρωση: Η επαφή Χ ενημερώθηκε."})]})]}),fH=({config:t})=>y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[y.jsxs("p",{className:"opacity-75",children:[t.title," (Placeholder)"]}),y.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-0.5 text-xs",children:[y.jsx("li",{children:"Έγκριση παραγγελίας #123."}),y.jsx("li",{children:"Επικοινωνία με πελάτη Υ για follow-up."})]})]}),mH=[{id:"inbox-your-feed",title:"Η Ροή Σας",description:"Προσωπική ροή δραστηριοτήτων και ειδοποιήσεων.",component:dH,category:"Inbox",iconName:"bell",defaultWidth:2,defaultHeight:2,defaultOrder:1,defaultVisibility:!0},{id:"inbox-pending-actions",title:"Εκκρεμείς Ενέργειές Σας",description:"Λίστα με ενέργειες που απαιτούν την προσοχή σας.",component:fH,category:"Inbox",iconName:"checkCircle",defaultWidth:1,defaultHeight:2,defaultOrder:2,defaultVisibility:!0}],pH=({config:t})=>y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[y.jsxs("p",{className:"opacity-75",children:[t.title," (Placeholder)"]}),y.jsx("p",{className:"mt-1 text-xs",children:"Checklist Έργου Α: 5/7 ολοκληρωμένα."}),y.jsx("p",{className:"text-xs",children:"Checklist Υπόθεσης Β: 2/5 ολοκληρωμένα."})]}),hH=[{id:"checklists-manager",title:"Διαχείριση Checklists",description:"Διαχείριση και προβολή checklists ανά έργο/υπόθεση.",component:pH,category:"Checklists",iconName:"queueList",defaultWidth:3,defaultHeight:2,defaultOrder:1,defaultVisibility:!0}],gH=({config:t})=>y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[y.jsxs("p",{className:"opacity-75",children:[t.title," (Placeholder)"]}),y.jsx("p",{className:"mt-1 text-xs",children:"Ποσοστό Ολοκλήρωσης: 75%"}),y.jsx("div",{className:"mt-2 h-4 bg-slate-600 rounded",children:y.jsx("div",{className:"h-4 bg-green-500 rounded",style:{width:"75%"}})})]}),yH=({config:t})=>y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[y.jsxs("p",{className:"opacity-75",children:[t.title," (Placeholder)"]}),y.jsx("p",{className:"mt-1 text-xs",children:"Μέσος χρόνος εκπρόθεσμων: 2 ημέρες"}),y.jsx("p",{className:"text-xs",children:"Τάση: Αυξητική"})]}),vH=({config:t})=>y.jsxs("div",{className:"p-2 text-sm text-gray-300 h-full",children:[y.jsxs("p",{className:"opacity-75",children:[t.title," (Placeholder)"]}),y.jsx("p",{className:"mt-1 text-xs",children:"Μέσος χρόνος απόκρισης: 3 ώρες"}),y.jsx("p",{className:"text-xs",children:"Επίπεδο εξυπηρέτησης (SLA): 98%"})]}),xH=[{id:"kpi-task-completion-rate",title:"Ποσοστό Ολοκλήρωσης Εργασιών",description:"Εμφανίζει το ποσοστό ολοκλήρωσης των εργασιών.",component:gH,category:"Reports",iconName:"chartBar",requiredPermissions:[X.VIEW_REPORTS],defaultWidth:1,defaultHeight:1,defaultOrder:1,defaultVisibility:!0},{id:"kpi-overdue-behavior",title:"Συμπεριφορά Εκπρόθεσμων Εργασιών",description:"Ανάλυση της τάσης των εκπρόθεσμων εργασιών.",component:yH,category:"Reports",iconName:"alertTriangle",requiredPermissions:[X.VIEW_REPORTS],defaultWidth:1,defaultHeight:1,defaultOrder:2,defaultVisibility:!0},{id:"kpi-responsiveness",title:"Δείκτης Ανταποκρισιμότητας",description:"Μετρά την ταχύτητα ανταπόκρισης σε αιτήματα ή εργασίες.",component:vH,category:"Reports",iconName:"sparkles",requiredPermissions:[X.VIEW_REPORTS],defaultWidth:1,defaultHeight:1,defaultOrder:3,defaultVisibility:!0}],bH=250;let TH=[{id:Ce(),evaluationType:"team",targetId:"team-dev-alpha",targetName:"Ομάδα Ανάπτυξης Alpha",periodStartDate:"2023-01-01T00:00:00Z",periodEndDate:"2023-03-31T23:59:59Z",metrics:[{metricId:"tasks_completed",metricName:"Ολοκληρωμένες Εργασίες",value:120,targetValue:100,unit:"tasks",trend:"up"},{metricId:"bug_resolution_time",metricName:"Μέσος Χρόνος Επίλυσης Bugs",value:"2.5",targetValue:"2",unit:"days",trend:"down"},{metricId:"code_review_coverage",metricName:"Κάλυψη Code Review",value:90,targetValue:95,unit:"%",trend:"stable"}],overallScore:85,overallRating:"excellent",summary:"Η ομάδα Alpha επέδειξε εξαιρετική απόδοση το Q1 2023, ξεπερνώντας τους στόχους σε ολοκληρωμένες εργασίες.",evaluatorId:"manager-001",evaluatorName:"Διευθυντής Ανάπτυξης",evaluationDate:"2023-04-10T00:00:00Z",isDraft:!1},{id:Ce(),evaluationType:"individual",targetId:"user-001-yannis",targetName:"Γιάννης Παπαδόπουλος",periodStartDate:"2023-01-01T00:00:00Z",periodEndDate:"2023-06-30T23:59:59Z",metrics:[{metricId:"personal_task_completion",metricName:"Ατομική Ολοκλήρωση Εργασιών",value:95,targetValue:90,unit:"%",trend:"up"},{metricId:"contribution_to_projects",metricName:"Συμβολή σε Έργα",value:"Υψηλή",targetValue:"Υψηλή",trend:"stable"}],overallRating:"good",summary:"Ο Γιάννης διατήρησε καλή απόδοση με υψηλό ποσοστό ολοκλήρωσης εργασιών.",evaluatorId:"team-lead-002",evaluatorName:"Μαρία Κεφαλά (Team Lead)",evaluationDate:"2023-07-05T00:00:00Z"},{id:Ce(),evaluationType:"project",targetId:"project-omega-987",targetName:"Έργο Omega",periodStartDate:"2022-01-01T00:00:00Z",periodEndDate:"2022-12-31T23:59:59Z",metrics:[{metricId:"on_time_delivery",metricName:"Παράδοση Εντός Χρονοδιαγράμματος",value:0,unit:"boolean",notes:"Καθυστέρηση 2 μηνών"},{metricId:"budget_adherence",metricName:"Τήρηση Προϋπολογισμού",value:1,unit:"boolean",notes:"Εντός προϋπολογισμού"},{metricId:"stakeholder_satisfaction",metricName:"Ικανοποίηση Stakeholder",value:7,targetValue:8,unit:"/10",trend:"down"}],overallScore:60,overallRating:"needs_improvement",summary:"Το Έργο Omega αντιμετώπισε σημαντικές καθυστερήσεις, αν και παρέμεινε εντός προϋπολογισμού.",evaluatorId:"pm-office-003",evaluatorName:"Γραφείο Διαχείρισης Έργων",evaluationDate:"2023-01-20T00:00:00Z"}];const CH=async t=>{await new Promise(r=>setTimeout(r,bH));let e=[...TH];t!=null&&t.evaluationType&&(e=e.filter(r=>r.evaluationType===t.evaluationType)),t!=null&&t.targetId&&(e=e.filter(r=>r.targetId===t.targetId)),t!=null&&t.userId&&(e=e.filter(r=>r.targetId===t.userId||r.evaluatorId===t.userId)),t!=null&&t.sortBy?e.sort((r,o)=>{const s=r[t.sortBy],u=o[t.sortBy];let d=0;return s>u?d=1:s<u&&(d=-1),t.sortDirection==="desc"?d*-1:d}):e.sort((r,o)=>new Date(o.evaluationDate).getTime()-new Date(r.evaluationDate).getTime());const n=(t==null?void 0:t.limit)||10,i=(t==null?void 0:t.offset)||0;return console.log(`[EvaluationService] Fetched ${e.slice(i,i+n).length} evaluations with params:`,t),Promise.resolve(e.slice(i,i+n))},SH=({config:t,teamId:e})=>{const[n,i]=N.useState([]),[r,o]=N.useState(!0),[s,u]=N.useState(null);return N.useEffect(()=>{(async()=>{o(!0),u(null);try{const h=await CH(e?{evaluationType:"team",targetId:e,limit:3}:{evaluationType:"team",limit:3});i(h)}catch(f){console.error("Error fetching team evaluations for widget:",f),u("Αποτυχία φόρτωσης αξιολογήσεων ομάδας.")}finally{o(!1)}})()},[e]),r?y.jsx("div",{className:"p-2 text-sm text-gray-400",children:"Φόρτωση αξιολογήσεων ομάδας..."}):s?y.jsx("div",{className:"p-2 text-sm text-red-400",children:s}):n.length===0?y.jsx("div",{className:"p-2 text-sm text-gray-400",children:"Δεν βρέθηκαν αξιολογήσεις για την ομάδα."}):y.jsx("div",{className:"p-2 text-sm text-gray-300 h-full",children:y.jsx("ul",{className:"space-y-2",children:n.map(d=>y.jsxs("li",{className:"p-1.5 bg-slate-600 rounded",children:[y.jsx("p",{className:"font-medium text-purple-300",children:d.targetName}),y.jsxs("p",{className:"text-xs text-gray-400",children:["Περίοδος: ",new Date(d.periodStartDate).toLocaleDateString("el-GR")," - ",new Date(d.periodEndDate).toLocaleDateString("el-GR")]}),y.jsxs("p",{className:"text-xs text-gray-400",children:["Βαθμολογία: ",y.jsx("span",{className:"font-semibold",children:d.overallScore||"N/A"})," (",d.overallRating||"N/A",")"]}),d.summary&&y.jsxs("p",{className:"text-xs mt-0.5 text-gray-400 truncate",title:d.summary,children:["Σύνοψη: ",d.summary]})]},d.id))})})},EH=[{id:"evaluation-team-overview",title:"Επισκόπηση Απόδοσης Ομάδας",description:"Εμφανίζει μια σύνοψη των αξιολογήσεων απόδοσης για ομάδες.",component:SH,category:"Evaluations",iconName:"usersGroup",requiredPermissions:[X.VIEW_REPORTS],defaultWidth:2,defaultHeight:2,defaultOrder:1,defaultVisibility:!0,roleBasedVisibility:{[et.EMPLOYEE]:{visible:!1},[et.CONSULTANT]:{visible:!1}}}],ha=[...B$,...G$,...Z$,...eH,...rH,...lH,...uH,...cH,...mH,...hH,...xH,...EH],nA="dashboardUserPreferences",fh=(t,e)=>{let n=ha;return e&&(n=ha.filter(r=>r.category===e)),n.map(r=>{let o=r.defaultVisibility!==!1,s=r.defaultOrder!==void 0?r.defaultOrder:1/0;if(r.roleBasedVisibility){for(const u of t)if(r.roleBasedVisibility[u]){const d=r.roleBasedVisibility[u];(d==null?void 0:d.visible)!==void 0&&(o=d.visible),(d==null?void 0:d.order)!==void 0&&(s=d.order);break}}return t.length===0&&!r.roleBasedVisibility&&r.defaultVisibility===!1&&!r.isCore&&(o=!1),s===1/0&&o&&(s=999),s===1/0&&!o&&(s=1999),{id:r.id,visible:o,order:s}}).sort((r,o)=>r.order-o.order)},wH=t=>{try{const e=localStorage.getItem(`${nA}_${t}`);if(e){const n=JSON.parse(e);if(n&&Array.isArray(n.widgets))return n}}catch(e){console.error("Error loading dashboard preferences from localStorage:",e)}return null},AH=(t,e)=>{try{localStorage.setItem(`${nA}_${t}`,JSON.stringify(e))}catch(n){console.error("Error saving dashboard preferences to localStorage:",n)}},mh="current_user_mock_id",Yn=no()(io((t,e)=>({activeWidgets:[],currentTabId:null,userRoles:[],isInitialized:!1,initializeLayout:(n,i)=>{t(f=>{f.userRoles=i,f.currentTabId=n});const r=wH(mh),o=fh(i);let s;r?(s=o.map(f=>{const h=r.widgets.find(v=>v.id===f.id);return h?{...f,...h}:f}),r.widgets.forEach(f=>{!s.find(h=>h.id===f.id)&&ha.find(h=>h.id===f.id)&&s.push(f)})):s=o;const d=fh(i).map(f=>{const h=s.find(v=>v.id===f.id);return h?{...f,...h}:f});t(f=>{f.activeWidgets=d.sort((h,v)=>h.order-v.order),f.isInitialized=!0})},setWidgetVisibility:(n,i)=>{t(r=>{const o=r.activeWidgets.findIndex(s=>s.id===n);o!==-1?(r.activeWidgets[o].visible=i,e()._saveCurrentLayout()):console.warn(`[DashboardStore] Widget with ID ${n} not found to set visibility.`)})},setWidgetOrder:(n,i)=>{t(r=>{const o=r.activeWidgets.findIndex(s=>s.id===n);o!==-1?(r.activeWidgets[o].order=i,e()._saveCurrentLayout()):console.warn(`[DashboardStore] Widget with ID ${n} not found to set order.`)})},updateWidgetOrders:n=>{t(i=>{n.forEach(r=>{const o=i.activeWidgets.findIndex(s=>s.id===r.id);o!==-1&&(i.activeWidgets[o].order=r.order)}),e()._saveCurrentLayout()})},_saveCurrentLayout:()=>{const{activeWidgets:n}=e();AH(mh,{userId:mh,widgets:n})},resetLayoutToDefaults:n=>{const{userRoles:i}=e(),r=fh(i,n);t(o=>{const s=o.activeWidgets.filter(u=>{const d=ha.find(f=>f.id===u.id);return(d==null?void 0:d.category)!==n});o.activeWidgets=[...s,...r].sort((u,d)=>u.order-d.order),e()._saveCurrentLayout()})}}))),_H=(t,e)=>{const n=Yn(s=>s.activeWidgets);return Yn(s=>s.isInitialized)?ha.filter(s=>s.category===t).filter(s=>{var f;const u=n.find(h=>h.id===s.id);let d=s.defaultVisibility!==!1;if(u&&u.visible!==void 0)d=u.visible;else if(s.roleBasedVisibility){for(const h of e)if(((f=s.roleBasedVisibility[h])==null?void 0:f.visible)!==void 0){d=s.roleBasedVisibility[h].visible;break}}return d?!s.requiredPermissions||s.requiredPermissions.length===0?!0:s.requiredPermissions.every(h=>Ft(e,h)):!1}).map(s=>{const u=n.find(d=>d.id===s.id);return{...s,order:(u==null?void 0:u.order)??s.defaultOrder??999}}).sort((s,u)=>s.order-u.order):[]},NH=({widgets:t,className:e=""})=>{const n=Yn(s=>s.updateWidgetOrders),i=c8(xC(gy),xC(py)),r=s=>{const{active:u,over:d}=s;if(d&&u.id!==d.id){const f=t.findIndex(v=>v.id===u.id),h=t.findIndex(v=>v.id===d.id);if(f!==-1&&h!==-1){const T=yy(t,f,h).map((C,S)=>({id:C.id,order:S}));n(T)}}};if(!t||t.length===0)return y.jsx("div",{className:`p-4 text-center text-gray-500 ${e}`,children:"Δεν υπάρχουν widgets για εμφάνιση σε αυτή την καρτέλα."});const o=t.map(s=>s.id);return y.jsx(p$,{sensors:i,collisionDetection:h8,onDragEnd:r,children:y.jsx(w$,{items:o,strategy:vy,children:y.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 p-4 ${e}`,"aria-label":"Dashboard Widgets Grid",role:"region",children:t.map(s=>y.jsx(O$,{widgetConfig:s},s.id))})})})},IH=()=>{const t=Yn(r=>r.resetLayoutToDefaults),e=Yn(r=>r.currentTabId),n=e&&ha.some(r=>r.category===e),i=()=>{n&&e?t(e):console.warn("[LayoutControls] Cannot reset layout: currentTabId is null or not a valid content tab category.",e)};return y.jsx("div",{className:"layout-controls p-2 flex items-center justify-end space-x-2",children:y.jsx(ht,{content:"Επαναφορά διάταξης στις προεπιλογές για αυτήν την καρτέλα",position:"bottom",children:y.jsx(we,{variant:"secondary",size:"sm",onClick:i,leftIcon:y.jsx(me,{name:"arrowUturnLeft",size:"sm"}),className:"text-xs",disabled:!n,children:"Επαναφορά Διάταξης"})})})},iA=({userRoles:t})=>{const e=Yn(d=>d.currentTabId),n=Yn(d=>d.activeWidgets),i=Yn(d=>d.setWidgetVisibility);if(!Yn(d=>d.isInitialized))return y.jsxs("div",{className:"p-6 text-center text-gray-400",children:[y.jsx(me,{name:"spinner",size:"lg",className:"mb-2"}),y.jsx("p",{children:"Φόρτωση ρυθμίσεων διάταξης..."})]});if(!e)return y.jsx("div",{className:"p-6 text-center text-gray-400",children:'Παρακαλώ επιλέξτε πρώτα μια καρτέλα περιεχομένου (π.χ. "Επισκόπηση", "Εργασίες") για να διαμορφώσετε τα widgets της.'});const o=ha.find(d=>d.category===e),s=(o==null?void 0:o.category)||e,u=ha.filter(d=>d.category!==e?!1:!d.requiredPermissions||d.requiredPermissions.length===0?!0:d.requiredPermissions.every(f=>Ft(t,f)));return u.length===0?y.jsxs("div",{className:"p-6 text-center text-gray-400",children:['Δεν υπάρχουν διαθέσιμα widgets για διαμόρφωση στην καρτέλα "',s,'" για τον ρόλο σας.']}):y.jsxs("div",{className:"p-4 sm:p-6",children:[" ",y.jsxs("h2",{className:"text-xl font-semibold text-purple-300 mb-1",children:["Ρυθμίσεις Widgets για την Καρτέλα: ",y.jsx("span",{className:"text-purple-200",children:s})]}),y.jsxs("p",{className:"text-base text-gray-400 mb-6",children:[" ",'Επιλέξτε ποια widgets θα εμφανίζονται στην καρτέλα "',s,'". Οι αλλαγές αποθηκεύονται αυτόματα.']}),y.jsx(hn,{axis:"y",className:"max-h-[calc(100vh-250px)]",children:y.jsx("div",{className:"space-y-3 pr-2",children:u.map(d=>{var v;const f=n.find(T=>T.id===d.id);let h=d.defaultVisibility!==!1;if(f&&f.visible!==void 0)h=f.visible;else if(d.roleBasedVisibility){for(const T of t)if(((v=d.roleBasedVisibility[T])==null?void 0:v.visible)!==void 0){h=d.roleBasedVisibility[T].visible;break}}return y.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700 rounded-lg shadow-sm hover:bg-slate-650 transition-colors duration-150",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-base font-medium text-gray-100",children:d.title})," ",d.description&&y.jsx("p",{className:"text-sm text-gray-400 mt-0.5",children:d.description})]}),y.jsx(Yd,{id:`widget-toggle-${d.id}`,checked:h,onChange:T=>i(d.id,T),"aria-label":`Εναλλαγή ορατότητας για το widget ${d.title}`})]},d.id)})})})]})},kC=[{id:"Today",label:"Σήμερα",iconName:"dashboard"},{id:"Overview",label:"Επισκόπηση",iconName:"eye"},{id:"Tasks",label:"Εργασίες",iconName:"checkCircle"},{id:"Projects",label:"Έργα / Υποθέσεις",iconName:"cog"},{id:"Reports",label:"Αναφορές & KPIs",iconName:"chartBar"},{id:"Documents",label:"Έγγραφα / Παραδοτέα",iconName:"fileText"},{id:"Timeline",label:"Ιστορικό Ενεργειών",iconName:"listBullet"},{id:"People",label:"Άτομα & Ομάδες",iconName:"usersGroup"},{id:"Inbox",label:"Inbox / Feed",iconName:"bell"},{id:"Checklists",label:"Checklists",iconName:"queueList"},{id:"Evaluations",label:"Αξιολογήσεις",iconName:"sparkles"},{id:"System",label:"Σύστημα",iconName:"settings"},{id:"dashboard-settings-editor",label:"Ρυθμίσεις Πίνακα",iconName:"filter"}],DH=({userRoles:t})=>{var f;const[e,n]=N.useState(((f=kC[0])==null?void 0:f.id)||"Today"),i=Yn(h=>h.initializeLayout),r=Yn(h=>h.isInitialized&&h.currentTabId===e),o=Yn(h=>h.currentTabId);N.useEffect(()=>{e!=="dashboard-settings-editor"&&(!r||o!==e)&&i(e,t)},[i,e,t,r,o]);const s=_H(e,t),u=N.useMemo(()=>kC,[]),d=h=>{n(h),h!=="dashboard-settings-editor"&&Yn.setState({currentTabId:h})};return N.useEffect(()=>{u.length>0&&!u.find(h=>h.id===e)&&d(u[0].id)},[u,e]),!r&&e!=="dashboard-settings-editor"?y.jsxs(yC,{className:"p-0 items-center justify-center bg-slate-900",children:[" ",y.jsxs("div",{className:"flex flex-col items-center text-gray-300",children:[y.jsx(me,{name:"spinner",size:"w-10 h-10",className:"mb-3 text-purple-400"}),y.jsxs("p",{className:"text-lg",children:['Φόρτωση πίνακα ελέγχου για την καρτέλα "',e,'"...']})]})]}):y.jsxs(yC,{className:"p-0 bg-slate-900",children:[" ",y.jsxs("div",{className:"flex flex-col flex-shrink-0",children:[" ",y.jsx(IH,{}),y.jsx(ZB,{tabs:u,activeTabId:e,onTabChange:d})]}),y.jsx("div",{role:"tabpanel",id:`dashboard-tabpanel-${e}`,"aria-labelledby":`dashboard-tab-${e}`,className:"flex-grow overflow-auto custom-scrollbar-themed bg-slate-800 border-t border-slate-700 rounded-b-lg",children:e==="dashboard-settings-editor"?y.jsx(iA,{userRoles:t}):y.jsx(NH,{widgets:s,className:"p-3 sm:p-4"})})]})},kH=({user:t})=>y.jsxs("li",{className:"p-3 bg-slate-700 rounded-lg shadow-sm hover:bg-slate-650 transition-colors duration-150 flex items-center space-x-3",children:[y.jsx(da,{name:t.displayName,avatarUrl:t.avatarUrl,sizeClasses:"w-10 h-10 rounded-full flex-shrink-0",textClasses:"text-sm"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-sm font-medium text-gray-100 truncate",title:t.displayName,children:t.displayName}),y.jsxs("p",{className:"text-xs text-gray-400 truncate",title:`@${t.username}`,children:["@",t.username]})]})]}),MH=()=>y.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[y.jsx("h1",{className:"font-[var(--font-heading)] text-[var(--font-size-3xl)] font-[var(--font-weight-bold)] text-gray-200",children:U.usersTitle}),Jt.length>0?y.jsx("ul",{className:"space-y-3",children:Jt.map(t=>y.jsx(kH,{user:t},t.id))}):y.jsx("p",{className:"text-gray-400",children:"Δεν βρέθηκαν χρήστες."})]}),RH=()=>{const t=On(n=>n.notificationTypeSettings),e=On(n=>n.toggleNotificationTypeSetting);return y.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[y.jsx("h1",{className:"font-[var(--font-heading)] text-[var(--font-size-3xl)] font-[var(--font-weight-bold)] text-gray-200",children:U.settingsTitle}),y.jsxs("section",{"aria-labelledby":"notification-preferences-heading",children:[y.jsx("h2",{id:"notification-preferences-heading",className:"text-xl font-semibold text-purple-300 mb-3",children:U.notificationPreferencesTitle}),y.jsx("div",{className:"bg-slate-800 p-4 rounded-lg shadow-md space-y-3",children:Mg.map(n=>y.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700 rounded-lg hover:bg-slate-650 transition-colors",children:[y.jsx("span",{className:"text-sm text-gray-200",children:gh[n]||n}),y.jsx(Yd,{id:`toggle-notification-${n}`,checked:t[n]??!0,onChange:()=>e(n),size:"md","aria-label":`Εναλλαγή ειδοποιήσεων για ${gh[n]||n}`})]},n))})]})]})},LH=["1","2","3","4","5","6","7","8","9","*","0","#"],OH=()=>{const[t,e]=N.useState(""),{startVoipCall:n,isVoipReady:i}=Iw(),[r,o]=N.useState(!1),s=h=>{e(v=>v+h)},u=()=>{e(h=>h.slice(0,-1))},d=()=>{e("")},f=async()=>{if(!t.trim()){fe.error("Εισαγάγετε έναν αριθμό για κλήση.");return}if(!i){fe.error("Το σύστημα VoIP δεν είναι έτοιμο.");return}o(!0);const h=XM(t);await n({id:`dialpad-${Date.now()}`,number:h,type:"voip",protocols:["voice"]},{contact:{id:`dialpad-contact-${Date.now()}`,displayName:h,contactType:"naturalPerson"},subject:"Κλήση από Πληκτρολόγιο"}),o(!1)};return y.jsxs("div",{className:"max-w-xs mx-auto p-4 bg-slate-800 rounded-lg shadow-xl border border-slate-700",children:[y.jsx("input",{type:"text",value:t,onChange:h=>e(h.target.value.replace(/[^0-9*#+]/g,"")),placeholder:"Εισαγάγετε αριθμό",className:"w-full p-3 mb-4 text-center text-2xl bg-slate-700 text-gray-100 rounded-md border border-slate-600 focus:ring-purple-500 focus:border-purple-500 outline-none","aria-label":"Εισαγωγή αριθμού τηλεφώνου"}),y.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:LH.map(h=>y.jsx(we,{onClick:()=>s(h),variant:"secondary",className:"!text-xl !py-3 aspect-square !bg-slate-700 hover:!bg-slate-600","aria-label":`Πλήκτρο ${h}`,children:h},h))}),y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx(we,{variant:"ghost",onClick:u,className:"!p-2 text-slate-400 hover:!text-slate-200","aria-label":"Διαγραφή τελευταίου ψηφίου",children:y.jsx(me,{name:"arrowUturnLeft",size:"md",className:"transform -scale-x-100"})}),y.jsx(we,{variant:"ghost",onClick:d,className:"!p-2 text-slate-400 hover:!text-slate-200","aria-label":"Εκκαθάριση εισαγωγής",children:y.jsx(me,{name:"close",size:"md"})})]}),y.jsx(we,{onClick:f,variant:"primary",className:"w-full !text-lg !py-3 !bg-green-600 hover:!bg-green-500",isLoading:r,disabled:!i||r,leftIcon:y.jsx(me,{name:"phone",size:"md"}),children:"Κλήση"}),!i&&y.jsx("p",{className:"text-xs text-red-400 text-center mt-2",children:"Το σύστημα VoIP δεν είναι διαθέσιμο."})]})},PH=()=>y.jsx("div",{className:"p-4 sm:p-6 flex flex-col items-center justify-start h-full",children:y.jsx(OH,{})}),UH={planning:"Σχεδιασμός",design:"Μελέτη",licensing:"Αδειοδότηση",construction:"Κατασκευή",selling:"Πωλήσεις",completed:"Ολοκληρωμένο",on_hold:"Σε Αναμονή",cancelled:"Ακυρωμένο"},jH=t=>t.startsWith("image/")?"fileImage":t==="application/pdf"?"filePdf":t.includes("wordprocessingml")||t==="application/msword"||t==="text/plain"?"fileText":["application/zip","application/x-rar-compressed","application/x-7z-compressed","application/x-tar"].includes(t)?"fileArchive":"fileGeneric",zH=({document:t,onDelete:e,canDelete:n})=>{const i=(t.fileSize/1024).toFixed(1),r=QN[t.documentCategory]||t.documentCategory,o=new Date(t.uploadedAt).toLocaleDateString("el-GR",{day:"2-digit",month:"2-digit",year:"numeric"}),s=()=>{console.log(`Mock download requested for: ${t.fileName} from ${t.storagePath}`),alert(`Θα ξεκινούσε η λήψη του: ${t.fileName}`)};return y.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-700 hover:bg-slate-650 rounded-md shadow-sm transition-colors duration-150",children:[y.jsxs("div",{className:"flex items-center space-x-3 min-w-0",children:[y.jsx(me,{name:jH(t.fileType),size:"md",className:"text-gray-400 flex-shrink-0"}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("a",{href:t.storagePath,onClick:u=>{u.preventDefault(),s()},className:"text-sm font-medium text-purple-300 hover:underline truncate block",title:t.fileName,children:t.fileName}),y.jsxs("p",{className:"text-xs text-gray-400 truncate",title:`${r} - ${i} KB - ${o}`,children:[r," - ",i," KB - ",U.uploadedOnLabel," ",o]}),t.description&&y.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",title:t.description,children:t.description})]})]}),y.jsx("div",{className:"flex-shrink-0",children:n&&y.jsx(ht,{content:gg.deleteNoteButtonTooltip,position:"top",children:y.jsx(we,{variant:"icon",size:"sm",onClick:()=>e(t.id),className:"!p-1 text-gray-500 hover:text-red-400","aria-label":`Διαγραφή εγγράφου ${t.fileName}`,children:y.jsx(me,{name:"trash",size:"sm"})})})})]})},VH=({entityId:t,entityType:e,currentUser:n})=>{const[i,r]=N.useState([]),[o,s]=N.useState(!0),[u,d]=N.useState(null),f=N.useCallback(async()=>{if(!n){d("Απαιτείται σύνδεση χρήστη για την προβολή εγγράφων."),s(!1);return}s(!0),d(null);try{const v=await BM(n,{relatedEntityId:t,relatedEntityType:e});r(v)}catch(v){console.error("Error fetching documents:",v),d(v.message||"Σφάλμα κατά τη φόρτωση των εγγράφων.")}finally{s(!1)}},[t,e,n]);N.useEffect(()=>{f()},[f]);const h=async v=>{if(!n){fe.error("Απαιτείται σύνδεση χρήστη.");return}const T=i.find(_=>_.id===v);if(!T)return;const C=Ft(n.roles,X.DELETE_ANY_DOCUMENT_FILE)||Ft(n.roles,X.MANAGE_ANY_DOCUMENT_METADATA),S=Ft(n.roles,X.MANAGE_OWN_DOCUMENT_METADATA)&&T.uploadedByUserId===n.id;if(!C&&!S){fe.error("Δεν έχετε δικαίωμα διαγραφής αυτού του εγγράφου.");return}if(window.confirm(`Είστε σίγουροι ότι θέλετε να διαγράψετε το έγγραφο "${T.fileName}"`))try{await HM(v,n),fe.success("Το έγγραφο (metadata) διαγράφηκε."),r(_=>_.filter(I=>I.id!==v))}catch(_){fe.error(_.message||"Σφάλμα κατά τη διαγραφή του εγγράφου.")}};return o?y.jsxs("div",{className:"p-2 text-xs text-gray-400",children:[y.jsx(me,{name:"spinner",size:"sm",className:"mr-1"})," Φόρτωση εγγράφων..."]}):u?y.jsx("div",{className:"p-2 text-xs text-red-400",children:u}):i.length===0?y.jsx("p",{className:"text-xs text-gray-500 italic",children:U.noAttachmentsYet}):y.jsx("div",{className:"space-y-2",children:i.map(v=>y.jsx(zH,{document:v,onDelete:()=>h(v.id),canDelete:n&&Ft(n.roles,X.DELETE_ANY_DOCUMENT_FILE)||n&&Ft(n.roles,X.MANAGE_ANY_DOCUMENT_METADATA)||n&&Ft(n.roles,X.MANAGE_OWN_DOCUMENT_METADATA)&&v.uploadedByUserId===n.id},v.id))})},na=({label:t,value:e,iconName:n,currency:i})=>{if(e==null||e==="")return null;const r=i&&typeof e=="number"?`${e.toLocaleString("el-GR")} €`:String(e);return y.jsxs("div",{className:"flex items-start text-xs text-gray-400 py-1",children:[n&&y.jsx(me,{name:n,size:"xs",className:"mr-2 mt-0.5 text-gray-500 flex-shrink-0"}),y.jsxs("span",{className:"font-semibold w-36 flex-shrink-0",children:[t,":"]}),y.jsx("span",{className:"text-gray-300 break-words",children:r})]})},FH=({project:t,currentUser:e,containerClassName:n="bg-slate-800 p-4 sm:p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 ease-in-out font-[var(--font-sans)]"})=>{const i=la(v=>v.availableUsers),r=Te(v=>v.openActivityModal),o=Te(v=>v.openDocumentUploadModal),s=t.managerUserId?i.find(v=>v.id===t.managerUserId):null,u=e&&Ft(e.roles,X.CREATE_ACTIVITIES),d=e&&Ft(e.roles,X.UPLOAD_DOCUMENTS),f=()=>{u&&r({entityId:t.id,entityType:"project"})},h=()=>{d&&o({entityId:t.id,entityType:"project"})};return y.jsxs("div",{className:n,children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-[var(--font-heading)] text-[var(--font-size-xl)] sm:text-[var(--font-size-2xl)] font-[var(--font-weight-bold)] text-purple-300",children:t.name}),y.jsx("p",{className:"text-[var(--font-size-xs)] text-gray-400",children:U.projectCardTitle})]}),y.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[d&&y.jsx(we,{variant:"secondary",size:"sm",onClick:h,leftIcon:y.jsx(me,{name:"paperclip",size:"sm"}),children:U.addAttachmentsButton||"Επισύναψη Εγγράφου"}),u&&y.jsx(we,{variant:"secondary",size:"sm",onClick:f,leftIcon:y.jsx(me,{name:"plus",size:"sm"}),children:U.addActivityButtonLabel||"Προσθήκη Ενέργειας"})]})]}),y.jsx("div",{className:"border-b border-slate-700 my-4"}),y.jsxs("div",{children:[y.jsxs("h4",{className:"text-[var(--font-size-sm)] font-[var(--font-weight-semibold)] text-gray-300 mb-1",children:[U.projectDetailsSectionTitle,":"]}),y.jsxs("div",{className:"pl-2 border-l-2 border-gray-700 space-y-0.5",children:[y.jsx(na,{label:U.projectCodeLabel,value:t.projectCode,iconName:"cog"}),y.jsx(na,{label:U.projectLocationLabel,value:t.location,iconName:"pin"}),y.jsx(na,{label:U.projectPhaseLabel,value:t.phase?UH[t.phase]:void 0,iconName:"chartBar"}),y.jsx(na,{label:U.projectBudgetLabel,value:t.budget,iconName:"plus",currency:!0}),y.jsx(na,{label:U.projectStartDateLabel,value:t.startDate?new Date(t.startDate).toLocaleDateString("el-GR"):void 0,iconName:"bell"}),y.jsx(na,{label:U.projectExpectedEndDateLabel,value:t.expectedEndDate?new Date(t.expectedEndDate).toLocaleDateString("el-GR"):void 0,iconName:"bell"}),t.actualEndDate&&y.jsx(na,{label:U.projectActualEndDateLabel,value:new Date(t.actualEndDate).toLocaleDateString("el-GR"),iconName:"checkCircle"}),s&&y.jsx(na,{label:U.projectManagerLabel,value:s.displayName,iconName:"user"}),t.description&&y.jsxs("div",{className:"pt-1",children:[y.jsxs("p",{className:"text-xs font-semibold text-gray-400",children:[U.notesCardLabel,":"]}),y.jsx("p",{className:"text-xs text-gray-300 whitespace-pre-wrap",children:t.description})]})]})]}),y.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[y.jsxs("h4",{className:"text-[var(--font-size-sm)] font-[var(--font-weight-semibold)] text-gray-300 mb-1.5",children:[gg.attachmentsSectionTitle,":"]}),y.jsx(VH,{entityId:t.id,entityType:"project",currentUser:e})]}),y.jsx(ly,{entityId:t.id,entityType:"project",contactDisplayName:t.name,isVoipReady:!1,anyOperationLoadingOverall:!1})]})},BH=({currentUser:t})=>{const e=NM[0];return e?y.jsx("div",{className:"flex-1 flex flex-col overflow-hidden p-2",children:y.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-lg flex flex-col flex-grow overflow-hidden",children:[y.jsx("div",{className:"p-4 border-b border-slate-700 h-16 flex items-end justify-start flex-shrink-0",children:y.jsx("h2",{className:"text-lg font-semibold text-gray-200 mb-0.5",children:"Λεπτομέρειες Έργου"})}),y.jsx(hn,{axis:"y",className:"flex-grow p-4",children:y.jsx(FH,{project:e,containerClassName:"",currentUser:t})})]})}):y.jsx("div",{className:"p-4 text-center text-gray-400",children:"CRM - Δεν βρέθηκαν δεδομένα έργου για εμφάνιση."})},$H=({title:t,message:e,icon:n})=>y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center bg-gray-850 text-gray-400 font-[var(--font-sans)]",children:[n&&y.jsx("div",{className:"mb-4 text-gray-600",children:n}),y.jsx("h1",{className:"font-[var(--font-heading)] text-[var(--font-size-3xl)] font-[var(--font-weight-bold)] text-gray-300 mb-3",children:t}),y.jsx("p",{className:"text-[var(--font-size-lg)]",children:e||U.genericViewPlaceholder(t)})]}),HH=()=>{const t=Te(i=>i.globalSearchTerm),e=Te(i=>i.setGlobalSearchResults),n=kt(i=>i.contacts);N.useEffect(()=>{if(!t.trim()){e(null);return}const i=t.toLowerCase(),r=n.filter(o=>(o.contactType==="naturalPerson"?`${o.basicIdentity.firstName} ${o.basicIdentity.lastName}`.trim():o.name).toLowerCase().includes(i)||o.email&&o.email.toLowerCase().includes(i)||o.contactPhoneNumbers&&o.contactPhoneNumbers.some(u=>u.number.includes(i)));e(r)},[t,n,e])},Ko={IDLE:"IDLE",SENDING:"SENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"},GH=()=>{const[t,e]=N.useState(Ko.IDLE),[n,i]=N.useState(null),r=N.useCallback(async s=>{e(Ko.SENDING),i(null);try{const u=await Pw(s);return u.success?e(Ko.SUCCESS):(e(Ko.ERROR),i(u.error||"An unknown error occurred while sending the email.")),u}catch(u){console.error("Error in useEmailSender:",u),e(Ko.ERROR);const d=u instanceof Error?u.message:"An unexpected error occurred.";return i(d),{success:!1,error:d}}},[]),o=N.useCallback(()=>{e(Ko.IDLE),i(null)},[]);return{sendStatus:t,sendEmail:r,error:n,resetStatus:o}},rA=()=>{const t=Te(D=>D.activeView),e=Te(D=>D.isAiDraftEmailModalOpen),n=Te(D=>D.aiDraftEmailContent),i=Te(D=>D.aiDraftEmailContactName),r=Te(D=>D.aiDraftEmailContactEmail),o=Te(D=>D.aiDraftEmailIsLoading),s=Te(D=>D.aiDraftEmailError),u=Te(D=>D.closeAiDraftEmailModal),{sendEmail:d,resetStatus:f}=GH(),h=la(D=>D.initializeUsers),v=la(D=>D.currentUser),T=Te(D=>D.isModalAlertOpen),C=Te(D=>D.isActivityModalOpen),S=Te(D=>D.isDocumentUploadModalOpen);N.useEffect(()=>{h()},[h]),HH();const E=()=>{switch(t){case"contacts":return y.jsx(YB,{});case"dashboard":return y.jsx(DH,{userRoles:(v==null?void 0:v.roles)||[]});case"users":return y.jsx(MH,{});case"settings":return y.jsx(RH,{});case"phone":return y.jsx(PH,{});case"crmOverview":return y.jsx(BH,{currentUser:v});default:if(t==="dashboard-settings-editor")return y.jsx(iA,{userRoles:(v==null?void 0:v.roles)||[]});const D=`${t}Title`,M=U[D]||"Άγνωστη Οθόνη";return y.jsx($H,{title:M,message:`Περιεχόμενο για την οθόνη '${t}' δεν βρέθηκε.`})}},_=()=>{switch(t){case"dashboard":return U.dashboardTitle;case"users":return U.usersTitle;case"settings":return U.settingsTitle;case"contacts":return"";case"phone":return U.phonePageTitle;case"crmOverview":return U.crmOverviewPageTitle;case"dashboard-settings-editor":return"Ρυθμίσεις Πίνακα Ελέγχου"}return"NESTOR"},I=async D=>{if(!r){fe.error("Δεν βρέθηκε η διεύθυνση email της επαφής.");return}const M={to:[{email:r,name:i}],subject:`Follow-up: ${i}`,bodyText:D},P=fe.loading("Αποστολή email..."),L=await d(M);L.success?fe.success("Το email στάλθηκε (προσομοίωση).",{id:P}):fe.error(`Αποτυχία αποστολής email: ${L.error||" Άγνωστο σφάλμα."}`,{id:P}),f(),u()};return y.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-900 text-gray-100",children:[y.jsx(RD,{}),y.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[y.jsx(BD,{title:_()}),y.jsx("main",{className:`flex-1 overflow-hidden bg-gray-900 rounded-tl-lg
                      transition-all duration-[1500ms] ease-[cubic-bezier(0.55,0,0.67,1.25)]`,children:y.jsx(hn,{axis:"y",className:"h-full p-2 sm:p-4 md:p-6",children:y.jsx(Mh,{children:E()})})})]}),y.jsx(Mk,{position:"top-right",reverseOrder:!1,toastOptions:{className:"",duration:5e3,style:{background:"#374151",color:"#F3F4F6"},success:{duration:3e3,iconTheme:{primary:"green",secondary:"#F3F4F6"}},error:{duration:5e3}}}),T&&y.jsx(Rk,{}),e&&y.jsx(Lk,{isOpen:e,onClose:u,draftContent:n,contactName:i,isLoading:o,error:s,onSendEmail:I}),y.jsx(bM,{}),C&&y.jsx(UM,{}),S&&y.jsx(qM,{})]})},aA=document.getElementById("root");if(!aA)throw new Error("Δεν ήταν δυνατή η εύρεση του στοιχείου root για προσάρτηση");const qH=VC.createRoot(aA);qH.render(y.jsx(De.StrictMode,{children:y.jsx(qC,{children:y.jsx(rA,{})})}));const oA=document.getElementById("root");if(!oA)throw new Error("Δεν ήταν δυνατή η εύρεση του στοιχείου root για προσάρτηση");const WH=VC.createRoot(oA);WH.render(y.jsx(De.StrictMode,{children:y.jsx(qC,{children:y.jsx(rA,{})})}));
